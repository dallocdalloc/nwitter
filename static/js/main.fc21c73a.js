/*! For license information please see main.fc21c73a.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=S&&e[S]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return C(e(t))}catch(n){}}return null}var x,A,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign;function P(e){if(void 0===x)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||"",A=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+x+e+A}var O=!1;function D(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),u=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{O=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?P(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function M(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function U(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function z(e){if(F(e)!==e)throw Error(a(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var j=Array.isArray,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},$=[],H=-1;function W(e){return{current:e}}function K(e){0>H||(e.current=$[H],$[H]=null,H--)}function G(e,t){H++,$[H]=e.current,e.current=t}var Q=W(null),Y=W(null),J=W(null),X=W(null);function Z(e,t){switch(G(J,t),G(Y,e),G(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yc(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Jc(e=Yc(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(Q),G(Q,t)}function ee(){K(Q),K(Y),K(J)}function te(e){null!==e.memoizedState&&G(X,e);var t=Q.current,n=Jc(t,e.type);t!==n&&(G(Y,e),G(Q,n))}function ne(e){Y.current===e&&(K(Q),K(Y)),X.current===e&&(K(X),Mh._currentValue=q)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_e(e)/ke|0)|0},_e=Math.log,ke=Math.LN2;var Ee=128,Se=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=Ie(n):0!==(s&=o)?r=Ie(s):e||0!==(a=o&~a)&&(r=Ie(a)):0!==(o=n&~i)?r=Ie(o):0!==s?r=Ie(s):e||0!==(a=n&~a)&&(r=Ie(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Ee;return 0===(4194176&(Ee<<=1))&&(Ee=128),e}function Ne(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:Jh(e.type)}var Fe=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Fe,ze="__reactProps$"+Fe,Ve="__reactContainer$"+Fe,je="__reactEvents$"+Fe,Be="__reactListeners$"+Fe,qe="__reactHandles$"+Fe,$e="__reactResources$"+Fe,He="__reactMarker$"+Fe;function We(e){delete e[Ue],delete e[ze],delete e[je],delete e[Be],delete e[qe]}function Ke(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=lh(e);null!==e;){if(n=e[Ue])return n;e=lh(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Ue]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ye(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[He]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function at(e,t,n){if(i=t,re.call(st,i)||!re.call(it,i)&&(rt.test(i)?st[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ut(t)):null!=n?vt(e,a,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(j(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Ot=null;function Dt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[ze]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Pt||null!==Ot)&&(Uu(),Pt&&(t=Pt,e=Ot,Ot=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ze]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ut=!1;if(nt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(_d){Ut=!1}var Vt=null,jt=null,Bt=null;function qt(){if(Bt)return Bt;var e,t,n=jt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Wt(){return!1}function Kt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ht:Wt,this.isPropagationStopped=Wt,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Gt,Qt,Yt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Kt(Jt),Zt=R({},Jt,{view:0,detail:0}),en=Kt(Zt),tn=R({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Gt=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=Gt=0,Yt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Kt(tn),rn=Kt(R({},tn,{dataTransfer:0})),sn=Kt(R({},Zt,{relatedTarget:0})),an=Kt(R({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Kt(R({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(R({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return dn}var pn=Kt(R({},Zt,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Kt(R({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(R({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Kt(R({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Kt(R({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Kt(R({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],_n=nt&&"CompositionEvent"in window,kn=null;nt&&"documentMode"in document&&(kn=document.documentMode);var En=nt&&"TextEvent"in window&&!kn,Sn=nt&&(!_n||kn&&8<kn&&11>=kn),In=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Pn(e,t,n,r){Pt?Ot?Ot.push(r):Ot=[r]:Pt=r,0<(t=Mc(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Ln(e){xc(e,0)}function Mn(e){if(dt(Qe(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(nt){var zn;if(nt){var Vn="oninput"in document;if(!Vn){var jn=document.createElement("div");jn.setAttribute("oninput","return;"),Vn="function"===typeof jn.oninput}zn=Vn}else zn=!1;Un=zn&&(!document.documentMode||9<document.documentMode)}function Bn(){On&&(On.detachEvent("onpropertychange",qn),Dn=On=null)}function qn(e){if("value"===e.propertyName&&Mn(Dn)){var t=[];Pn(t,Dn,e,Rt(e)),Mt(Ln,t)}}function $n(e,t,n){"focusin"===e?(Bn(),Dn=n,(On=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Bn()}function Hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Dn)}function Wn(e,t){if("click"===e)return Mn(t)}function Kn(e,t){if("input"===e||"change"===e)return Mn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Jn(t,s);var a=Jn(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Qn(sr,r)||(sr=r,0<(r=Mc(ir,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},hr={};function dr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return cr[e]=n[t];return e}nt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),wr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),et(t,[e])}var Er=[],Sr=0,Ir=0;function Tr(){for(var e=Sr,t=Ir=Sr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var s=Er[t];if(Er[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Nr(n,i,s)}}function Cr(e,t,n,r){Er[Sr++]=e,Er[Sr++]=t,Er[Sr++]=n,Er[Sr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function xr(e,t,n,r){return Cr(e,t,n,r),Rr(e)}function Ar(e,t){return Cr(e,null,null,t),Rr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-we(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function Rr(e){if(50<xu)throw xu=0,Au=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={},Or=new WeakMap;function Dr(e,t){if("object"===typeof e&&null!==e){var n=Or.get(e);return void 0!==n?n:(t={value:e,source:t,stack:M(t)},Or.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var Lr=[],Mr=0,Fr=null,Ur=0,zr=[],Vr=0,jr=null,Br=1,qr="";function $r(e,t){Lr[Mr++]=Ur,Lr[Mr++]=Fr,Fr=e,Ur=t}function Hr(e,t,n){zr[Vr++]=Br,zr[Vr++]=qr,zr[Vr++]=jr,jr=e;var r=Br;e=qr;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Br=1<<32-we(t)+i|n<<i|r,qr=s+e}else Br=1<<s|n<<i|r,qr=e}function Wr(e){null!==e.return&&($r(e,1),Hr(e,1,0))}function Kr(e){for(;e===Fr;)Fr=Lr[--Mr],Lr[Mr]=null,Ur=Lr[--Mr],Lr[Mr]=null;for(;e===jr;)jr=zr[--Vr],zr[Vr]=null,qr=zr[--Vr],zr[Vr]=null,Br=zr[--Vr],zr[Vr]=null}var Gr=null,Qr=null,Yr=!1,Jr=null,Xr=!1,Zr=Error(a(519));function ei(e){throw si(Dr(Error(a(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[ze]=r,n){case"dialog":Ac("cancel",t),Ac("close",t);break;case"iframe":case"object":case"embed":Ac("load",t);break;case"video":case"audio":for(n=0;n<Tc.length;n++)Ac(Tc[n],t);break;case"source":Ac("error",t);break;case"img":case"image":case"link":Ac("error",t),Ac("load",t);break;case"details":Ac("toggle",t);break;case"input":Ac("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Ac("invalid",t);break;case"textarea":Ac("invalid",t),_t(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Bc(t.textContent,n)?(null!=r.popover&&(Ac("beforetoggle",t),Ac("toggle",t)),null!=r.onScroll&&Ac("scroll",t),null!=r.onScrollEnd&&Ac("scrollend",t),null!=r.onClick&&(t.onclick=qc),t=!0):t=!1,t||ei(e)}function ni(e){for(Gr=e.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Gr=Gr.return}}function ri(e){if(e!==Gr)return!1;if(!Yr)return ni(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xc(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qr=oh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qr=null}}else Qr=Gr?oh(e.stateNode.nextSibling):null;return!0}function ii(){Qr=Gr=null,Yr=!1}function si(e){null===Jr?Jr=[e]:Jr.push(e)}var ai=Error(a(460)),oi=Error(a(474)),li={then:function(){}};function ui(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ci(){}function hi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ci,ci),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(ci,ci);else{if(null!==(e=tu)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw di=t,ai}}var di=null;function fi(){if(null===di)throw Error(a(459));var e=di;return di=null,e}var pi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),hi(pi,e,t)}function yi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function vi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var s=n.type;return s===h?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&bi(s)===t.type)?(yi(t=i(t,n.props),n),t.return=e,t):(yi(t=zl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,s){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return yi(n=zl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case c:return(t=ql(t,e.mode,n)).return=e,t;case _:return m(e,t=(0,t._init)(t._payload),n)}if(j(t)||I(t))return(t=Vl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,To(e,t),n);vi(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?d(e,t,n,r):null;case c:return n.key===i?f(e,t,n,r):null;case _:return y(e,t,n=(i=n._init)(n._payload),r)}if(j(n)||I(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return y(e,t,gi(n),r);if(n.$$typeof===g)return y(e,t,To(e,n),r);vi(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(j(r)||I(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,gi(r),i);if(r.$$typeof===g)return v(e,t,n,To(t,r),i);vi(t,r)}return null}function b(l,d,f,p){if("object"===typeof f&&null!==f&&f.type===h&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case u:e:{for(var w=f.key;null!==d;){if(d.key===w){if((w=f.type)===h){if(7===d.tag){n(l,d.sibling),(p=i(d,f.props.children)).return=l,l=p;break e}}else if(d.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===_&&bi(w)===d.type){n(l,d.sibling),yi(p=i(d,f.props),f),p.return=l,l=p;break e}n(l,d);break}t(l,d),d=d.sibling}f.type===h?((p=Vl(f.props.children,l.mode,p,f.key)).return=l,l=p):(yi(p=zl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return o(l);case c:e:{for(w=f.key;null!==d;){if(d.key===w){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(l,d.sibling),(p=i(d,f.children||[])).return=l,l=p;break e}n(l,d);break}t(l,d),d=d.sibling}(p=ql(f,l.mode,p)).return=l,l=p}return o(l);case _:return b(l,d,f=(w=f._init)(f._payload),p)}if(j(f))return function(i,a,o,l){for(var u=null,c=null,h=a,d=a=0,f=null;null!==h&&d<o.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=y(i,h,o[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),a=s(p,a,d),null===c?u=p:c.sibling=p,c=p,h=f}if(d===o.length)return n(i,h),Yr&&$r(i,d),u;if(null===h){for(;d<o.length;d++)null!==(h=m(i,o[d],l))&&(a=s(h,a,d),null===c?u=h:c.sibling=h,c=h);return Yr&&$r(i,d),u}for(h=r(h);d<o.length;d++)null!==(f=v(h,i,d,o[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),a=s(f,a,d),null===c?u=f:c.sibling=f,c=f);return e&&h.forEach((function(e){return t(i,e)})),Yr&&$r(i,d),u}(l,d,f,p);if(I(f)){if("function"!==typeof(w=I(f)))throw Error(a(150));return function(i,o,l,u){if(null==l)throw Error(a(151));for(var c=null,h=null,d=o,f=o=0,p=null,g=l.next();null!==d&&!g.done;f++,g=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var b=y(i,d,g.value,u);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(i,d),o=s(b,o,f),null===h?c=b:h.sibling=b,h=b,d=p}if(g.done)return n(i,d),Yr&&$r(i,f),c;if(null===d){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,u))&&(o=s(g,o,f),null===h?c=g:h.sibling=g,h=g);return Yr&&$r(i,f),c}for(d=r(d);!g.done;f++,g=l.next())null!==(g=v(d,i,f,g.value,u))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=s(g,o,f),null===h?c=g:h.sibling=g,h=g);return e&&d.forEach((function(e){return t(i,e)})),Yr&&$r(i,f),c}(l,d,f=w.call(f),p)}if("function"===typeof f.then)return b(l,d,gi(f),p);if(f.$$typeof===g)return b(l,d,To(l,f),p);vi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==d&&6===d.tag?(n(l,d.sibling),(p=i(d,f)).return=l,l=p):(n(l,d),(p=Bl(f,l.mode,p)).return=l,l=p),o(l)):n(l,d)}return function(e,t,n,r){try{mi=0;var i=b(e,t,n,r);return pi=null,i}catch(a){if(a===ai)throw a;var s=Ll(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var _i=wi(!0),ki=wi(!1),Ei=W(null),Si=W(0);function Ii(e,t){G(Si,e=uu),G(Ei,t),uu=e|t.baseLanes}function Ti(){G(Si,uu),G(Ei,Ei.current)}function Ci(){uu=Si.current,K(Ei),K(Si)}var xi=W(null),Ai=null;function Ni(e){var t=e.alternate;G(Di,1&Di.current),G(xi,e),null===Ai&&(null===t||null!==Ei.current||null!==t.memoizedState)&&(Ai=e)}function Ri(e){if(22===e.tag){if(G(Di,Di.current),G(xi,e),null===Ai){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ai=e)}}else Pi()}function Pi(){G(Di,Di.current),G(xi,xi.current)}function Oi(e){K(xi),Ai===e&&(Ai=null),K(Di)}var Di=W(0);function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fi=r.unstable_scheduleCallback,Ui=r.unstable_NormalPriority,zi={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Mi,data:new Map,refCount:0}}function ji(e){e.refCount--,0===e.refCount&&Fi(Ui,(function(){e.controller.abort()}))}var Bi=null,qi=0,$i=0,Hi=null;function Wi(){if(0===--qi&&null!==Bi){null!==Hi&&(Hi.status="fulfilled");var e=Bi;Bi=null,$i=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=N.S;N.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,$i=_c(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Wi,Wi)}(0,t),null!==Ki&&Ki(e,t)};var Gi=W(null);function Qi(){var e=Gi.current;return null!==e?e:tu.pooledCache}function Yi(e,t){G(Gi,null===t?Gi.current:t.pool)}function Ji(){var e=Qi();return null===e?null:{parent:zi._currentValue,pool:e}}var Xi=0,Zi=null,es=null,ts=null,ns=!1,rs=!1,is=!1,ss=0,as=0,os=null,ls=0;function us(){throw Error(a(321))}function cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function hs(e,t,n,r,i,s){return Xi=s,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Ia:Ta,is=!1,s=n(r,i),is=!1,rs&&(s=fs(t,n,r,i)),ds(e),s}function ds(e){N.H=Sa;var t=null!==es&&null!==es.next;if(Xi=0,ts=es=Zi=null,ns=!1,as=0,os=null,t)throw Error(a(300));null===e||qa||null!==(e=e.dependencies)&&Eo(e)&&(qa=!0)}function fs(e,t,n,r){Zi=e;var i=0;do{if(rs&&(os=null),as=0,rs=!1,25<=i)throw Error(a(301));if(i+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}N.H=Ca,s=t(n,r)}while(rs);return s}function ps(){var e=N.H,t=e.useState()[0];return t="function"===typeof t.then?ws(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Zi.flags|=1024),t}function ms(){var e=0!==ss;return ss=0,e}function gs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ys(e){if(ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ns=!1}Xi=0,ts=es=Zi=null,rs=!1,as=ss=0,os=null}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zi.memoizedState=ts=e:ts=ts.next=e,ts}function bs(){if(null===es){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zi.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Zi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zi.memoizedState=ts=e:ts=ts.next=e}return ts}function ws(e){var t=as;return as+=1,null===os&&(os=[]),e=hi(os,e,t),t=Zi,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Ia:Ta),e}function _s(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ws(e);if(e.$$typeof===g)return Io(e)}throw Error(a(438,String(e)))}function ks(e){var t=null,n=Zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Es(e,t){return"function"===typeof t?t(e):t}function Ss(e){return Is(bs(),es,e)}function Is(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,u=null,c=t=i.next,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(ru&d)===d:(Xi&d)===d){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===$i&&(h=!0);else{if((Xi&f)===f){c=c.next,f===$i&&(h=!0);continue}d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,o=s):u=u.next=d,Zi.lanes|=f,hu|=f}d=c.action,is&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,o=s):u=u.next=f,Zi.lanes|=d,hu|=d;c=c.next}while(null!==c&&c!==t);if(null===u?o=s:u.next=l,!Gn(s,e.memoizedState)&&(qa=!0,h&&null!==(n=Hi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=u,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ts(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Gn(s,t.memoizedState)||(qa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(e,t,n){var r=Zi,i=bs(),s=Yr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Gn((es||i).memoizedState,n);if(o&&(i.memoizedState=n,qa=!0),i=i.queue,Xs(Ns.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ts&&1&ts.memoizedState.tag){if(r.flags|=2048,Ks(9,As.bind(null,r,i,n,t),{destroy:void 0},null),null===tu)throw Error(a(349));s||0!==(60&Xi)||xs(r,t,n)}return n}function xs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Rs(t)&&Ps(e)}function Ns(e,t,n){return n((function(){Rs(t)&&Ps(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Ps(e){var t=Ar(e,2);null!==t&&Pu(t,e,2)}function Os(e){var t=vs();if("function"===typeof e){var n=e;if(e=n(),is){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t}function Ds(e,t,n,r){return e.baseState=n,Is(e,es,"function"===typeof r?r:Es)}function Ls(e,t,n,r,i){if(_a(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==N.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ms(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ms(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=N.T,a={};N.T=a;try{var o=n(i,r),l=N.S;null!==l&&l(a,o),Fs(e,t,o)}catch(u){zs(e,t,u)}finally{N.T=s}}else try{Fs(e,t,s=n(i,r))}catch(c){zs(e,t,c)}}function Fs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Us(e,t,n)}),(function(n){return zs(e,t,n)})):Us(e,t,n)}function Us(e,t,n){t.status="fulfilled",t.value=n,Vs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ms(e,n)))}function zs(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Vs(t),t=t.next}while(t!==r)}e.action=null}function Vs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function js(e,t){return t}function Bs(e,t){if(Yr){var n=tu.formState;if(null!==n){e:{var r=Zi;if(Yr){if(Qr){t:{for(var i=Qr,s=Xr;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=oh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Qr=oh(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=vs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:t},n.queue=r,n=va.bind(null,Zi,r),r.dispatch=n,r=Os(!1),s=wa.bind(null,Zi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=vs()).queue=i,n=Ls.bind(null,Zi,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function qs(e){return $s(bs(),es,e)}function $s(e,t,n){t=Is(e,t,js)[0],e=Ss(Es)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?ws(t):t;var r=bs(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Ks(9,Hs.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function Hs(e,t){e.action=t}function Ws(e){var t=bs(),n=es;if(null!==n)return $s(t,n,e);bs(),t=t.memoizedState;var r=(n=bs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ks(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gs(){return bs().memoizedState}function Qs(e,t,n,r){var i=vs();Zi.flags|=e,i.memoizedState=Ks(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ys(e,t,n,r){var i=bs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==es&&null!==r&&cs(r,es.memoizedState.deps)?i.memoizedState=Ks(t,n,s,r):(Zi.flags|=e,i.memoizedState=Ks(1|t,n,s,r))}function Js(e,t){Qs(8390656,8,e,t)}function Xs(e,t){Ys(2048,8,e,t)}function Zs(e,t){return Ys(4,2,e,t)}function ea(e,t){return Ys(4,4,e,t)}function ta(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function na(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ys(4,4,ta.bind(null,t,e),n)}function ra(){}function ia(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sa(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&cs(t,r[1]))return r[0];if(r=e(),is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function aa(e,t,n){return void 0===n||0!==(1073741824&Xi)?e.memoizedState=t:(e.memoizedState=n,e=Ru(),Zi.lanes|=e,hu|=e,n)}function oa(e,t,n,r){return Gn(n,t)?n:null!==Ei.current?(e=aa(e,n,r),Gn(e,t)||(qa=!0),e):0===(42&Xi)?(qa=!0,e.memoizedState=n):(e=Ru(),Zi.lanes|=e,hu|=e,t)}function la(e,t,n,r,i){var s=B.p;B.p=0!==s&&8>s?s:8;var a=N.T,o={};N.T=o,wa(e,!1,t,n);try{var l=i(),u=N.S;if(null!==u&&u(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ba(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Nu());else ba(e,t,r,Nu())}catch(c){ba(e,t,{then:function(){},status:"rejected",reason:c},Nu())}finally{B.p=s,N.T=a}}function ua(){}function ca(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=ha(e).queue;la(e,i,t,q,null===n?ua:function(){return da(e),n(r)})}function ha(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:q},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function da(e){ba(e,ha(e).next.queue,{},Nu())}function fa(){return Io(Mh)}function pa(){return bs().memoizedState}function ma(){return bs().memoizedState}function ga(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nu(),r=Po(t,e=Ro(n),n);return null!==r&&(Pu(r,t,n),Oo(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function ya(e,t,n){var r=Nu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},_a(e)?ka(t,n):null!==(n=xr(e,t,n,r))&&(Pu(n,e,r),Ea(n,t,r))}function va(e,t,n){ba(e,t,n,Nu())}function ba(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(_a(e))ka(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Gn(o,a))return Cr(e,t,i,0),null===tu&&Tr(),!1}catch(l){}if(null!==(n=xr(e,t,i,r)))return Pu(n,e,r),Ea(n,t,r),!0}return!1}function wa(e,t,n,r){if(r={lane:2,revertLane:_c(),action:r,hasEagerState:!1,eagerState:null,next:null},_a(e)){if(t)throw Error(a(479))}else null!==(t=xr(e,n,r,2))&&Pu(t,e,2)}function _a(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function ka(e,t){rs=ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ea(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var Sa={readContext:Io,use:_s,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useLayoutEffect:us,useInsertionEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useSyncExternalStore:us,useId:us};Sa.useCacheRefresh=us,Sa.useMemoCache=us,Sa.useHostTransitionStatus=us,Sa.useFormState=us,Sa.useActionState=us,Sa.useOptimistic=us;var Ia={readContext:Io,use:_s,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Js,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qs(4194308,4,ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){Qs(4,2,e,t)},useMemo:function(e,t){var n=vs();t=void 0===t?null:t;var r=e();if(is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=vs();if(void 0!==n){var i=n(t);if(is){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ya.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:function(e){var t=(e=Os(e)).queue,n=va.bind(null,Zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ra,useDeferredValue:function(e,t){return aa(vs(),e,t)},useTransition:function(){var e=Os(!1);return e=la.bind(null,Zi,e.queue,!0,!1),vs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zi,i=vs();if(Yr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tu)throw Error(a(349));0!==(60&ru)||xs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Js(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Ks(9,As.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=vs(),t=tu.identifierPrefix;if(Yr){var n=qr;t=":"+t+"R"+(n=(Br&~(1<<32-we(Br)-1)).toString(32)+n),0<(n=ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ls++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return vs().memoizedState=ga.bind(null,Zi)}};Ia.useMemoCache=ks,Ia.useHostTransitionStatus=fa,Ia.useFormState=Bs,Ia.useActionState=Bs,Ia.useOptimistic=function(e){var t=vs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wa.bind(null,Zi,!0,n),n.dispatch=t,[e,t]};var Ta={readContext:Io,use:_s,useCallback:ia,useContext:Io,useEffect:Xs,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ea,useMemo:sa,useReducer:Ss,useRef:Gs,useState:function(){return Ss(Es)},useDebugValue:ra,useDeferredValue:function(e,t){return oa(bs(),es.memoizedState,e,t)},useTransition:function(){var e=Ss(Es)[0],t=bs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:Cs,useId:pa};Ta.useCacheRefresh=ma,Ta.useMemoCache=ks,Ta.useHostTransitionStatus=fa,Ta.useFormState=qs,Ta.useActionState=qs,Ta.useOptimistic=function(e,t){return Ds(bs(),0,e,t)};var Ca={readContext:Io,use:_s,useCallback:ia,useContext:Io,useEffect:Xs,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ea,useMemo:sa,useReducer:Ts,useRef:Gs,useState:function(){return Ts(Es)},useDebugValue:ra,useDeferredValue:function(e,t){var n=bs();return null===es?aa(n,e,t):oa(n,es.memoizedState,e,t)},useTransition:function(){var e=Ts(Es)[0],t=bs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:Cs,useId:pa};function xa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ca.useCacheRefresh=ma,Ca.useMemoCache=ks,Ca.useHostTransitionStatus=fa,Ca.useFormState=Ws,Ca.useActionState=Ws,Ca.useOptimistic=function(e,t){var n=bs();return null!==es?Ds(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Aa={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nu(),i=Ro(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Po(e,i,r))&&(Pu(t,e,r),Oo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nu(),i=Ro(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Po(e,i,r))&&(Pu(t,e,r),Oo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nu(),r=Ro(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Po(e,r,n))&&(Pu(t,e,n),Oo(t,e,n))}};function Na(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,s))}function Ra(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function Pa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=R({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Oa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Da(e){Oa(e)}function La(e){console.error(e)}function Ma(e){Oa(e)}function Fa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ua(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function za(e,t,n){return(n=Ro(n)).tag=3,n.payload={element:null},n.callback=function(){Fa(e,t)},n}function Va(e){return(e=Ro(e)).tag=3,e}function ja(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Ua(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ua(t,n,r),"function"!==typeof i&&(null===ku?ku=new Set([this]):ku.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ba=Error(a(461)),qa=!1;function $a(e,t,n,r){t.child=null===e?ki(t,null,n,r):_i(t,e.child,n,r)}function Ha(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return So(t),r=hs(e,t,n,a,s,i),o=ms(),null===e||qa?(Yr&&o&&Wr(t),t.flags|=1,$a(e,t,r,i),t.child):(gs(e,t,i),ho(e,t,i))}function Wa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ml(s)||void 0!==s.defaultProps||null!==n.compare?((e=zl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ka(e,t,s,r,i))}if(s=e.child,!fo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return ho(e,t,i)}return t.flags|=1,(e=Fl(s,r)).ref=t.ref,e.return=t,t.child=e}function Ka(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Qn(s,r)&&e.ref===t.ref){if(qa=!1,t.pendingProps=r=s,!fo(e,i))return t.lanes=e.lanes,ho(e,t,i);0!==(131072&e.flags)&&(qa=!0)}}return Ja(e,t,n,r,i)}function Ga(e,t,n){var r=t.pendingProps,i=r.children,s=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ya(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Qa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Qa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==a?a.cachePool:null),null!==a?Ii(t,a):Ti(),Ri(t)}else null!==a?(Yi(0,a.cachePool),Ii(t,a),Pi(),t.memoizedState=null):(null!==e&&Yi(0,null),Ti(),Pi());return $a(e,t,i,n),t.child}function Qa(e,t,n,r){var i=Qi();return i=null===i?null:{parent:zi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Yi(0,null),Ti(),Ri(t),null!==e&&ko(e,t,r,!0),null}function Ya(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Ja(e,t,n,r,i){return So(t),n=hs(e,t,n,r,void 0,i),r=ms(),null===e||qa?(Yr&&r&&Wr(t),t.flags|=1,$a(e,t,n,i),t.child):(gs(e,t,i),ho(e,t,i))}function Xa(e,t,n,r,i,s){return So(t),t.updateQueue=null,n=fs(t,r,n,i),ds(e),r=ms(),null===e||qa?(Yr&&r&&Wr(t),t.flags|=1,$a(e,t,n,s),t.child):(gs(e,t,s),ho(e,t,s))}function Za(e,t,n,r,i){if(So(t),null===t.stateNode){var s=Pr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Io(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Aa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Ao(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Io(a):Pr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(xa(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&Aa.enqueueReplaceState(s,s.state,null),Fo(t,r,s,i),Mo(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=Pa(n,o);s.props=l;var u=s.context,c=n.contextType;a=Pr,"object"===typeof c&&null!==c&&(a=Io(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||u!==a)&&Ra(t,s,r,a),xo=!1;var d=t.memoizedState;s.state=d,Fo(t,r,s,i),Mo(),u=t.memoizedState,o||d!==u||xo?("function"===typeof h&&(xa(t,n,h,r),u=t.memoizedState),(l=xo||Na(t,n,l,r,d,u,a))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,No(e,t),c=Pa(n,a=t.memoizedProps),s.props=c,h=t.pendingProps,d=s.context,u=n.contextType,l=Pr,"object"===typeof u&&null!==u&&(l=Io(u)),(u="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Ra(t,s,r,l),xo=!1,d=t.memoizedState,s.state=d,Fo(t,r,s,i),Mo();var f=t.memoizedState;a!==h||d!==f||xo||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof o&&(xa(t,n,o,r),f=t.memoizedState),(c=xo||Na(t,n,c,r,d,f,l)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ya(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=_i(t,e.child,null,i),t.child=_i(t,null,n,i)):$a(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ho(e,t,i),e}function eo(e,t,n,r){return ii(),t.flags|=256,$a(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Ji()}}function ro(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pu),e}function io(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Di.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(s?Ni(t):Pi(),Yr){var l,u=Qr;if(l=u){e:{for(l=u,u=Xr;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=oh(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==jr?{id:Br,overflow:qr}:null,retryLane:536870912},(l=Ll(18,null,null,0)).stateNode=u,l.return=t,t.child=l,Gr=t,Qr=null,l=!0):l=!1}l||ei(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return"$!"===u.data?t.lanes=16:t.lanes=536870912,null;Oi(t)}return u=i.children,i=i.fallback,s?(Pi(),u=ao({mode:"hidden",children:u},s=t.mode),i=Vl(i,s,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(s=t.child).memoizedState=no(n),s.childLanes=ro(e,r,n),t.memoizedState=to,i):(Ni(t),so(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(o)256&t.flags?(Ni(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(Pi(),t.child=e.child,t.flags|=128,t=null):(Pi(),s=i.fallback,u=t.mode,i=ao({mode:"visible",children:i.children},u),(s=Vl(s,u,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,_i(t,e.child,null,n),(i=t.child).memoizedState=no(n),i.childLanes=ro(e,r,n),t.memoizedState=to,t=s);else if(Ni(t),"$!"===u.data){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(a(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),t=oo(e,t,n)}else if(qa||ko(e,t,n,!1),r=0!==(n&e.childLanes),qa||r){if(null!==(r=tu)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Ar(e,i),Pu(r,e,i),Ba}"$?"===u.data||$u(),t=oo(e,t,n)}else"$?"===u.data?(t.flags|=128,t.child=e.child,t=oc.bind(null,e),u._reactRetry=t,t=null):(e=l.treeContext,Qr=oh(u.nextSibling),Gr=t,Yr=!0,Jr=null,Xr=!1,null!==e&&(zr[Vr++]=Br,zr[Vr++]=qr,zr[Vr++]=jr,Br=e.id,qr=e.overflow,jr=t),(t=so(t,i.children)).flags|=4096);return t}return s?(Pi(),s=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=Fl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==c?s=Fl(c,s):(s=Vl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(u=e.child.memoizedState)?u=no(n):(null!==(l=u.cachePool)?(c=zi._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ji(),u={baseLanes:u.baseLanes|n,cachePool:l}),s.memoizedState=u,s.childLanes=ro(e,r,n),t.memoizedState=to,i):(Ni(t),e=(n=e.child).sibling,(n=Fl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function so(e,t){return(t=ao({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ao(e,t){return jl(e,t,0,null)}function oo(e,t,n){return _i(t,e.child,null,n),(e=so(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function uo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function co(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if($a(e,t,r.children,n),0!==(2&(r=Di.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lo(e,n,t);else if(19===e.tag)lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(G(Di,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Li(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}uo(t,!0,n,null,s);break;case"together":uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ko(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function po(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)qa=!0;else{if(!fo(e,n)&&0===(128&t.flags))return qa=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),vo(t,zi,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:vo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ni(t),t.flags|=128,null):0!==(n&t.child.childLanes)?io(e,t,n):(Ni(t),null!==(e=ho(e,t,n))?e.sibling:null);Ni(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ko(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return co(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(Di,Di.current),r)break;return null;case 22:case 23:return t.lanes=0,Ga(e,t,n);case 24:vo(t,zi,e.memoizedState.cache)}return ho(e,t,n)}(e,t,n);qa=0!==(131072&e.flags)}else qa=!1,Yr&&0!==(1048576&t.flags)&&Hr(t,Ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===y){t.tag=11,t=Ha(null,t,r,e,n);break e}if(i===w){t.tag=14,t=Wa(null,t,r,e,n);break e}}throw t=C(r)||r,Error(a(306,t,""))}Ml(r)?(e=Pa(r,e),t.tag=1,t=Za(null,t,r,e,n)):(t.tag=0,t=Ja(null,t,r,e,n))}return t;case 0:return Ja(e,t,t.type,t.pendingProps,n);case 1:return Za(e,t,r=t.type,i=Pa(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var s=t.pendingProps;r=(i=t.memoizedState).element,No(e,t),Fo(t,s,null,n);var o=t.memoizedState;if(s=o.cache,vo(t,zi,s),s!==i.cache&&_o(t,[zi],n,!0),Mo(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=eo(e,t,s,n);break e}if(s!==r){si(r=Dr(Error(a(424)),t)),t=eo(e,t,s,n);break e}for(Qr=oh(t.stateNode.containerInfo.firstChild),Gr=t,Yr=!0,Jr=null,Xr=!0,n=ki(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){t=ho(e,t,n);break e}$a(e,t,s,n)}t=t.child}return t;case 26:return Ya(e,t),null===e?(n=gh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Qc(J.current).createElement(n))[Ue]=t,r[ze]=e,Wc(r,n,e),Je(r),t.stateNode=r):t.memoizedState=gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=uh(t.type,t.pendingProps,J.current),Gr=t,Xr=!0,Qr=oh(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?$a(e,t,r,n):t.child=_i(t,null,r,n),Ya(e,t),t.child;case 5:return null===e&&Yr&&((i=r=Qr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=oh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Gr=t,Qr=oh(r.firstChild),Xr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,Xc(i,s)?r=null:null!==o&&Xc(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=hs(e,t,ps,null,null,n),Mh._currentValue=i),Ya(e,t),$a(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Qr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=oh(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Gr=t,Qr=null,e=!0):e=!1),e||ei(t)),null;case 13:return io(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_i(t,null,r,n):$a(e,t,r,n),t.child;case 11:return Ha(e,t,t.type,t.pendingProps,n);case 7:return $a(e,t,t.pendingProps,n),t.child;case 8:case 12:return $a(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,vo(t,t.type,r.value),$a(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,So(t),r=r(i=Io(i)),t.flags|=1,$a(e,t,r,n),t.child;case 14:return Wa(e,t,t.type,t.pendingProps,n);case 15:return Ka(e,t,t.type,t.pendingProps,n);case 19:return co(e,t,n);case 22:return Ga(e,t,n);case 24:return So(t),r=Io(zi),null===e?(null===(i=Qi())&&(i=tu,s=Vi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},Ao(t),vo(t,zi,i)):(0!==(e.lanes&n)&&(No(e,t),Fo(t,null,null,n),Mo()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),vo(t,zi,r)):(r=s.cache,vo(t,zi,r),r!==i.cache&&_o(t,[zi],n,!0))),$a(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var mo=W(null),go=null,yo=null;function vo(e,t,n){G(mo,t._currentValue),t._currentValue=n}function bo(e){e._currentValue=mo.current,K(mo)}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wo(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wo(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function ko(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Gn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===X.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Mh):e=[Mh])}i=i.return}null!==e&&_o(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function So(e){go=e,yo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Io(e){return Co(go,e)}function To(e,t){return null===go&&So(e),Co(e,t)}function Co(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yo){if(null===e)throw Error(a(308));yo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yo=yo.next=t;return n}var xo=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ro(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&eu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Nr(e,null,n),t}return Cr(e,r,t,n),Rr(e)}function Oo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lo=!1;function Mo(){if(Lo){if(null!==Hi)throw Hi}}function Fo(e,t,n,r){Lo=!1;var i=e.updateQueue;xo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=-536870913&o.lane,f=d!==o.lane;if(f?(ru&d)===d:(r&d)===d){0!==d&&d===$i&&(Lo=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,m=o;d=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(g,h,d):p)||void 0===d)break e;h=R({},h,d);break e;case 2:xo=!0}}null!==(d=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[d]:f.push(d))}else f={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===s&&(i.shared.lanes=0),hu|=a,e.lanes=a,e.memoizedState=h}}function Uo(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function zo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Uo(n[e],t)}function Vo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){rc(t,t.return,o)}}function jo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n;try{o()}catch(u){rc(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){rc(t,t.return,u)}}function Bo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{zo(t,n)}catch(r){rc(e,e.return,r)}}}function qo(e,t,n){n.props=Pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){rc(e,t,r)}}function $o(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){rc(e,t,s)}}function Ho(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){rc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){rc(e,t,s)}else n.current=null}function Wo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){rc(e,e.return,i)}}function Ko(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:r.hasOwnProperty(p)||$c(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&$c(e,t,f,p,r,d)}}return void gt(e,o,l,u,c,h,s,i);case"select":for(s in p=o=l=f=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(s)||$c(e,t,s,null,r,u)}for(i in r)if(s=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=s||null!=u))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==u&&$c(e,t,i,s,r,u)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:$c(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&$c(e,t,o,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else $c(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else $c(e,t,u,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&$c(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:$c(e,t,c,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Hc(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Hc(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&$c(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||$c(e,t,d,f,r,p)}(r,e.type,n,t),r[ze]=t}catch(i){rc(e,e.return,i)}}function Go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Yo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qc));else if(4!==r&&27!==r&&null!==(e=e.child))for(Yo(e,t,n),e=e.sibling;null!==e;)Yo(e,t,n),e=e.sibling}function Jo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Jo(e,t,n),e=e.sibling;null!==e;)Jo(e,t,n),e=e.sibling}var Xo=!1,Zo=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yl(e,n),4&r&&Vo(5,n);break;case 1:if(yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){rc(n,n.return,o)}else{var i=Pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){rc(n,n.return,l)}}64&r&&Bo(n),512&r&&$o(n,n.return);break;case 3:if(yl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{zo(r,e)}catch(o){rc(n,n.return,o)}}break;case 26:yl(e,n),512&r&&$o(n,n.return);break;case 27:case 5:yl(e,n),null===t&&4&r&&Wo(n),512&r&&$o(n,n.return);break;case 12:default:yl(e,n);break;case 13:yl(e,n),4&r&&cl(e,n);break;case 22:if(!(i=null!==n.memoizedState||Xo)){t=null!==t&&null!==t.memoizedState||Zo;var s=Xo,a=Zo;Xo=i,(Zo=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):yl(e,n),Xo=s,Zo=a}512&r&&("manual"===n.memoizedProps.mode?$o(n,n.return):Ho(n,n.return))}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,ol=!1;function ll(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:Zo||Ho(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||Ho(n,t);var r=al,i=ol;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);We(n),al=r,ol=i;break;case 5:Zo||Ho(n,t);case 6:i=al;var s=ol;if(al=null,ll(e,t,n),ol=s,null!==(al=i))if(ol)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){rc(n,t,o)}else try{al.removeChild(n.stateNode)}catch(o){rc(n,t,o)}break;case 18:null!==al&&(ol?(t=al,n=n.stateNode,8===t.nodeType?sh(t.parentNode,n):1===t.nodeType&&sh(t,n),md(t)):sh(al,n.stateNode));break;case 4:r=al,i=ol,al=n.stateNode.containerInfo,ol=!0,ll(e,t,n),al=r,ol=i;break;case 0:case 11:case 14:case 15:Zo||jo(2,n,t),Zo||jo(4,n,t),ll(e,t,n);break;case 1:Zo||(Ho(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&qo(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zo||Ho(n,t),Zo=(r=Zo)||null!==n.memoizedState,ll(e,t,n),Zo=r;break;default:ll(e,t,n)}}function cl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{md(e)}catch(n){rc(t,t.return,n)}}function hl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,ol=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(null===al)throw Error(a(160));ul(s,o,i),al=null,ol=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dl(t,e),ml(e),4&r&&(jo(3,e,e.return),Vo(3,e),jo(5,e,e.return));break;case 1:dl(t,e),ml(e),512&r&&(Zo||null===n||Ho(n,n.return)),64&r&&Xo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fl;if(dl(t,e),ml(e),512&r&&(Zo||null===n||Ho(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[He]||s[Ue]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Wc(s,r,n),s[Ue]=e,Je(s),r=s;break e;case"link":var o=Ch("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Wc(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Ch("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Wc(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Ue]=e,Je(s),r=s}e.stateNode=r}else xh(i,e.type,e.stateNode);else e.stateNode=kh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?xh(i,e.type,e.stateNode):kh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ko(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,s=e.memoizedProps;try{for(var u=i.firstChild;u;){var c=u.nextSibling,h=u.nodeName;u[He]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===u.rel.toLowerCase()||i.removeChild(u),u=c}for(var d=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Wc(i,d,s),i[Ue]=e,i[ze]=s}catch(m){rc(e,e.return,m)}}case 5:if(dl(t,e),ml(e),512&r&&(Zo||null===n||Ho(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(m){rc(e,e.return,m)}}4&r&&null!=e.stateNode&&Ko(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(dl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){rc(e,e.return,m)}}break;case 3:if(Th=null,i=fl,fl=dh(t.containerInfo),dl(t,e),fl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{md(t.containerInfo)}catch(m){rc(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=fl,fl=dh(e.stateNode.containerInfo),dl(t,e),ml(e),fl=r;break;case 12:dl(t,e),ml(e);break;case 13:dl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bu=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 22:if(512&r&&(Zo||null===n||Ho(n,n.return)),u=null!==e.memoizedState,c=null!==n&&null!==n.memoizedState,Xo=(h=Xo)||u,Zo=(d=Zo)||c,dl(t,e),Zo=d,Xo=h,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=u?-2&t._visibility:1|t._visibility,u&&(t=Xo||Zo,null===n||c||t||vl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,u)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=c.stateNode;var p=void 0!==(l=c.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){rc(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(m){rc(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,hl(e,n))));break;case 19:dl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 21:break;default:dl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Go(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Jo(e,Qo(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(kt(s,""),r.flags&=-33),Jo(e,Qo(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Yo(e,Qo(e),o);break;default:throw Error(a(161))}}}catch(l){rc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jo(4,t,t.return),vl(t);break;case 1:Ho(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&qo(t,t.return,n),vl(t);break;case 26:case 27:case 5:Ho(t,t.return),vl(t);break;case 22:Ho(t,t.return),null===t.memoizedState&&vl(t);break;default:vl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:bl(i,s,n),Vo(4,s);break;case 1:if(bl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){rc(r,r.return,u)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Uo(l[i],o)}catch(u){rc(r,r.return,u)}}n&&64&a&&Bo(s),$o(s,s.return);break;case 26:case 27:case 5:bl(i,s,n),n&&null===r&&4&a&&Wo(s),$o(s,s.return);break;case 12:default:bl(i,s,n);break;case 13:bl(i,s,n),n&&4&a&&cl(i,s);break;case 22:null===s.memoizedState&&bl(i,s,n),$o(s,s.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ji(n))}function _l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e))}function kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t,n,r),t=t.sibling}function El(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),2048&i&&Vo(9,t);break;case 3:kl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e)));break;case 12:if(2048&i){kl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){rc(t,t.return,l)}}else kl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?kl(e,t,n,r):Il(e,t):4&s._visibility?kl(e,t,n,r):(s._visibility|=4,Sl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&wl(t.alternate,t);break;case 24:kl(e,t,n,r),2048&i&&_l(t.alternate,t);break;default:kl(e,t,n,r)}}function Sl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Sl(s,a,o,l,i),Vo(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?4&c._visibility?Sl(s,a,o,l,i):Il(s,a):(c._visibility|=4,Sl(s,a,o,l,i)),i&&2048&u&&wl(a.alternate,a);break;case 24:Sl(s,a,o,l,i),i&&2048&u&&_l(a.alternate,a);break;default:Sl(s,a,o,l,i)}t=t.sibling}}function Il(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Il(n,r),2048&i&&wl(r.alternate,r);break;case 24:Il(n,r),2048&i&&_l(r.alternate,r);break;default:Il(n,r)}t=t.sibling}}var Tl=8192;function Cl(e){if(e.subtreeFlags&Tl)for(e=e.child;null!==e;)xl(e),e=e.sibling}function xl(e){switch(e.tag){case 26:Cl(e),e.flags&Tl&&null!==e.memoizedState&&function(e,t,n){if(null===Nh)throw Error(a(475));var r=Nh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=yh(n.href),s=e.querySelector(vh(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Ph.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Je(s);s=e.ownerDocument||e,n=bh(n),(i=ch.get(i))&&Sh(n,i),Je(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wc(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Ph.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:Cl(e);break;case 3:case 4:var t=fl;fl=dh(e.stateNode.containerInfo),Cl(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Tl,Tl=16777216,Cl(e),Tl=t):Cl(e))}}function Al(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Nl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Ol(r,e)}Al(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Rl(e),e=e.sibling}function Rl(e){switch(e.tag){case 0:case 11:case 15:Nl(e),2048&e.flags&&jo(9,e,e.return);break;case 3:case 12:default:Nl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Pl(e)):Nl(e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Ol(r,e)}Al(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:jo(8,t,t.return),Pl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Pl(t));break;default:Pl(t)}e=e.sibling}}function Ol(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:jo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ji(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,s=r.return;if(sl(r),r===n){nl=null;break e}if(null!==i){i.return=s,nl=i;break e}nl=s}}}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Dl(e,t,n,r)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ul(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zl(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Ml(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case h:return Vl(n.children,i,s,t);case d:o=8,i|=24;break;case f:return(e=Ll(12,n,t,2|i)).elementType=f,e.lanes=s,e;case v:return(e=Ll(13,n,t,i)).elementType=v,e.lanes=s,e;case b:return(e=Ll(19,n,t,i)).elementType=b,e.lanes=s,e;case k:return jl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:o=10;break e;case m:o=9;break e;case y:o=11;break e;case w:o=14;break e;case _:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ll(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Vl(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){(e=Ll(22,e,r,t)).elementType=k,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=Ar(e,2);null!==t&&(i._pendingVisibility|=2,Pu(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=Ar(e,2);null!==t&&(i._pendingVisibility&=-3,Pu(t,e,2))}}};return e.stateNode=i,e}function Bl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e){e.flags|=4}function Hl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ah(t)){if(null!==(t=xi.current)&&((4194176&ru)===ru?null!==Ai:(62914560&ru)!==ru&&0===(536870912&ru)||t!==Ai))throw di=li,oi;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,mu|=t)}function Kl(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bo(zi),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?$l(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Jr&&(Du(Jr),Jr=null))),Gl(t),null;case 26:return n=t.memoizedState,null===e?($l(t),null!==n?(Gl(t),Hl(t,n)):(Gl(t),t.flags&=-16777217)):n?n!==e.memoizedState?($l(t),Gl(t),Hl(t,n)):(Gl(t),t.flags&=-16777217):(e.memoizedProps!==r&&$l(t),Gl(t),t.flags&=-16777217),null;case 27:ne(t),n=J.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}e=Q.current,ri(t)?ti(t):(e=uh(i,r,n),t.stateNode=e,$l(t))}return Gl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}if(e=Q.current,ri(t))ti(t);else{switch(i=Qc(J.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ue]=t,e[ze]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Wc(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$l(t)}}return Gl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=J.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Gr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Bc(e.nodeValue,n)))||ei(t)}else(e=Qc(e).createTextNode(r))[Ue]=t,t.stateNode=e}return Gl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ue]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),i=!1}else null!==Jr&&(Du(Jr),Jr=null),i=!0;if(!i)return 256&t.flags?(Oi(t),t):(Oi(t),null)}if(Oi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Gl(t),null;case 4:return ee(),null===e&&Pc(t.stateNode.containerInfo),Gl(t),null;case 10:return bo(t.type),Gl(t),null;case 19:if(K(Di),null===(i=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Kl(i,!1);else{if(0!==cu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Li(e))){for(t.flags|=128,Kl(i,!1),e=s.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ul(n,e),n=n.sibling;return G(Di,1&Di.current|2),t.child}e=e.sibling}null!==i.tail&&le()>wu&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Li(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Yr)return Gl(t),null}else 2*le()-i.renderingStartTime>wu&&536870912!==n&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Di.current,G(Di,r?1&e|2:1&e),t):(Gl(t),null);case 22:case 23:return Oi(t),Ci(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null!==(n=t.updateQueue)&&Wl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bo(zi),Gl(t),null;case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bo(zi),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Oi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Di),null;case 4:return ee(),null;case 10:return bo(t.type),null;case 22:case 23:return Oi(t),Ci(),null!==e&&K(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bo(zi),null;default:return null}}function Jl(e,t){switch(Kr(t),t.tag){case 3:bo(zi),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Oi(t);break;case 19:K(Di);break;case 10:bo(t.type);break;case 22:case 23:Oi(t),Ci(),null!==e&&K(Gi);break;case 24:bo(zi)}}var Xl={getCacheForType:function(e){var t=Io(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,eu=0,tu=null,nu=null,ru=0,iu=0,su=null,au=!1,ou=!1,lu=!1,uu=0,cu=0,hu=0,du=0,fu=0,pu=0,mu=0,gu=null,yu=null,vu=!1,bu=0,wu=1/0,_u=null,ku=null,Eu=!1,Su=null,Iu=0,Tu=0,Cu=null,xu=0,Au=null;function Nu(){if(0!==(2&eu)&&0!==ru)return ru&-ru;if(null!==N.T){return 0!==$i?$i:_c()}return Me()}function Ru(){0===pu&&(pu=0===(536870912&ru)||Yr?Ae():536870912);var e=xi.current;return null!==e&&(e.flags|=32),pu}function Pu(e,t,n){(e===tu&&2===iu||null!==e.cancelPendingCommit)&&(Vu(e,0),Fu(e,ru,pu,!1)),Pe(e,n),0!==(2&eu)&&e===tu||(e===tu&&(0===(2&eu)&&(du|=n),4===cu&&Fu(e,ru,pu,!1)),mc(e))}function Ou(e,t,n){if(0!==(6&eu))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=eu;eu|=2;var r=Bu(),i=qu();tu!==e||ru!==t?(_u=null,wu=le()+500,Vu(e,t)):ou=Ce(e,t);e:for(;;)try{if(0!==iu&&null!==nu){t=nu;var s=su;t:switch(iu){case 1:iu=0,su=null,Yu(e,t,s,1);break;case 2:if(ui(s)){iu=0,su=null,Qu(t);break}t=function(){2===iu&&tu===e&&(iu=7),mc(e)},s.then(t,t);break e;case 3:iu=7;break e;case 4:iu=5;break e;case 7:ui(s)?(iu=0,su=null,Qu(t)):(iu=0,su=null,Yu(e,t,s,7));break;case 5:var o=null;switch(nu.tag){case 26:o=nu.memoizedState;case 5:case 27:var l=nu;if(!o||Ah(o)){iu=0,su=null;var u=l.sibling;if(null!==u)nu=u;else{var c=l.return;null!==c?(nu=c,Ju(c)):nu=null}break t}}iu=0,su=null,Yu(e,t,s,5);break;case 6:iu=0,su=null,Yu(e,t,s,6);break;case 8:zu(),cu=6;break e;default:throw Error(a(462))}}Ku();break}catch(h){ju(e,h)}return yo=go=null,N.H=r,N.A=i,eu=n,null!==nu?0:(tu=null,ru=0,Tr(),cu)}(e,t):Hu(e,t,!0),s=r;;){if(0===i){ou&&!r&&Fu(e,t,0,!1);break}if(6===i)Fu(e,t,0,!au);else{if(n=e.current.alternate,s&&!Mu(n)){i=Hu(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=gu;var u=l.current.memoizedState.isDehydrated;if(u&&(Vu(l,o).flags|=256),2!==(o=Hu(l,o,!1))){if(lu&&!u){l.errorRecoveryDisabledLanes|=s,du|=s,i=4;break e}s=yu,yu=i,null!==s&&Du(s)}i=o}if(s=!1,2!==i)continue}}if(1===i){Vu(e,0),Fu(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Fu(r,t,pu,!au);break e}break;case 2:yu=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=bu+300-le())){if(Fu(r,t,pu,!au),0!==Te(r,0))break e;r.timeoutHandle=eh(Lu.bind(null,r,n,yu,_u,vu,t,pu,du,mu,au,2,-0,0),s)}else Lu(r,n,yu,_u,vu,t,pu,du,mu,au,0,-0,0)}}break}mc(e)}function Du(e){null===yu?yu=e:yu.push.apply(yu,e)}function Lu(e,t,n,r,i,s,o,l,u,c,h,d,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Nh={stylesheets:null,count:0,unsuspend:Rh},xl(t),null!==(t=function(){if(null===Nh)throw Error(a(475));var e=Nh;return e.stylesheets&&0===e.count&&Dh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Dh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zu.bind(null,e,n,r,i,o,l,u,1,d,f)),void Fu(e,s,o,!c);Zu(e,n,r,i,o,l,u,h,d,f)}function Mu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fu(e,t,n,r){t&=~fu,t&=~du,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Oe(e,n,t)}function Uu(){return 0!==(6&eu)||(gc(0,!1),!1)}function zu(){if(null!==nu){if(0===iu)var e=nu.return;else yo=go=null,ys(e=nu),pi=null,mi=0,e=nu;for(;null!==e;)Jl(e.alternate,e),e=e.return;nu=null}}function Vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,th(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zu(),tu=e,nu=n=Fl(e.current,null),ru=t,iu=0,su=null,au=!1,ou=Ce(e,t),lu=!1,mu=pu=fu=du=hu=cu=0,yu=gu=null,vu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return uu=t,Tr(),n}function ju(e,t){Zi=null,N.H=Sa,t===ai?(t=fi(),iu=3):t===oi?(t=fi(),iu=4):iu=t===Ba?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,su=t,null===nu&&(cu=1,Fa(e,Dr(t,e.current)))}function Bu(){var e=N.H;return N.H=Sa,null===e?Sa:e}function qu(){var e=N.A;return N.A=Xl,e}function $u(){cu=4,au||(4194176&ru)!==ru&&null!==xi.current||(ou=!0),0===(134217727&hu)&&0===(134217727&du)||null===tu||Fu(tu,ru,pu,!1)}function Hu(e,t,n){var r=eu;eu|=2;var i=Bu(),s=qu();tu===e&&ru===t||(_u=null,Vu(e,t)),t=!1;var a=cu;e:for(;;)try{if(0!==iu&&null!==nu){var o=nu,l=su;switch(iu){case 8:zu(),a=6;break e;case 3:case 2:case 6:null===xi.current&&(t=!0);var u=iu;if(iu=0,su=null,Yu(e,o,l,u),n&&ou){a=0;break e}break;default:u=iu,iu=0,su=null,Yu(e,o,l,u)}}Wu(),a=cu;break}catch(c){ju(e,c)}return t&&e.shellSuspendCounter++,yo=go=null,eu=r,N.H=i,N.A=s,null===nu&&(tu=null,ru=0,Tr()),a}function Wu(){for(;null!==nu;)Gu(nu)}function Ku(){for(;null!==nu&&!ae();)Gu(nu)}function Gu(e){var t=po(e.alternate,e,uu);e.memoizedProps=e.pendingProps,null===t?Ju(e):nu=t}function Qu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xa(n,t,t.pendingProps,t.type,void 0,ru);break;case 11:t=Xa(n,t,t.pendingProps,t.type.render,t.ref,ru);break;case 5:ys(t);default:Jl(n,t),t=po(n,t=nu=Ul(t,uu),uu)}e.memoizedProps=e.pendingProps,null===t?Ju(e):nu=t}function Yu(e,t,n,r){yo=go=null,ys(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ko(t,n,i,!0),null!==(n=xi.current)){switch(n.tag){case 13:return null===Ai?$u():null===n.alternate&&0===cu&&(cu=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ic(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ic(e,r,i)),!1}throw Error(a(435,n.tag))}return ic(e,r,i),$u(),!1}if(Yr)return null!==(t=xi.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&si(Dr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&si(Dr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Dr(r,n),Do(e,i=za(e.stateNode,r,i)),4!==cu&&(cu=2)),!1;var s=Error(a(520),{cause:r});if(s=Dr(s,n),null===gu?gu=[s]:gu.push(s),4!==cu&&(cu=2),null===t)return!0;r=Dr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Do(n,e=za(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===ku||!ku.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,ja(i=Va(i),e,n,r),Do(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ru))return cu=1,Fa(e,Dr(n,e.current)),void(nu=null)}catch(s){if(null!==i)throw nu=i,s;return cu=1,Fa(e,Dr(n,e.current)),void(nu=null)}32768&t.flags?(Yr||1===r?e=!0:ou||0!==(536870912&ru)?e=!1:(au=e=!0,(2===r||3===r||6===r)&&(null!==(r=xi.current)&&13===r.tag&&(r.flags|=16384))),Xu(t,e)):Ju(t)}function Ju(e){var t=e;do{if(0!==(32768&t.flags))return void Xu(t,au);e=t.return;var n=Ql(t.alternate,t,uu);if(null!==n)return void(nu=n);if(null!==(t=t.sibling))return void(nu=t);nu=t=e}while(null!==t);0===cu&&(cu=5)}function Xu(e,t){do{var n=Yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nu=e);nu=e=n}while(null!==e);cu=6,nu=null}function Zu(e,t,n,r,i,s,o,l,u,c){var h=N.T,d=B.p;try{B.p=2,N.T=null,function(e,t,n,r,i,s,o,l){do{tc()}while(null!==Su);if(0!==(6&eu))throw Error(a(327));var u=e.finishedWork;if(r=e.finishedLanes,null===u)return null;if(e.finishedWork=null,e.finishedLanes=0,u===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=u.lanes|u.childLanes;if(function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-we(n),h=1<<c;o[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Oe(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,r,c|=Ir,s,o,l),e===tu&&(nu=tu=null,ru=0),0===(10256&u.subtreeFlags)&&0===(10256&u.flags)||Eu||(Eu=!0,Tu=c,Cu=n,function(e,t){ie(e,t)}(de,(function(){return tc(),null}))),n=0!==(15990&u.flags),0!==(15990&u.subtreeFlags)||n?(n=N.T,N.T=null,s=B.p,B.p=2,o=eu,eu|=4,function(e,t){if(e=e.containerInfo,Kc=$h,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===s&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gc={focusedElem:e,selectionRange:n},$h=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(s=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Pa(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){rc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ah(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ah(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,u),pl(u,e),tr(Gc,e.containerInfo),$h=!!Kc,Gc=Kc=null,e.current=u,il(e,u.alternate,u),oe(),eu=o,B.p=s,N.T=n):e.current=u,Eu?(Eu=!1,Su=e,Iu=r):ec(e,c),c=e.pendingLanes,0===c&&(ku=null),function(e){if(ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,e,void 0,128===(128&e.current.flags))}catch(t){}}(u.stateNode),mc(e),null!==t)for(i=e.onRecoverableError,u=0;u<t.length;u++)c=t[u],i(c.value,{componentStack:c.stack});0!==(3&Iu)&&tc(),c=e.pendingLanes,0!==(4194218&r)&&0!==(42&c)?e===Au?xu++:(xu=0,Au=e):xu=0,gc(0,!1)}(e,t,n,r,d,i,s,o)}finally{N.T=h,B.p=d}}function ec(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,ji(t)))}function tc(){if(null!==Su){var e=Su,t=Tu;Tu=0;var n=Le(Iu),r=N.T,i=B.p;try{if(B.p=32>n?32:n,N.T=null,null===Su)var s=!1;else{n=Cu,Cu=null;var o=Su,l=Iu;if(Su=null,Iu=0,0!==(6&eu))throw Error(a(331));var u=eu;if(eu|=4,Rl(o.current),El(o,o.current,l,n),eu=u,gc(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(c){}s=!0}return s}finally{B.p=i,N.T=r,ec(e,t)}}return!1}function nc(e,t,n){t=Dr(n,t),null!==(e=Po(e,t=za(e.stateNode,t,2),2))&&(Pe(e,2),mc(e))}function rc(e,t,n){if(3===e.tag)nc(e,e,n);else for(;null!==t;){if(3===t.tag){nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ku||!ku.has(r))){e=Dr(n,e),null!==(r=Po(t,n=Va(2),2))&&(ja(n,r,t,e),Pe(r,2),mc(r));break}}t=t.return}}function ic(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lu=!0,i.add(n),e=sc.bind(null,e,t,n),t.then(e,e))}function sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tu===e&&(ru&n)===n&&(4===cu||3===cu&&(62914560&ru)===ru&&300>le()-bu?0===(2&eu)&&Vu(e,0):fu|=n,mu===ru&&(mu=0)),mc(e)}function ac(e,t){0===t&&(t=Ne()),null!==(e=Ar(e,t))&&(Pe(e,t),mc(e))}function oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ac(e,n)}function lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),ac(e,n)}var uc=null,cc=null,hc=!1,dc=!1,fc=!1,pc=0;function mc(e){var t;e!==cc&&null===e.next&&(null===cc?uc=cc=e:cc=cc.next=e),dc=!0,hc||(hc=!0,t=yc,rh((function(){0!==(6&eu)?ie(ce,t):t()})))}function gc(e,t){if(!fc&&dc){fc=!0;do{for(var n=!1,r=uc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326677&(s&=i&~(a&~o))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,wc(r,s))}else s=ru,0===(3&(s=Te(r,r===tu?s:0)))||Ce(r,s)||(n=!0,wc(r,s));r=r.next}}while(n);fc=!1}}function yc(){dc=hc=!1;var e=0;0!==pc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zc&&(Zc=e,!0);return Zc=null,!1}()&&(e=pc),pc=0);for(var t=le(),n=null,r=uc;null!==r;){var i=r.next,s=vc(r,t);0===s?(r.next=null,null===n?uc=i:n.next=i,null===i&&(cc=n)):(n=r,(0!==e||0!==(3&s))&&(dc=!0)),r=i}gc(e,!1)}function vc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-we(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=xe(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=ru,n=Te(e,e===(t=tu)?n:0),r=e.callbackNode,0===n||e===t&&2===iu||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=bc.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function bc(e,t){var n=e.callbackNode;if(tc()&&e.callbackNode!==n)return null;var r=ru;return 0===(r=Te(e,e===tu?r:0))?null:(Ou(e,r,t),vc(e,le()),null!=e.callbackNode&&e.callbackNode===n?bc.bind(null,e):null)}function wc(e,t){if(tc())return null;Ou(e,t,!0)}function _c(){return 0===pc&&(pc=Ae()),pc}function kc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Ec(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Sc=0;Sc<_r.length;Sc++){var Ic=_r[Sc];kr(Ic.toLowerCase(),"on"+(Ic[0].toUpperCase()+Ic.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tc));function xc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(c){Oa(c)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(c){Oa(c)}i.currentTarget=null,s=l}}}}function Ac(e,t){var n=t[je];void 0===n&&(n=t[je]=new Set);var r=e+"__bubble";n.has(r)||(Oc(t,e,2,!1),n.add(r))}function Nc(e,t,n){var r=0;t&&(r|=4),Oc(n,e,r,t)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Pc(e){if(!e[Rc]){e[Rc]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Cc.has(t)||Nc(t,!1,e),Nc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rc]||(t[Rc]=!0,Nc("selectionchange",!1,t))}}function Oc(e,t,n,r){switch(Jh(t)){case 2:var i=Hh;break;case 8:i=Wh;break;default:i=Kh}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dc(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ke(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Mt((function(){var r=s,i=Rt(n),a=[];e:{var o=wr.get(e);if(void 0!==o){var l=Xt,u=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":u="focus",l=sn;break;case"focusout":u="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=an;break;case br:l=yn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=vn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=bn}var c=0!==(4&t),h=!c&&("scroll"===e||"scrollend"===e),d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===d||null!=(m=Ft(p,d))&&c.push(Lc(p,m,f)),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Nt||!(u=n.relatedTarget||n.fromElement)||!Ke(u)&&!u[Ve])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ke(u):null)&&(h=F(u),c=u.tag,u!==h||5!==c&&27!==c&&6!==c)&&(u=null)):(l=null,u=r),l!==u)){if(c=nn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=mn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Qe(l),f=null==u?o:Qe(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,Ke(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Fc(f))p++;for(f=0,m=d;m;m=Fc(m))f++;for(;0<p-f;)c=Fc(c),p--;for(;0<f-p;)d=Fc(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fc(c),d=Fc(d)}c=null}else c=null;null!==l&&Uc(a,o,l,c,!1),null!==u&&null!==h&&Uc(a,h,u,c,!0)}if("select"===(l=(o=r?Qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Fn;else if(Rn(o))if(Un)g=Kn;else{g=Hn;var y=$n}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(g=Fn):g=Wn;switch(g&&(g=g(e,r))?Pn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),y=r?Qe(r):window,e){case"focusin":(Rn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var v;if(_n)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sn&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(v=qt()):(jt="value"in(Vt=i)?Vt.value:Vt.textContent,An=!0)),0<(y=Mc(r,b)).length&&(b=new ln(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=xn(n))&&(b.data=v))),(v=En?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Tn=!0,In);case"textInput":return(e=t.data)===In&&Tn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!_n&&Cn(e,t)?(e=qt(),Bt=jt=Vt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Mc(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:y,listeners:b}),y.data=v)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=kc((i[ze]||null).action),a=r.submitter;a&&null!==(t=(t=a[ze]||null)?kc(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Xt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pc){var e=a?Ec(i,a):new FormData(i);ca(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Ec(i,a):new FormData(i),ca(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}xc(a,t)}))}function Lc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(Lc(e,i,s)),null!=(i=Ft(e,t))&&r.push(Lc(e,i,s))),e=e.return}return r}function Fc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uc(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===u||(l=u,i?null!=(u=Ft(n,s))&&a.unshift(Lc(n,u,l)):i||null!=(u=Ft(n,s))&&a.push(Lc(n,u,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var zc=/\r\n?/g,Vc=/\u0000|\uFFFD/g;function jc(e){return("string"===typeof e?e:""+e).replace(zc,"\n").replace(Vc,"")}function Bc(e,t){return t=jc(t),jc(e)===t}function qc(){}function $c(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":It(e,r,s);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&$c(e,t,"name",i.name,i,null),$c(e,t,"formEncType",i.formEncType,i,null),$c(e,t,"formMethod",i.formMethod,i,null),$c(e,t,"formTarget",i.formTarget,i,null)):($c(e,t,"encType",i.encType,i,null),$c(e,t,"method",i.method,i,null),$c(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=qc);break;case"onScroll":null!=r&&Ac("scroll",e);break;case"onScrollEnd":null!=r&&Ac("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ac("beforetoggle",e),Ac("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Ct.get(n)||n,r)}}function Hc(e,t,n,r,i,s){switch(n){case"style":It(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Ac("scroll",e);break;case"onScrollEnd":null!=r&&Ac("scrollend",e);break;case"onClick":null!=r&&(e.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[ze]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Wc(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ac("error",e),Ac("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:$c(e,t,r,o,n,null)}}return s&&$c(e,t,"srcSet",n.srcSet,n,null),void(i&&$c(e,t,"src",n.src,n,null));case"input":Ac("invalid",e);var l=r=o=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:$c(e,t,i,h,n,null)}}return yt(e,r,l,u,c,o,s,!1),void ht(e);case"select":for(s in Ac("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:$c(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Ac("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:$c(e,t,o,l,n,null)}return _t(e,i,s,r),void ht(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else $c(e,t,u,i,n,null);return;case"dialog":Ac("cancel",e),Ac("close",e);break;case"iframe":case"object":Ac("load",e);break;case"video":case"audio":for(i=0;i<Tc.length;i++)Ac(Tc[i],e);break;case"image":Ac("error",e),Ac("load",e);break;case"details":Ac("toggle",e);break;case"embed":case"source":case"link":Ac("error",e),Ac("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:$c(e,t,c,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Hc(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&$c(e,t,l,i,n,null))}var Kc=null,Gc=null;function Qc(e){return 9===e.nodeType?e:e.ownerDocument}function Yc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jc(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xc(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zc=null;var eh="function"===typeof setTimeout?setTimeout:void 0,th="function"===typeof clearTimeout?clearTimeout:void 0,nh="function"===typeof Promise?Promise:void 0,rh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nh?function(e){return nh.resolve(null).then(e).catch(ih)}:eh;function ih(e){setTimeout((function(){throw e}))}function sh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void md(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);md(t)}function ah(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ah(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function oh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function lh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function uh(e,t,n){switch(t=Qc(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ch=new Map,hh=new Set;function dh(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fh=B.d;B.d={f:function(){var e=fh.f(),t=Uu();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?da(t):fh.r(e)},D:function(e){fh.D(e),mh("dns-prefetch",e,null)},C:function(e,t){fh.C(e,t),mh("preconnect",e,t)},L:function(e,t,n){fh.L(e,t,n);var r=ph;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=yh(e);break;case"script":s=wh(e)}ch.has(s)||(e=R({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ch.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(vh(s))||"script"===t&&r.querySelector(_h(s))||(Wc(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){fh.m(e,t);var n=ph;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=wh(e)}if(!ch.has(s)&&(e=R({rel:"modulepreload",href:e},t),ch.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_h(s)))return}Wc(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){fh.X(e,t);var n=ph;if(n&&e){var r=Ye(n).hoistableScripts,i=wh(e),s=r.get(i);s||((s=n.querySelector(_h(i)))||(e=R({src:e,async:!0},t),(t=ch.get(i))&&Ih(e,t),Je(s=n.createElement("script")),Wc(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){fh.S(e,t,n);var r=ph;if(r&&e){var i=Ye(r).hoistableStyles,s=yh(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(vh(s)))o.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ch.get(s))&&Sh(e,n);var l=a=r.createElement("link");Je(l),Wc(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Eh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){fh.M(e,t);var n=ph;if(n&&e){var r=Ye(n).hoistableScripts,i=wh(e),s=r.get(i);s||((s=n.querySelector(_h(i)))||(e=R({src:e,async:!0,type:"module"},t),(t=ch.get(i))&&Ih(e,t),Je(s=n.createElement("script")),Wc(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var ph="undefined"===typeof document?null:document;function mh(e,t,n){var r=ph;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hh.has(i)||(hh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Wc(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function gh(e,t,n,r){var i,s,o,l,u=(u=J.current)?dh(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=yh(n.href),(r=(n=Ye(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=yh(n.href);var c=Ye(u).hoistableStyles,h=c.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=u.querySelector(vh(e)))&&!c._p&&(h.instance=c,h.state.loading=5),ch.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ch.set(e,n),c||(i=u,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),Wc(s,"link",o),Je(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wh(n),(r=(n=Ye(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function yh(e){return'href="'+mt(e)+'"'}function vh(e){return'link[rel="stylesheet"]['+e+"]"}function bh(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function wh(e){return'[src="'+mt(e)+'"]'}function _h(e){return"script[async]"+e}function kh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Je(r),r;var i=R({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(r=(e.ownerDocument||e).createElement("style")),Wc(r,"style",i),Eh(r,n.precedence,e),t.instance=r;case"stylesheet":i=yh(n.href);var s=e.querySelector(vh(i));if(s)return t.state.loading|=4,t.instance=s,Je(s),s;r=bh(n),(i=ch.get(i))&&Sh(r,i),Je(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wc(s,"link",r),t.state.loading|=4,Eh(s,n.precedence,e),t.instance=s;case"script":return s=wh(n.src),(i=e.querySelector(_h(s)))?(t.instance=i,Je(i),i):(r=n,(i=ch.get(s))&&Ih(r=R({},n),i),Je(i=(e=e.ownerDocument||e).createElement("script")),Wc(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Eh(r,n.precedence,e));return t.instance}function Eh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Sh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ih(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Th=null;function Ch(e,t,n){if(null===Th){var r=new Map,i=Th=new Map;i.set(n,r)}else(r=(i=Th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[He]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function xh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Nh=null;function Rh(){}function Ph(){if(this.count--,0===this.count)if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Oh=null;function Dh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Oh=new Map,t.forEach(Lh,e),Oh=null,Ph.call(e))}function Lh(e,t){if(!(4&t.state.loading)){var n=Oh.get(e);if(n)var r=n.get(null);else{n=new Map,Oh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Ph.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Mh={$$typeof:g,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Fh(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Uh(e,t,n,r,i,s,a,o,l,u,c,h){return e=new Fh(e,t,n,a,o,l,u,h),t=1,!0===s&&(t|=24),s=Ll(3,null,null,t),e.current=s,s.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Ao(s),e}function zh(e){return e?e=Pr:Pr}function Vh(e,t,n,r,i,s){i=zh(i),null===r.context?r.context=i:r.pendingContext=i,(r=Ro(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Po(e,r,t))&&(Pu(n,0,t),Oo(n,e,t))}function jh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bh(e,t){jh(e,t),(e=e.alternate)&&jh(e,t)}function qh(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Pu(t,0,67108864),Bh(e,67108864)}}var $h=!0;function Hh(e,t,n,r){var i=N.T;N.T=null;var s=B.p;try{B.p=2,Kh(e,t,n,r)}finally{B.p=s,N.T=i}}function Wh(e,t,n,r){var i=N.T;N.T=null;var s=B.p;try{B.p=8,Kh(e,t,n,r)}finally{B.p=s,N.T=i}}function Kh(e,t,n,r){if($h){var i=Gh(r);if(null===i)Dc(e,t,r,Qh,n),ad(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Zh=od(Zh,e,t,n,r,i),!0;case"dragenter":return ed=od(ed,e,t,n,r,i),!0;case"mouseover":return td=od(td,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,od(nd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rd.set(s,od(rd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ad(e,r),4&t&&-1<sd.indexOf(e)){for(;null!==i;){var s=Ge(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ie(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-we(a);o.entanglements[1]|=l,a&=~l}mc(s),0===(6&eu)&&(wu=le()+500,gc(0,!1))}}break;case 13:null!==(o=Ar(s,2))&&Pu(o,0,2),Uu(),Bh(s,2)}if(null===(s=Gh(r))&&Dc(e,t,r,Qh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Dc(e,t,r,null,n)}}function Gh(e){return Yh(e=Rt(e))}var Qh=null;function Yh(e){if(Qh=null,null!==(e=Ke(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=U(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qh=e,null}function Jh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Xh=!1,Zh=null,ed=null,td=null,nd=new Map,rd=new Map,id=[],sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ad(e,t){switch(e){case"focusin":case"focusout":Zh=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":nd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(t.pointerId)}}function od(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&qh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function ld(e){var t=Ke(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=U(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,(function(){if(13===n.tag){var e=Nu(),t=Ar(n,e);null!==t&&Pu(t,0,e),Bh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ud(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gh(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&qh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function cd(e,t,n){ud(e)&&n.delete(t)}function hd(){Xh=!1,null!==Zh&&ud(Zh)&&(Zh=null),null!==ed&&ud(ed)&&(ed=null),null!==td&&ud(td)&&(td=null),nd.forEach(cd),rd.forEach(cd)}function dd(e,t){e.blockedOn===t&&(e.blockedOn=null,Xh||(Xh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hd)))}var fd=null;function pd(e){fd!==e&&(fd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fd===e&&(fd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Yh(r||n))continue;break}var s=Ge(n);null!==s&&(e.splice(t,3),t-=3,ca(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function md(e){function t(t){return dd(t,e)}null!==Zh&&dd(Zh,e),null!==ed&&dd(ed,e),null!==td&&dd(td,e),nd.forEach(t),rd.forEach(t);for(var n=0;n<id.length;n++){var r=id[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<id.length&&null===(n=id[0]).blockedOn;)ld(n),null===n.blockedOn&&id.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[ze]||null;if("function"===typeof s)a||pd(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[ze]||null)o=a.formAction;else if(null!==Yh(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),pd(n)}}}function gd(e){this._internalRoot=e}function yd(e){this._internalRoot=e}yd.prototype.render=gd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vh(t.current,Nu(),e,t,null,null)},yd.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tc(),Vh(e.current,2,null,e,null,null),Uu(),t[Ve]=null}},yd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<id.length&&0!==t&&t<id[n].priority;n++);id.splice(n,0,e),0===n&&ld(e)}};var vd=i.version;if("19.0.0"!==vd)throw Error(a(527,vd,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return z(i),e;if(s===r)return z(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var bd={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{ye=wd.inject(bd),ve=wd}catch(kd){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=Da,s=La,l=Ma;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Uh(e,1,!1,null,0,n,r,i,s,l,0,null),e[Ve]=t.current,Pc(8===e.nodeType?e.parentNode:e),new gd(t)}},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,k={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function S(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(){}function A(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return A((c=e._init)(e._payload),t,i,s,a)}}if(c)return a=a(e),c=""===s?"."+C(e,0):s,_(a)?(i="",null!=c&&(i=c.replace(T,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(l=a,u=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+c,a=S(l.type,u,void 0,0,0,l.props)),t.push(a)),1;c=0;var h,p=""===s?".":s+":";if(_(e))for(var m=0;m<e.length;m++)c+=A(s=e[m],t,i,o=p+C(s,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)c+=A(s=s.value,t,i,o=p+C(s,m++),a);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return S(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,P)}catch(s){P(s)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.0.0"},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R();else{var t=r(c);null!==t&&P(_,t.startTime-e)}}var k,E=!1,S=-1,I=5,T=-1;function C(){return!(t.unstable_now()-T<I)}function x(){if(E){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,v(S),S=-1),p=!0;var s=f;try{t:{for(w(e),d=r(u);null!==d&&!(d.expirationTime>e&&C());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,w(e),n=!0;break t}d===r(u)&&i(u),w(e)}else i(u);d=r(u)}if(null!==d)n=!0;else{var l=r(c);null!==l&&P(_,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof b)k=function(){b(x)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=x,k=function(){N.postMessage(null)}}else k=function(){y(x,0)};function R(){E||(E=!0,k())}function P(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(S),S=-1):g=!0,P(_,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,R())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>os,SDK_VERSION:()=>Va,_DEFAULT_ENTRY_NAME:()=>Ea,_addComponent:()=>xa,_addOrOverwriteComponent:()=>Aa,_apps:()=>Ia,_clearComponents:()=>La,_components:()=>Ca,_getProvider:()=>Ra,_isFirebaseApp:()=>Oa,_isFirebaseServerApp:()=>Da,_registerComponent:()=>Na,_removeServiceInstance:()=>Pa,_serverApps:()=>Ta,deleteApp:()=>Ha,getApp:()=>qa,getApps:()=>$a,initializeApp:()=>ja,initializeServerApp:()=>Ba,onLog:()=>Ka,registerVersion:()=>Wa,setLogLevel:()=>Ga});var t=n(391),r=n(43),i=(n(358),"popstate");function s(){return d((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=h(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:c(t))}),(function(e,t){o("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:o=!1}=r,h=s.history,d="POP",f=null,p=m();function m(){return(h.state||{idx:null}).idx}function g(){d="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:d,location:v.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:c(e);return n=n.replace(/ $/,"%20"),a(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,h.replaceState({...h.state,idx:p},""));let v={get action(){return d},get location(){return e(s,h)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(i,g),f=e,()=>{s.removeEventListener(i,g),f=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let r=u(v.location,e,t);n&&n(r,e),p=m()+1;let i=l(r,p),a=v.createHref(r);try{h.pushState(i,"",a)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(a)}o&&f&&f({action:d,location:v.location,delta:1})},replace:function(e,t){d="REPLACE";let r=u(v.location,e,t);n&&n(r,e),p=m();let i=l(r,p),s=v.createHref(r);h.replaceState(i,"",s),o&&f&&f({action:d,location:v.location,delta:0})},go:e=>h.go(e)};return v}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=x(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let s=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=C(i);a=I(s[o],e,r)}return a}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=O([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,u,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:u})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=g(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var y=/^:[\w-]+$/,v=3,b=2,w=1,_=10,k=-2,E=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=k),t&&(r+=b),n.filter((e=>!E(e))).reduce(((e,t)=>e+(y.test(t)?v:""===t?w:_)),r)}function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:O([s,c.pathname]),pathnameBase:D(O([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=O([s,c.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=l[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[r]=i&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function C(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e){let t=N(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function P(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},a(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),a(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),a(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:L(r),hash:M(i)}}(r,s),c=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!d||(u.pathname+="/"),u}var O=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],z=(new Set(U),["GET",...U]);new Set(z),Symbol("ResetLoaderData");var V=r.createContext(null);V.displayName="DataRouter";var j=r.createContext(null);j.displayName="DataRouterState";var B=r.createContext({isTransitioning:!1});B.displayName="ViewTransition";var q=r.createContext(new Map);q.displayName="Fetchers";var $=r.createContext(null);$.displayName="Await";var H=r.createContext(null);H.displayName="Navigation";var W=r.createContext(null);W.displayName="Location";var K=r.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var G=r.createContext(null);G.displayName="RouteError";function Q(){return null!=r.useContext(W)}function Y(){return a(Q(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(W).location}var J="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X(e){r.useContext(H).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=le("useNavigate"),t=ce("useNavigate"),n=r.useRef(!1);X((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(n.current,J),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return i}():function(){a(Q(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(V),{basename:t,navigator:n}=r.useContext(H),{matches:i}=r.useContext(K),{pathname:s}=Y(),l=JSON.stringify(R(i)),u=r.useRef(!1);X((()=>{u.current=!0}));let c=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(u.current,J),!u.current)return;if("number"===typeof r)return void n.go(r);let a=P(r,JSON.parse(l),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:O([t,a.pathname])),(i.replace?n.replace:n.push)(a,i.state,i)}),[t,n,l,s,e]);return c}()}r.createContext(null);function ee(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(K),{pathname:i}=Y(),s=JSON.stringify(R(n));return r.useMemo((()=>P(e,JSON.parse(s),i,"path"===t)),[e,s,i,t])}function te(e,t,n,i){a(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=r.useContext(H),{matches:u}=r.useContext(K),c=u[u.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let e=g&&g.path||"";fe(p,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,v=Y();if(t){let e="string"===typeof t?h(t):t;a("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=v;let b=y.pathname||"/",w=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=!l&&n&&n.matches&&n.matches.length>0?n.matches:f(e,{pathname:w});o(g||null!=_,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),o(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=ae(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:O([m,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:O([m,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,n,i);return t&&k?r.createElement(W.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function ne(){let e=he(),t=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var re=r.createElement(ne,null),ie=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function se(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(V);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},i)}function ae(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,s=n?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((e,a,u)=>{let c,h=!1,d=null,f=null;n&&(c=s&&a.route.id?s[a.route.id]:void 0,d=a.route.errorElement||re,o&&(l<0&&0===u?(fe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=a.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,u+1)),m=()=>{let t;return t=c?d:h?f:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(se,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function oe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function le(e){let t=r.useContext(V);return a(t,oe(e)),t}function ue(e){let t=r.useContext(j);return a(t,oe(e)),t}function ce(e){let t=function(e){let t=r.useContext(K);return a(t,oe(e)),t}(e),n=t.matches[t.matches.length-1];return a(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function he(){let e=r.useContext(G),t=ue("useRouteError"),n=ce("useRouteError");return void 0!==e?e:t.errors?.[n]}var de={};function fe(e,t,n){t||de[e]||(de[e]=!0,o(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return te(t,void 0,r,n)}));function pe(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function me(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:l,static:u=!1}=e;a(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:c,navigator:l,static:u,future:{}})),[c,l,u]);"string"===typeof i&&(i=h(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=i,v=r.useMemo((()=>{let e=x(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:s}}),[c,f,p,m,g,y,s]);return o(null!=v,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:r.createElement(H.Provider,{value:d},r.createElement(W.Provider,{children:n,value:v}))}function ge(e){let{children:t,location:n}=e;return te(ye(t),n)}r.Component;function ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,s));a(e.type===pe,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,s)),n.push(o)})),n}var ve="get",be="application/x-www-form-urlencoded";function we(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var ke=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ee(e){return null==e||ke.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${be}"`),null)}function Se(e,t){let n,r,i,s,a;if(we(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?x(a,t):null,n=e.getAttribute("method")||ve,i=Ee(e.getAttribute("enctype"))||be,s=new FormData(e)}else if(function(e){return we(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return we(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?x(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ve,i=Ee(e.getAttribute("formenctype"))||Ee(a.getAttribute("enctype"))||be,s=new FormData(a,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(e){_e=!0}return _e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(we(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ve,r=null,i=be,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Ie(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Te(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ce(e){return null!=e&&"string"===typeof e.page}function xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ae(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ne(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Re(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ce(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Pe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Oe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===x(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}r.Component;function De(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(F(t))return r.createElement(Le,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return r.createElement(Le,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Le(e){let{title:t,renderScripts:n,isOutsideRemixApp:i,children:s}=e,{routeModules:a}=Ve();return a.root?.Layout&&!i?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,n?r.createElement(Ke,null):null)))}function Me(e){return!0===e}function Fe(){let e=r.useContext(V);return Ie(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ue(){let e=r.useContext(j);return Ie(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ze=r.createContext(void 0);function Ve(){let e=r.useContext(ze);return Ie(e,"You must render this element inside a <HydratedRouter> element"),e}function je(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Be(e,t,n){if(n&&!We)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function qe(e){let{page:t,...n}=e,{router:i}=Fe(),s=r.useMemo((()=>f(i.routes,t,i.basename)),[i.routes,t,i.basename]);return s?r.createElement(He,{page:t,matches:s,...n}):null}function $e(e){let{manifest:t,routeModules:n}=Ve(),[i,s]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Re((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Te(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(xe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),i}function He(e){let{page:t,matches:n,...i}=e,s=Y(),{manifest:a,routeModules:o}=Ve(),{basename:l}=Fe(),{loaderData:u,matches:c}=Ue(),h=r.useMemo((()=>Ae(t,n,c,a,s,"data")),[t,n,c,a,s]),d=r.useMemo((()=>Ae(t,n,c,a,s,"assets")),[t,n,c,a,s]),f=r.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!h.some((e=>e.route.id===t.route.id))&&t.route.id in u&&o[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Oe(t,l);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,u,s,a,h,n,t,o]),p=r.useMemo((()=>Ne(d,a)),[d,a]),m=$e(d);return r.createElement(r.Fragment,null,f.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),p.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),m.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}ze.displayName="FrameworkContext";var We=!1;function Ke(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,ssr:s,renderMeta:a}=Ve(),{router:o,static:l,staticContext:u}=Fe(),{matches:c}=Ue(),h=Me(s);a&&(a.didRenderScripts=!0);let d=Be(c,null,i);r.useEffect((()=>{0}),[]);let p=r.useMemo((()=>{let i=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(t.url)}`};\n${d.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];Ie(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,hydrateFallbackModule:o,module:l}=i,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(l)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=f(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:s}}(t,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(i),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(s),type:"module",async:!0}))}),[]),m=We?[]:t.entry.imports.concat(Ne(d,t,{includeHydrateFallback:!0}));return We?null:r.createElement(r.Fragment,null,h?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),[...new Set(g)].map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),p);var g}function Ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Qe&&(window.__reactRouterVersion="7.4.0")}catch(Zx){}function Ye(e){let{basename:t,children:n,window:i}=e,a=r.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,u]=r.useState({action:o.action,location:o.location}),c=r.useCallback((e=>{r.startTransition((()=>u(e)))}),[u]);return r.useLayoutEffect((()=>o.listen(c)),[o,c]),r.createElement(me,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=r.forwardRef((function(e,t){let n,{onClick:i,discover:s="render",prefetch:l="none",relative:u,reloadDocument:h,replace:d,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=e,{basename:b}=r.useContext(H),w="string"===typeof m&&Je.test(m),_=!1;if("string"===typeof m&&w&&(n=m,Qe))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=x(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:_=!0}catch(Zx){o(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(H),{hash:s,pathname:o,search:l}=ee(e,{relative:t}),u=o;return"/"!==n&&(u="/"===o?n:O([n,o])),i.createHref({pathname:u,search:l,hash:s})}(m,{relative:u}),[E,S,I]=function(e,t){let n=r.useContext(ze),[i,s]=r.useState(!1),[a,o]=r.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:je(l,p),onBlur:je(u,m),onMouseEnter:je(c,p),onMouseLeave:je(h,m),onTouchStart:je(d,p)}]:[!1,f,{}]}(l,v),T=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Z(),u=Y(),h=ee(e,{relative:a});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:c(u)===c(h);l(e,{replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o})}}),[u,l,h,n,i,t,e,s,a,o])}(m,{replace:d,state:f,target:p,preventScrollReset:g,relative:u,viewTransition:y});let C=r.createElement("a",{...v,...I,href:n||k,onClick:_||h?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:Ge(t,S),target:p,"data-discover":w||"render"!==s?void 0:"true"});return E&&!w?r.createElement(r.Fragment,null,C,r.createElement(qe,{page:k})):C}));Xe.displayName="Link";var Ze=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:c,children:h,...d}=e,f=ee(u,{relative:d.relative}),p=Y(),m=r.useContext(j),{navigator:g,basename:y}=r.useContext(H),v=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(B);a(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nt("useViewTransitionState"),s=ee(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=x(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=x(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=T(s.pathname,l)||null!=T(s.pathname,o)}(f)&&!0===c,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&y&&(_=x(_,y)||_);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let E,S=w===b||!o&&w.startsWith(b)&&"/"===w.charAt(k),I=null!=_&&(_===b||!o&&_.startsWith(b)&&"/"===_.charAt(b.length)),C={isActive:S,isPending:I,isTransitioning:v},A=S?n:void 0;E="function"===typeof s?s(C):[s,S?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(C):l;return r.createElement(Xe,{...d,"aria-current":A,className:E,ref:t,style:N,to:u,viewTransition:c},"function"===typeof h?h(C):h)}));Ze.displayName="NavLink";var et=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:o,replace:l,state:u,method:h=ve,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=e,v=st(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(H),i=r.useContext(K);a(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...ee(e||".",{relative:t})},l=Y();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:O([n,o.pathname]));return c(o)}(d,{relative:p}),w="get"===h.toLowerCase()?"get":"post",_="string"===typeof d&&Je.test(d);return r.createElement("form",{ref:t,method:w,action:b,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||h;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":_||"render"!==n?void 0:"true"})}));function tt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nt(e){let t=r.useContext(V);return a(t,tt(e)),t}et.displayName="Form";var rt=0,it=()=>`__${String(++rt)}__`;function st(){let{router:e}=nt("useSubmit"),{basename:t}=r.useContext(H),n=ce("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:u}=Se(r,t);if(!1===i.navigate){let t=i.fetcherKey||it();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;function at(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ut=()=>{};let ct={},ht={},dt=null,ft={mark:ut,measure:ut};try{"undefined"!==typeof window&&(ct=window),"undefined"!==typeof document&&(ht=document),"undefined"!==typeof MutationObserver&&(dt=MutationObserver),"undefined"!==typeof performance&&(ft=performance)}catch(Zx){}const{userAgent:pt=""}=ct.navigator||{},mt=ct,gt=ht,yt=dt,vt=ft,bt=(mt.document,!!gt.documentElement&&!!gt.head&&"function"===typeof gt.addEventListener&&"function"===typeof gt.createElement),wt=~pt.indexOf("MSIE")||~pt.indexOf("Trident/");var _t={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},kt=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Et="classic",St="duotone",It=[Et,St,"sharp","sharp-duotone"],Tt=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Ct=["fak","fa-kit","fakd","fa-kit-duotone"],xt={fak:"kit","fa-kit":"kit"},At={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},Nt=["fak","fakd"],Rt={kit:"fak"},Pt={"kit-duotone":"fakd"},Ot={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Dt=["fak","fa-kit","fakd","fa-kit-duotone"],Lt={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Mt=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ft=[1,2,3,4,5,6,7,8,9,10],Ut=Ft.concat([11,12,13,14,15,16,17,18,19,20]),zt=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ot.GROUP,Ot.SWAP_OPACITY,Ot.PRIMARY,Ot.SECONDARY].concat(Ft.map((e=>"".concat(e,"x")))).concat(Ut.map((e=>"w-".concat(e))));const Vt="___FONT_AWESOME___",jt=16,Bt="svg-inline--fa",qt="data-fa-i2svg",$t="data-fa-pseudo-element",Ht="data-prefix",Wt="data-icon",Kt="fontawesome-i2svg",Gt=["HTML","HEAD","STYLE","SCRIPT"],Qt=(()=>{try{return!0}catch(e){return!1}})();function Yt(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[Et]})}const Jt=lt({},_t);Jt[Et]=lt(lt(lt(lt({},{"fa-duotone":"duotone"}),_t[Et]),xt),At);const Xt=Yt(Jt),Zt=lt({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});Zt[Et]=lt(lt(lt(lt({},{duotone:"fad"}),Zt[Et]),Rt),Pt);const en=Yt(Zt),tn=lt({},Lt);tn[Et]=lt(lt({},tn[Et]),{fak:"fa-kit"});const nn=Yt(tn),rn=lt({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});rn[Et]=lt(lt({},rn[Et]),{"fa-kit":"fak"});Yt(rn);const sn=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,an="fa-layers-text",on=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ln=(Yt(lt({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),un={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},cn=["kit",...zt],hn=mt.FontAwesomeConfig||{};if(gt&&"function"===typeof gt.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=gt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(hn[n]=r)}))}const dn={styleDefault:"solid",familyDefault:Et,cssPrefix:"fa",replacementClass:Bt,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};hn.familyPrefix&&(hn.cssPrefix=hn.familyPrefix);const fn=lt(lt({},dn),hn);fn.autoReplaceSvg||(fn.observeMutations=!1);const pn={};Object.keys(dn).forEach((e=>{Object.defineProperty(pn,e,{enumerable:!0,set:function(t){fn[e]=t,mn.forEach((e=>e(pn)))},get:function(){return fn[e]}})})),Object.defineProperty(pn,"familyPrefix",{enumerable:!0,set:function(e){fn.cssPrefix=e,mn.forEach((e=>e(pn)))},get:function(){return fn.cssPrefix}}),mt.FontAwesomeConfig=pn;const mn=[];const gn=jt,yn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function vn(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function bn(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function wn(e){return e.classList?bn(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function _n(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kn(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function En(e){return e.size!==yn.size||e.x!==yn.x||e.y!==yn.y||e.rotate!==yn.rotate||e.flipX||e.flipY}function Sn(){const e="fa",t=Bt,n=pn.cssPrefix,r=pn.replacementClass;let i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}let In=!1;function Tn(){pn.autoAddCss&&!In&&(!function(e){if(!e||!bt)return;const t=gt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=gt.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const e=n[i],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}gt.head.insertBefore(t,r)}(Sn()),In=!0)}var Cn={mixout:()=>({dom:{css:Sn,insertCss:Tn}}),hooks:()=>({beforeDOMElementCreation(){Tn()},beforeI2svg(){Tn()}})};const xn=mt||{};xn[Vt]||(xn[Vt]={}),xn[Vt].styles||(xn[Vt].styles={}),xn[Vt].hooks||(xn[Vt].hooks={}),xn[Vt].shims||(xn[Vt].shims=[]);var An=xn[Vt];const Nn=[],Rn=function(){gt.removeEventListener("DOMContentLoaded",Rn),Pn=1,Nn.map((e=>e()))};let Pn=!1;function On(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?_n(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(_n(e[n]),'" ')),"").trim()}(n),">").concat(r.map(On).join(""),"</").concat(t,">")}function Dn(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}bt&&(Pn=(gt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(gt.readyState),Pn||gt.addEventListener("DOMContentLoaded",Rn));var Ln=function(e,t,n,r){var i,s,a,o=Object.keys(e),l=o.length,u=void 0!==r?function(e,t){return function(n,r,i,s){return e.call(t,n,r,i,s)}}(t,r):t;for(void 0===n?(i=1,a=e[o[0]]):(i=0,a=n);i<l;i++)a=u(a,e[s=o[i]],s,e);return a};function Mn(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Fn(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Un(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,i=Fn(t);"function"!==typeof An.hooks.addPack||r?An.styles[e]=lt(lt({},An.styles[e]||{}),i):An.hooks.addPack(e,Fn(t)),"fas"===e&&Un("fa",t)}const{styles:zn,shims:Vn}=An,jn=Object.keys(nn),Bn=jn.reduce(((e,t)=>(e[t]=Object.keys(nn[t]),e)),{});let qn=null,$n={},Hn={},Wn={},Kn={},Gn={};function Qn(e,t){const n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r!==e||""===i||(s=i,~cn.indexOf(s))?null:i;var s}const Yn=()=>{const e=e=>Ln(zn,((t,n,r)=>(t[r]=Ln(n,e,{}),t)),{});$n=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),Hn=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),Gn=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in zn||pn.autoFetchSvg,n=Ln(Vn,((e,n)=>{const r=n[0];let i=n[1];const s=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:s}),e}),{names:{},unicodes:{}});Wn=n.names,Kn=n.unicodes,qn=nr(pn.styleDefault,{family:pn.familyDefault})};var Jn;function Xn(e,t){return($n[e]||{})[t]}function Zn(e,t){return(Gn[e]||{})[t]}function er(e){return Wn[e]||{prefix:null,iconName:null}}function tr(){return qn}Jn=e=>{qn=nr(e.styleDefault,{family:pn.familyDefault})},mn.push(Jn),Yn();function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=Et}=t,r=Xt[n][e];if(n===St&&!e)return"fad";const i=en[n][e]||en[n][r],s=e in An.styles?e:null;return i||s||null}function rr(e){return e.sort().filter(((e,t,n)=>n.indexOf(e)===t))}function ir(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const i=Mt.concat(Dt),s=rr(e.filter((e=>i.includes(e)))),a=rr(e.filter((e=>!Mt.includes(e)))),o=s.filter((e=>(r=e,!kt.includes(e)))),[l=null]=o,u=function(e){let t=Et;const n=jn.reduce(((e,t)=>(e[t]="".concat(pn.cssPrefix,"-").concat(t),e)),{});return It.forEach((r=>{(e.includes(n[r])||e.some((e=>Bn[r].includes(e))))&&(t=r)})),t}(s),c=lt(lt({},function(e){let t=[],n=null;return e.forEach((e=>{const r=Qn(pn.cssPrefix,e);r?n=r:e&&t.push(e)})),{iconName:n,rest:t}}(a)),{},{prefix:nr(l,{family:u})});return lt(lt(lt({},c),function(e){const{values:t,family:n,canonical:r,givenPrefix:i="",styles:s={},config:a={}}=e,o=n===St,l=t.includes("fa-duotone")||t.includes("fad"),u="duotone"===a.familyDefault,c="fad"===r.prefix||"fa-duotone"===r.prefix;!o&&(l||u||c)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&sr.includes(n)){if(Object.keys(s).find((e=>ar.includes(e)))||a.autoFetchSvg){const e=Tt.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=Zn(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==i||(r.prefix=tr()||"fas");return r}({values:e,family:u,styles:zn,config:pn,canonical:c,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:i}=n;if(e||!r||!i)return{prefix:r,iconName:i};const s="fa"===t?er(i):{},a=Zn(r,i);i=s.iconName||a||i,r=s.prefix||r,"far"!==r||zn.far||!zn.fas||pn.autoFetchSvg||(r="fas");return{prefix:r,iconName:i}}(n,r,c))}const sr=It.filter((e=>e!==Et||e!==St)),ar=Object.keys(Lt).filter((e=>e!==Et)).map((e=>Object.keys(Lt[e]))).flat();let or=[],lr={};const ur={},cr=Object.keys(ur);function hr(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(lr[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(lr[e]||[]).forEach((e=>{e.apply(null,n)}))}function fr(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ur[e]?ur[e].apply(null,t):void 0}function pr(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||tr();if(t)return t=Zn(n,t)||t,Dn(mr.definitions,n,t)||Dn(An.styles,n,t)}const mr=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]=lt(lt({},this.definitions[e]||{}),r[e]),Un(e,r[e]);const t=nn[Et][e];t&&Un(t,r[e]),Yn()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:i,icon:s}=n[t],a=s[2];e[r]||(e[r]={}),a.length>0&&a.forEach((t=>{"string"===typeof t&&(e[r][t]=s)})),e[r][i]=s})),e}},gr={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return bt?(dr("beforeI2svg",e),fr("pseudoElements2svg",e),fr("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===pn.autoReplaceSvg&&(pn.autoReplaceSvg=!0),pn.observeMutations=!0,n=()=>{br({autoReplaceSvgRoot:t}),dr("watch",e)},bt&&(Pn?setTimeout(n,0):Nn.push(n))}},yr={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Zn(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=nr(e[0]);return{prefix:n,iconName:Zn(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(pn.cssPrefix,"-"))>-1||e.match(sn))){const t=ir(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||tr(),iconName:Zn(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=tr();return{prefix:t,iconName:Zn(t,e)||e}}}},vr={noAuto:()=>{pn.autoReplaceSvg=!1,pn.observeMutations=!1,dr("noAuto")},config:pn,dom:gr,parse:yr,library:mr,findIconDefinition:pr,toHtml:On},br=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=gt}=e;(Object.keys(An.styles).length>0||pn.autoFetchSvg)&&bt&&pn.autoReplaceSvg&&vr.dom.i2svg({node:t})};function wr(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>On(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!bt)return;const t=gt.createElement("div");return t.innerHTML=e.html,t.children}}),e}function _r(e){const{icons:{main:t,mask:n},prefix:r,iconName:i,transform:s,symbol:a,title:o,maskId:l,titleId:u,extra:c,watchable:h=!1}=e,{width:d,height:f}=n.found?n:t,p=Nt.includes(r),m=[pn.replacementClass,i?"".concat(pn.cssPrefix,"-").concat(i):""].filter((e=>-1===c.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(c.classes).join(" ");let g={children:[],attributes:lt(lt({},c.attributes),{},{"data-prefix":r,"data-icon":i,class:m,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(f)})};const y=p&&!~c.classes.indexOf("fa-fw")?{width:"".concat(d/f*16*.0625,"em")}:{};h&&(g.attributes[qt]=""),o&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(u||vn())},children:[o]}),delete g.attributes.title);const v=lt(lt({},g),{},{prefix:r,iconName:i,main:t,mask:n,maskId:l,transform:s,symbol:a,styles:lt(lt({},y),c.styles)}),{children:b,attributes:w}=n.found&&t.found?fr("generateAbstractMask",v)||{children:[],attributes:{}}:fr("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=b,v.attributes=w,a?function(e){let{prefix:t,iconName:n,children:r,attributes:i,symbol:s}=e;const a=!0===s?"".concat(t,"-").concat(pn.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:lt(lt({},i),{},{id:a}),children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:i,styles:s,transform:a}=e;if(En(a)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};i.style=kn(lt(lt({},s),{},{"transform-origin":"".concat(r.x+a.x/16,"em ").concat(r.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(v)}function kr(e){const{content:t,width:n,height:r,transform:i,title:s,extra:a,watchable:o=!1}=e,l=lt(lt(lt({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});o&&(l[qt]="");const u=lt({},a.styles);En(i)&&(u.transform=function(e){let{transform:t,width:n=jt,height:r=jt,startCentered:i=!1}=e,s="";return s+=i&&wt?"translate(".concat(t.x/gn-n/2,"em, ").concat(t.y/gn-r/2,"em) "):i?"translate(calc(-50% + ".concat(t.x/gn,"em), calc(-50% + ").concat(t.y/gn,"em)) "):"translate(".concat(t.x/gn,"em, ").concat(t.y/gn,"em) "),s+="scale(".concat(t.size/gn*(t.flipX?-1:1),", ").concat(t.size/gn*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const c=kn(u);c.length>0&&(l.style=c);const h=[];return h.push({tag:"span",attributes:l,children:[t]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}const{styles:Er}=An;function Sr(e){const t=e[0],n=e[1],[r]=e.slice(4);let i=null;return i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(pn.cssPrefix,"-").concat(un.GROUP)},children:[{tag:"path",attributes:{class:"".concat(pn.cssPrefix,"-").concat(un.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(pn.cssPrefix,"-").concat(un.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:i}}const Ir={found:!1,width:512,height:512};function Tr(e,t){let n=t;return"fa"===t&&null!==pn.styleDefault&&(t=tr()),new Promise(((r,i)=>{if("fa"===n){const n=er(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&Er[t]&&Er[t][e]){return r(Sr(Er[t][e]))}!function(e,t){Qt||pn.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(lt(lt({},Ir),{},{icon:pn.showMissingIcons&&e&&fr("missingIconAbstract")||{}}))}))}const Cr=()=>{},xr=pn.measurePerformance&&vt&&vt.mark&&vt.measure?vt:{mark:Cr,measure:Cr},Ar='FA "6.7.2"',Nr=e=>{xr.mark("".concat(Ar," ").concat(e," ends")),xr.measure("".concat(Ar," ").concat(e),"".concat(Ar," ").concat(e," begins"),"".concat(Ar," ").concat(e," ends"))};var Rr=e=>(xr.mark("".concat(Ar," ").concat(e," begins")),()=>Nr(e));const Pr=()=>{};function Or(e){return"string"===typeof(e.getAttribute?e.getAttribute(qt):null)}function Dr(e){return gt.createElementNS("http://www.w3.org/2000/svg",e)}function Lr(e){return gt.createElement(e)}function Mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?Dr:Lr)}=t;if("string"===typeof e)return gt.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){r.appendChild(Mr(e,{ceFn:n}))})),r}const Fr={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(Mr(e),t)})),null===t.getAttribute(qt)&&pn.keepOriginalSource){let e=gt.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~wn(t).indexOf(pn.replacementClass))return Fr.replace(e);const r=new RegExp("".concat(pn.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===pn.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const i=n.map((e=>On(e))).join("\n");t.setAttribute(qt,""),t.innerHTML=i}};function Ur(e){e()}function zr(e,t){const n="function"===typeof t?t:Pr;if(0===e.length)n();else{let t=Ur;"async"===pn.mutateApproach&&(t=mt.requestAnimationFrame||Ur),t((()=>{const t=!0===pn.autoReplaceSvg?Fr.replace:Fr[pn.autoReplaceSvg]||Fr.replace,r=Rr("mutate");e.map(t),r(),n()}))}}let Vr=!1;function jr(){Vr=!0}function Br(){Vr=!1}let qr=null;function $r(e){if(!yt)return;if(!pn.observeMutations)return;const{treeCallback:t=Pr,nodeCallback:n=Pr,pseudoElementsCallback:r=Pr,observeMutationsRoot:i=gt}=e;qr=new yt((e=>{if(Vr)return;const i=tr();bn(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!Or(e.addedNodes[0])&&(pn.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&pn.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&Or(e.target)&&~ln.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(Ht):null,n=e.getAttribute?e.getAttribute(Wt):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=ir(wn(e.target));e.target.setAttribute(Ht,t||i),n&&e.target.setAttribute(Wt,n)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(pn.replacementClass)&&n(e.target);var s}))})),bt&&qr.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Hr(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let i=ir(wn(e));return i.prefix||(i.prefix=tr()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Hn[e]||{})[t]}(i.prefix,e.innerText)||Xn(i.prefix,Mn(e.innerText))),!i.iconName&&pn.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=Hr(e),s=function(e){const t=bn(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return pn.autoA11y&&(n?t["aria-labelledby"]="".concat(pn.replacementClass,"-title-").concat(r||vn()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),a=hr("parseNodeAttributes",{},e);let o=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return lt({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:yn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:s}},a)}const{styles:Kr}=An;function Gr(e){const t="nest"===pn.autoReplaceSvg?Wr(e,{styleParser:!1}):Wr(e);return~t.extra.classes.indexOf(an)?fr("generateLayersText",e,t):fr("generateSvgReplacementMutation",e,t)}function Qr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!bt)return Promise.resolve();const n=gt.documentElement.classList,r=e=>n.add("".concat(Kt,"-").concat(e)),i=e=>n.remove("".concat(Kt,"-").concat(e)),s=pn.autoFetchSvg?[...Ct,...Mt]:kt.concat(Object.keys(Kr));s.includes("fa")||s.push("fa");const a=[".".concat(an,":not([").concat(qt,"])")].concat(s.map((e=>".".concat(e,":not([").concat(qt,"])")))).join(", ");if(0===a.length)return Promise.resolve();let o=[];try{o=bn(e.querySelectorAll(a))}catch(c){}if(!(o.length>0))return Promise.resolve();r("pending"),i("complete");const l=Rr("onTree"),u=o.reduce(((e,t)=>{try{const n=Gr(t);n&&e.push(n)}catch(c){Qt||"MissingIcon"===c.name&&console.error(c)}return e}),[]);return new Promise(((e,n)=>{Promise.all(u).then((n=>{zr(n,(()=>{r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((e=>{l(),n(e)}))}))}function Yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Gr(e).then((e=>{e&&zr([e],t)}))}const Jr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=yn,symbol:r=!1,mask:i=null,maskId:s=null,title:a=null,titleId:o=null,classes:l=[],attributes:u={},styles:c={}}=t;if(!e)return;const{prefix:h,iconName:d,icon:f}=e;return wr(lt({type:"icon"},e),(()=>(dr("beforeDOMElementCreation",{iconDefinition:e,params:t}),pn.autoA11y&&(a?u["aria-labelledby"]="".concat(pn.replacementClass,"-title-").concat(o||vn()):(u["aria-hidden"]="true",u.focusable="false")),_r({icons:{main:Sr(f),mask:i?Sr(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:d,transform:lt(lt({},yn),n),symbol:r,title:a,maskId:s,titleId:o,extra:{attributes:u,styles:c,classes:l}}))))};var Xr={mixout(){return{icon:(e=Jr,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:pr(t||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:pr(i||{})),e(r,lt(lt({},n),{},{mask:i}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=Qr,e.nodeCallback=Yr,e)}),provides(e){e.i2svg=function(e){const{node:t=gt,callback:n=()=>{}}=e;return Qr(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:i,prefix:s,transform:a,symbol:o,mask:l,maskId:u,extra:c}=t;return new Promise(((t,h)=>{Promise.all([Tr(n,s),l.iconName?Tr(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[h,d]=l;t([e,_r({icons:{main:h,mask:d},prefix:s,iconName:n,transform:a,symbol:o,maskId:u,title:r,titleId:i,extra:c,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:i,styles:s}=e;const a=kn(s);let o;return a.length>0&&(n.style=a),En(i)&&(o=fr("generateAbstractTransformGrouping",{main:r,transform:i,containerWidth:r.width,iconWidth:r.width})),t.push(o||r.icon),{children:t,attributes:n}}}},Zr={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return wr({type:"layer"},(()=>{dr("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(pn.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},ei={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=t;return wr({type:"counter",content:e},(()=>(dr("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,i=lt(lt(lt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=kn(r.styles);s.length>0&&(i.style=s);const a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(pn.cssPrefix,"-layers-counter"),...r]}}))))}})},ti={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=yn,title:r=null,classes:i=[],attributes:s={},styles:a={}}=t;return wr({type:"text",content:e},(()=>(dr("beforeDOMElementCreation",{content:e,params:t}),kr({content:e,transform:lt(lt({},yn),n),title:r,extra:{attributes:s,styles:a,classes:["".concat(pn.cssPrefix,"-layers-text"),...i]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:i}=t;let s=null,a=null;if(wt){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();s=n.width/t,a=n.height/t}return pn.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,kr({content:e.innerHTML,width:s,height:a,transform:r,title:n,extra:i,watchable:!0})])}}};const ni=new RegExp('"',"ug"),ri=[1105920,1112319],ii=lt(lt(lt(lt({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),si=Object.keys(ii).reduce(((e,t)=>(e[t.toLowerCase()]=ii[t],e)),{}),ai=Object.keys(si).reduce(((e,t)=>{const n=si[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function oi(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((r,i)=>{if(null!==e.getAttribute(n))return r();const s=bn(e.children).filter((e=>e.getAttribute($t)===t))[0],a=mt.getComputedStyle(e,t),o=a.getPropertyValue("font-family"),l=o.match(on),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(s&&!l)return e.removeChild(s),r();if(l&&"none"!==c&&""!==c){const c=a.getPropertyValue("content");let h=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return(si[n]||{})[i]||ai[n]}(o,u);const{value:d,isSecondary:f}=function(e){const t=e.replace(ni,""),n=function(e,t){const n=e.length;let r,i=e.charCodeAt(t);return i>=55296&&i<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(i-55296)+r-56320+65536:i}(t,0),r=n>=ri[0]&&n<=ri[1],i=2===t.length&&t[0]===t[1];return{value:Mn(i?t[0]:t),isSecondary:r||i}}(c),p=l[0].startsWith("FontAwesome");let m=Xn(h,d),g=m;if(p){const e=function(e){const t=Kn[e],n=Xn("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);e.iconName&&e.prefix&&(m=e.iconName,h=e.prefix)}if(!m||f||s&&s.getAttribute(Ht)===h&&s.getAttribute(Wt)===g)r();else{e.setAttribute(n,g),s&&e.removeChild(s);const a={iconName:null,title:null,titleId:null,prefix:null,transform:yn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:o}=a;o.attributes[$t]=t,Tr(m,h).then((i=>{const s=_r(lt(lt({},a),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:g,extra:o,watchable:!0})),l=gt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=s.map((e=>On(e))).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function li(e){return Promise.all([oi(e,"::before"),oi(e,"::after")])}function ui(e){return e.parentNode!==document.head&&!~Gt.indexOf(e.tagName.toUpperCase())&&!e.getAttribute($t)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function ci(e){if(bt)return new Promise(((t,n)=>{const r=bn(e.querySelectorAll("*")).filter(ui).map(li),i=Rr("searchPseudoElements");jr(),Promise.all(r).then((()=>{i(),Br(),t()})).catch((()=>{i(),Br(),n()}))}))}var hi={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=ci,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=gt}=e;pn.searchPseudoElements&&ci(t)}}};let di=!1;var fi={mixout:()=>({dom:{unwatch(){jr(),di=!0}}}),hooks:()=>({bootstrap(){$r(hr("mutationObserverCallbacks",{}))},noAuto(){qr&&qr.disconnect()},watch(e){const{observeMutationsRoot:t}=e;di?Br():$r(hr("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const pi=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var mi={mixout:()=>({parse:{transform:e=>pi(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=pi(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:i}=e;const s={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),u={outer:s,inner:{transform:"".concat(a," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:lt({},u.outer),children:[{tag:"g",attributes:lt({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:lt(lt({},t.icon.attributes),u.path)}]}]}}}};const gi={x:0,y:0,width:"100%",height:"100%"};function yi(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var vi={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?ir(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=tr()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:i,maskId:s,transform:a}=e;const{width:o,icon:l}=r,{width:u,icon:c}=i,h=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:a,containerWidth:u,iconWidth:o}),d={tag:"rect",attributes:lt(lt({},gi),{},{fill:"white"})},f=l.children?{children:l.children.map(yi)}:{},p={tag:"g",attributes:lt({},h.inner),children:[yi(lt({tag:l.tag,attributes:lt(lt({},l.attributes),h.path)},f))]},m={tag:"g",attributes:lt({},h.outer),children:[p]},g="mask-".concat(s||vn()),y="clip-".concat(s||vn()),v={tag:"mask",attributes:lt(lt({},gi),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(w=c,"g"===w.tag?w.children:[w])},v]};var w;return t.push(b,{tag:"rect",attributes:lt({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},gi)}),{children:t,attributes:n}}}},bi={provides(e){let t=!1;mt.matchMedia&&(t=mt.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:lt(lt({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=lt(lt({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:lt(lt({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:lt(lt({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:lt(lt({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:lt(lt({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:lt(lt({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:lt(lt({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:lt(lt({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;or=e,lr={},Object.keys(ur).forEach((e=>{-1===cr.indexOf(e)&&delete ur[e]})),or.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{lr[e]||(lr[e]=[]),lr[e].push(t[e])}))}e.provides&&e.provides(ur)}))}([Cn,Xr,Zr,ei,ti,hi,fi,mi,vi,bi,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:vr});const wi=vr.parse,_i=vr.icon;var ki=n(173),Ei=n.n(ki);function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach((function(t){Ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ti(e){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti(e)}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ai(e){return function(e){if(Array.isArray(e))return Ni(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ni(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ri(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Pi=["style"];var Oi=!1;try{Oi=!0}catch(Zx){}function Di(e){return e&&"object"===Ti(e)&&e.prefix&&e.iconName&&e.icon?e:wi.icon?wi.icon(e):null===e?null:e&&"object"===Ti(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Li(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ci({},e,t):{}}var Mi={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Fi=r.forwardRef((function(e,t){var n=Ii(Ii({},Mi),e),r=n.icon,i=n.mask,s=n.symbol,a=n.className,o=n.title,l=n.titleId,u=n.maskId,c=Di(r),h=Li("classes",[].concat(Ai(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,s=e.bounce,a=e.shake,o=e.flash,l=e.spin,u=e.spinPulse,c=e.spinReverse,h=e.pulse,d=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,y=e.size,v=e.rotation,b=e.pull,w=(Ci(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":h,"fa-fw":d,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(y),"undefined"!==typeof y&&null!==y),Ci(t,"fa-rotate-".concat(v),"undefined"!==typeof v&&null!==v&&0!==v),Ci(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),Ci(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),Ai((a||"").split(" ")))),d=Li("transform","string"===typeof n.transform?wi.transform(n.transform):n.transform),f=Li("mask",Di(i)),p=_i(c,Ii(Ii(Ii(Ii({},h),d),f),{},{symbol:s,title:o,titleId:l,maskId:u}));if(!p)return function(){var e;!Oi&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var m=p.abstract,g={ref:t};return Object.keys(n).forEach((function(e){Mi.hasOwnProperty(e)||(g[e]=n[e])})),Ui(m[0],g)}));Fi.displayName="FontAwesomeIcon",Fi.propTypes={beat:Ei().bool,border:Ei().bool,beatFade:Ei().bool,bounce:Ei().bool,className:Ei().string,fade:Ei().bool,flash:Ei().bool,mask:Ei().oneOfType([Ei().object,Ei().array,Ei().string]),maskId:Ei().string,fixedWidth:Ei().bool,inverse:Ei().bool,flip:Ei().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ei().oneOfType([Ei().object,Ei().array,Ei().string]),listItem:Ei().bool,pull:Ei().oneOf(["right","left"]),pulse:Ei().bool,rotation:Ei().oneOf([0,90,180,270]),shake:Ei().bool,size:Ei().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ei().bool,spinPulse:Ei().bool,spinReverse:Ei().bool,symbol:Ei().oneOfType([Ei().bool,Ei().string]),title:Ei().string,titleId:Ei().string,transform:Ei().oneOfType([Ei().string,Ei().object]),swapOpacity:Ei().bool};var Ui=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),s=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Ri(t.slice(0,r)),s=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[i]=s,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Ri(t)]=r}return e}),{attrs:{}}),a=r.style,o=void 0===a?{}:a,l=xi(r,Pi);return s.attrs.style=Ii(Ii({},s.attrs.style),o),t.apply(void 0,[n.tag,Ii(Ii({},s.attrs),l)].concat(Ai(i)))}.bind(null,r.createElement);const zi={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},Vi={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},ji={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};const Bi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new $i;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class $i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hi=function(e){return function(e){const t=Bi(e);return qi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Wi=function(e){try{return qi.decodeString(e,!0)}catch(Zx){console.error("base64Decode failed: ",Zx)}return null};function Ki(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ki(e[n],t[n]));return e}function Gi(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Qi=()=>{try{return Gi().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/nwitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyA6UJGNu8DQYYWLIWXAkoL53uTdr8cMsgY",REACT_APP_APP_ID:"1:657152044135:web:915c7f8f1f17a93dd9f8c2",REACT_APP_AUTH_DOMAIN:"nwitter-eecee.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"657152044135",REACT_APP_PROJECT_ID:"nwitter-eecee",REACT_APP_STORAGE_BUCKET:"nwitter-eecee.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Zx){return}const t=e&&Wi(e[1]);return t&&JSON.parse(t)})()}catch(Zx){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Zx}`)}},Yi=()=>{var e;return null===(e=Qi())||void 0===e?void 0:e.config};class Ji{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Xi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Hi(JSON.stringify({alg:"none",type:"JWT"})),Hi(JSON.stringify(s)),""].join(".")}function Zi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function es(){var e;const t=null===(e=Qi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Zx){return!1}}function ts(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function ns(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function rs(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function is(){const e=Zi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ss(){return!es()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function as(){try{return"object"===typeof indexedDB}catch(Zx){return!1}}class os extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ls.prototype.create)}}class ls{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(us,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new os(n,s,t)}}const us=/\{\$([^}]+)}/g;function cs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ds(n)&&ds(s)){if(!hs(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ds(e){return null!==e&&"object"===typeof e}function fs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ps(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ms(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function gs(e,t){const n=new ys(e,t);return n.subscribe.bind(n)}class ys{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vs),void 0===r.error&&(r.error=vs),void 0===r.complete&&(r.complete=vs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Zx){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Zx){"undefined"!==typeof console&&console.error&&console.error(Zx)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function vs(){}function bs(e){return e&&e._delegate?e._delegate:e}class ws{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _s="[DEFAULT]";class ks{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ji;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Zx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Zx){if(r)return null;throw Zx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch(Zx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Zx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===_s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s;return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Es{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ks(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ss=[];var Is;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Is||(Is={}));const Ts={debug:Is.DEBUG,verbose:Is.VERBOSE,info:Is.INFO,warn:Is.WARN,error:Is.ERROR,silent:Is.SILENT},Cs=Is.INFO,xs={[Is.DEBUG]:"log",[Is.VERBOSE]:"log",[Is.INFO]:"info",[Is.WARN]:"warn",[Is.ERROR]:"error"},As=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xs[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Ns{constructor(e){this.name=e,this._logLevel=Cs,this._logHandler=As,this._userLogHandler=null,Ss.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Is))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ts[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Is.DEBUG,...t),this._logHandler(this,Is.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Is.VERBOSE,...t),this._logHandler(this,Is.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Is.INFO,...t),this._logHandler(this,Is.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Is.WARN,...t),this._logHandler(this,Is.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Is.ERROR,...t),this._logHandler(this,Is.ERROR,...t)}}let Rs,Ps;const Os=new WeakMap,Ds=new WeakMap,Ls=new WeakMap,Ms=new WeakMap,Fs=new WeakMap;let Us={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ds.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ls.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function zs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ps||(Ps=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bs(this),n),js(Os.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return js(e.apply(Bs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Bs(this),t,...r);return Ls.set(s,t.sort?t.sort():[t]),js(s)}}function Vs(e){return"function"===typeof e?zs(e):(e instanceof IDBTransaction&&function(e){if(Ds.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Ds.set(e,t)}(e),t=e,(Rs||(Rs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Us):e);var t}function js(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(js(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Os.set(t,e)})).catch((()=>{})),Fs.set(t,e),t}(e);if(Ms.has(e))return Ms.get(e);const t=Vs(e);return t!==e&&(Ms.set(e,t),Fs.set(t,e)),t}const Bs=e=>Fs.get(e);const qs=["get","getKey","getAll","getAllKeys","count"],$s=["put","add","delete","clear"],Hs=new Map;function Ws(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Hs.get(t))return Hs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$s.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qs.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Hs.set(t,s),s}Us=(e=>({...e,get:(t,n,r)=>Ws(t,n)||e.get(t,n,r),has:(t,n)=>!!Ws(t,n)||e.has(t,n)}))(Us);class Ks{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Gs="@firebase/app",Qs="0.11.3",Ys=new Ns("@firebase/app"),Js="@firebase/app-compat",Xs="@firebase/analytics-compat",Zs="@firebase/analytics",ea="@firebase/app-check-compat",ta="@firebase/app-check",na="@firebase/auth",ra="@firebase/auth-compat",ia="@firebase/database",sa="@firebase/data-connect",aa="@firebase/database-compat",oa="@firebase/functions",la="@firebase/functions-compat",ua="@firebase/installations",ca="@firebase/installations-compat",ha="@firebase/messaging",da="@firebase/messaging-compat",fa="@firebase/performance",pa="@firebase/performance-compat",ma="@firebase/remote-config",ga="@firebase/remote-config-compat",ya="@firebase/storage",va="@firebase/storage-compat",ba="@firebase/firestore",wa="@firebase/vertexai",_a="@firebase/firestore-compat",ka="firebase",Ea="[DEFAULT]",Sa={[Gs]:"fire-core",[Js]:"fire-core-compat",[Zs]:"fire-analytics",[Xs]:"fire-analytics-compat",[ta]:"fire-app-check",[ea]:"fire-app-check-compat",[na]:"fire-auth",[ra]:"fire-auth-compat",[ia]:"fire-rtdb",[sa]:"fire-data-connect",[aa]:"fire-rtdb-compat",[oa]:"fire-fn",[la]:"fire-fn-compat",[ua]:"fire-iid",[ca]:"fire-iid-compat",[ha]:"fire-fcm",[da]:"fire-fcm-compat",[fa]:"fire-perf",[pa]:"fire-perf-compat",[ma]:"fire-rc",[ga]:"fire-rc-compat",[ya]:"fire-gcs",[va]:"fire-gcs-compat",[ba]:"fire-fst",[_a]:"fire-fst-compat",[wa]:"fire-vertex","fire-js":"fire-js",[ka]:"fire-js-all"},Ia=new Map,Ta=new Map,Ca=new Map;function xa(e,t){try{e.container.addComponent(t)}catch(Zx){Ys.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Zx)}}function Aa(e,t){e.container.addOrOverwriteComponent(t)}function Na(e){const t=e.name;if(Ca.has(t))return Ys.debug(`There were multiple attempts to register component ${t}.`),!1;Ca.set(t,e);for(const n of Ia.values())xa(n,e);for(const n of Ta.values())xa(n,e);return!0}function Ra(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ea;Ra(e,t).clearInstance(n)}function Oa(e){return void 0!==e.options}function Da(e){return null!==e&&void 0!==e&&void 0!==e.settings}function La(){Ca.clear()}const Ma=new ls("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Fa{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ws("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}function Ua(e,t){const n=Wi(e.split(".")[1]);if(null===n)return void console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);if(void 0===JSON.parse(n).exp)return void console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);1e3*JSON.parse(n).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class za extends Fa{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._serverConfig.authIdToken&&Ua(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Ua(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Wa(Gs,Qs,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ha(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ma.create("server-app-deleted")}}const Va="11.5.0";function ja(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ea,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ma.create("bad-app-name",{appName:String(i)});if(n||(n=Yi()),!n)throw Ma.create("no-options");const s=Ia.get(i);if(s){if(hs(n,s.options)&&hs(r,s.config))return s;throw Ma.create("duplicate-app",{appName:i})}const a=new Es(i);for(const l of Ca.values())a.addComponent(l);const o=new Fa(n,r,a);return Ia.set(i,o),o}function Ba(e,t){if(("undefined"!==typeof window||ts())&&!ts())throw Ma.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Oa(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Ma.create("finalization-registry-not-supported",{});const i=""+(e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0))(JSON.stringify(r)),s=Ta.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new Es(i);for(const l of Ca.values())a.addComponent(l);const o=new za(n,t,i,a);return Ta.set(i,o),o}function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea;const t=Ia.get(e);if(!t&&e===Ea&&Yi())return ja();if(!t)throw Ma.create("no-app",{appName:e});return t}function $a(){return Array.from(Ia.values())}async function Ha(e){let t=!1;const n=e.name;if(Ia.has(n))t=!0,Ia.delete(n);else if(Ta.has(n)){e.decRefCount()<=0&&(Ta.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Wa(e,t,n){var r;let i=null!==(r=Sa[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ys.warn(e.join(" "))}Na(new ws(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Ka(e,t){if(null!==e&&"function"!==typeof e)throw Ma.create("invalid-log-argument");!function(e,t){for(const n of Ss){let r=null;t&&t.level&&(r=Ts[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Is[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function Ga(e){var t;t=e,Ss.forEach((e=>{e.setLogLevel(t)}))}const Qa="firebase-heartbeat-store";let Ya=null;function Ja(){return Ya||(Ya=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=js(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(js(a.result),e.oldVersion,e.newVersion,js(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Qa)}catch(Zx){console.warn(Zx)}}}).catch((e=>{throw Ma.create("idb-open",{originalErrorMessage:e.message})}))),Ya}async function Xa(e,t){try{const n=(await Ja()).transaction(Qa,"readwrite"),r=n.objectStore(Qa);await r.put(t,Za(e)),await n.done}catch(Zx){if(Zx instanceof os)Ys.warn(Zx.message);else{const t=Ma.create("idb-set",{originalErrorMessage:null===Zx||void 0===Zx?void 0:Zx.message});Ys.warn(t.message)}}}function Za(e){return`${e.name}!${e.options.appId}`}class eo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new no(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=to();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Zx){Ys.warn(Zx)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=to(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ro(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ro(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Hi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Zx){return Ys.warn(Zx),""}}}function to(){return(new Date).toISOString().substring(0,10)}class no{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!as()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ja()).transaction(Qa),n=await t.objectStore(Qa).get(Za(e));return await t.done,n}catch(Zx){if(Zx instanceof os)Ys.warn(Zx.message);else{const t=Ma.create("idb-get",{originalErrorMessage:null===Zx||void 0===Zx?void 0:Zx.message});Ys.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ro(e){return Hi(JSON.stringify({version:2,heartbeats:e})).length}var io;io="",Na(new ws("platform-logger",(e=>new Ks(e)),"PRIVATE")),Na(new ws("heartbeat",(e=>new eo(e)),"PRIVATE")),Wa(Gs,Qs,io),Wa(Gs,Qs,"esm2017"),Wa("fire-js","");class so{constructor(e,t){this._delegate=e,this.firebase=t,xa(e,new ws("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ha(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ea;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ea;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){xa(this._delegate,e)}_addOrOverwriteComponent(e){Aa(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ao=new ls("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const oo=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=ja(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(cs(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Wa,setLogLevel:Ga,onLog:Ka,apps:null,SDK_VERSION:Va,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Na(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw ao.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ki(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!cs(n,e=e||Ea))throw ao.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(so);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ki(n,e)},createSubscribe:gs,ErrorFactory:ls,deepExtend:Ki}),n}(),lo=new Ns("@firebase/app-compat");try{const e=Gi();if(void 0!==e.firebase){lo.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&lo.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(eA){}const uo=oo;!function(e){Wa("@firebase/app-compat","0.2.52",e)}();uo.registerVersion("firebase","11.5.0","app-compat");function co(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const ho="facebook.com",fo="github.com",po="google.com",mo="password",go="twitter.com",yo="EMAIL_SIGNIN",vo="PASSWORD_RESET",bo="RECOVER_EMAIL",wo="REVERT_SECOND_FACTOR_ADDITION",_o="VERIFY_AND_CHANGE_EMAIL",ko="VERIFY_EMAIL";function Eo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const So=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}},Io=Eo,To=new ls("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Co=new Ns("@firebase/auth");function xo(e){if(Co.logLevel<=Is.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Co.error(`Auth (${Va}): ${e}`,...n)}}function Ao(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Do(e,...n)}function No(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Do(e,...n)}function Ro(e,t,n){const r=Object.assign(Object.assign({},Io()),{[t]:n});return new ls("auth","Firebase",r).create(t,{appName:e.name})}function Po(e){return Ro(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ao(e,"argument-error"),Ro(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Do(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return To.create(e,...n)}function Lo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Do(t,...r)}}function Mo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xo(t),new Error(t)}function Fo(e,t){e||Mo(t)}function Uo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zo(){return"http:"===Vo()||"https:"===Vo()}function Vo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class jo{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fo(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zi())||rs()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(zo()||ns()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Bo(e,t){Fo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class qo{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $o={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ho=new jo(3e4,6e4);function Wo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ko(e,t,n,r){return Go(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=fs(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),qo.fetch()(Yo(e,e.config.apiHost,n,a),l)}))}async function Go(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$o),t);try{const t=new Xo(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Zo(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Zo(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Zo(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Zo(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ro(e,o,a);Ao(e,o)}}catch(Zx){if(Zx instanceof os)throw Zx;Ao(e,"network-request-failed",{message:String(Zx)})}}async function Qo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ko(e,t,n,r,i);return"mfaPendingCredential"in s&&Ao(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Yo(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Bo(e.config,i):`${e.config.apiScheme}://${i}`}function Jo(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xo{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(No(this.auth,"network-request-failed"))),Ho.get())}))}}function Zo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=No(e,t,r);return i.customData._tokenResponse=n,i}function el(e){return void 0!==e&&void 0!==e.getResponse}function tl(e){return void 0!==e&&void 0!==e.enterprise}class nl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Jo(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rl(e,t){return Ko(e,"GET","/v2/recaptchaConfig",Wo(e,t))}async function il(e,t){return Ko(e,"POST","/v1/accounts:lookup",t)}function sl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Zx){}}function al(e){return 1e3*Number(e)}function ol(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return xo("JWT malformed, contained fewer than 3 sections"),null;try{const e=Wi(n);return e?JSON.parse(e):(xo("Failed to decode base64 JWT payload"),null)}catch(Zx){return xo("Caught error parsing JWT payload as JSON",null===Zx||void 0===Zx?void 0:Zx.toString()),null}}function ll(e){const t=ol(e);return Lo(t,"internal-error"),Lo("undefined"!==typeof t.exp,"internal-error"),Lo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ul(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Zx){throw Zx instanceof os&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Zx)&&e.auth.currentUser===e&&await e.auth.signOut(),Zx}}class cl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Zx){return void("auth/network-request-failed"===(null===Zx||void 0===Zx?void 0:Zx.code)&&this.schedule(!0))}this.schedule()}}class hl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dl(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ul(e,il(n,{idToken:r}));Lo(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?fl(s.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),c=!!l&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new hl(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}function fl(e){return e.map((e=>{var{providerId:t}=e,n=co(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Lo(e.idToken,"internal-error"),Lo("undefined"!==typeof e.idToken,"internal-error"),Lo("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ll(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Lo(0!==e.length,"internal-error");const t=ll(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Lo(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Go(e,{},(async()=>{const n=fs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Yo(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qo.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new pl;return n&&(Lo("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Lo("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Lo("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Mo("not implemented")}}function ml(e,t){Lo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gl{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=co(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ul(this,this.stsTokenManager.getToken(this.auth,e));return Lo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=bs(e),r=await n.getIdToken(t),i=ol(r);Lo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sl(al(i.auth_time)),issuedAtTime:sl(al(i.iat)),expirationTime:sl(al(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=bs(e);await dl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Lo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Lo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await dl(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Da(this.auth.app))return Promise.reject(Po(this.auth));const e=await this.getIdToken();return await ul(this,async function(e,t){return Ko(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:k}=t;Lo(v&&k,e,"internal-error");const E=pl.fromJSON(this.name,k);Lo("string"===typeof v,e,"internal-error"),ml(c,e.name),ml(h,e.name),Lo("boolean"===typeof b,e,"internal-error"),Lo("boolean"===typeof w,e,"internal-error"),ml(d,e.name),ml(f,e.name),ml(p,e.name),ml(m,e.name),ml(g,e.name),ml(y,e.name);const S=new gl({uid:v,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pl;r.updateFromServerResponse(t);const i=new gl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await dl(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Lo(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?fl(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new pl;a.updateFromIdToken(n);const o=new gl({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new hl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const yl=new Map;function vl(e){Fo(e instanceof Function,"Expected a class definition");let t=yl.get(e);return t?(Fo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yl.set(e,t),t)}class bl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bl.type="NONE";const wl=bl;function _l(e,t,n){return`firebase:${e}:${t}:${n}`}class kl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_l(this.userKey,r.apiKey,i),this.fullPersistenceKey=_l("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kl(vl(wl),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||vl(wl);const s=_l(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=gl._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(eA){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(eA){}}))),new kl(i,e,n)):new kl(i,e,n)}}function El(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Al(t))return"Blackberry";if(Nl(t))return"Webos";if(Il(t))return"Safari";if((t.includes("chrome/")||Tl(t))&&!t.includes("edge/"))return"Chrome";if(xl(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Sl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/firefox\//i.test(e)}function Il(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/crios\//i.test(e)}function Cl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/iemobile/i.test(e)}function xl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/android/i.test(e)}function Al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/blackberry/i.test(e)}function Nl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/webos/i.test(e)}function Rl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return Rl(e)||xl(e)||Nl(e)||Al(e)||/windows phone/i.test(e)||Cl(e)}function Ol(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=El(Zi());break;case"Worker":t=`${El(Zi())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Va}/${r}`}class Dl{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Zx){r(Zx)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Zx){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Zx||void 0===Zx?void 0:Zx.message})}}}class Ll{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ml{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ul(this),this.idTokenSubscription=new Ul(this),this.beforeStateQueue=new Dl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=To,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vl(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Zx){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await il(this,{idToken:e}),n=await gl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Da(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Zx){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Zx)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Lo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Zx){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dl(e)}catch(Zx){if("auth/network-request-failed"!==(null===Zx||void 0===Zx?void 0:Zx.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Da(this.app))return Promise.reject(Po(this));const t=e?bs(e):null;return t&&Lo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Lo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Da(this.app)?Promise.reject(Po(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Da(this.app)?Promise.reject(Po(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(vl(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ko(e,"GET","/v2/passwordPolicy",Wo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ll(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ls("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ko(e,"POST","/v2/accounts:revokeToken",Wo(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vl(e)||this._popupRedirectResolver;Lo(t,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[vl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lo(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Lo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ol(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Co.logLevel<=Is.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Co.warn(`Auth (${Va}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Fl(e){return bs(e)}class Ul{constructor(e){this.auth=e,this.observer=null,this.addObserver=gs((e=>this.observer=e))}get next(){return Lo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vl(e){return zl.loadJS(e)}function jl(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Bl=1e12;class ql{constructor(e){this.auth=e,this.counter=Bl,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Wl(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Bl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Bl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Bl;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class $l{constructor(){this.enterprise=new Hl}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Hl{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Wl{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Lo(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(Zx){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(Zx){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kl="NO_RECAPTCHA";class Gl{constructor(e){this.type="recaptcha-enterprise",this.auth=Fl(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;tl(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Kl)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new $l).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{rl(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new nl(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&tl(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=zl.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Vl(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ql(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Gl(e);let a;if(i)a=Kl;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Yl(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ql(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ql(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Ql(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Ql(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Ql(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Jl(e){const t=Fl(e),n=await rl(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new nl(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Gl(t).verify()}}function Xl(e,t,n){const r=Fl(e);Lo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Zl(t),{host:a,port:o}=function(e){const t=Zl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:eu(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:eu(t)}}}(t),l={url:`${s}//${a}${null===o?"":`:${o}`}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Lo(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Lo(hs(l,r.config.emulator)&&hs(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Zl(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class tu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mo("not implemented")}_getIdTokenResponse(e){return Mo("not implemented")}_linkToIdToken(e,t){return Mo("not implemented")}_getReauthenticationResolver(e){return Mo("not implemented")}}async function nu(e,t){return Ko(e,"POST","/v1/accounts:resetPassword",Wo(e,t))}async function ru(e,t){return Ko(e,"POST","/v1/accounts:signUp",t)}async function iu(e,t){return Qo(e,"POST","/v1/accounts:signInWithPassword",Wo(e,t))}async function su(e,t){return Ko(e,"POST","/v1/accounts:sendOobCode",Wo(e,t))}async function au(e,t){return su(e,t)}async function ou(e,t){return su(e,t)}class lu extends tu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lu(e,t,"password")}static _fromEmailAndCode(e,t){return new lu(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Yl(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",iu,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qo(e,"POST","/v1/accounts:signInWithEmailLink",Wo(e,t))}(e,{email:this._email,oobCode:this._password});default:Ao(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Yl(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ru,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qo(e,"POST","/v1/accounts:signInWithEmailLink",Wo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ao(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uu(e,t){return Qo(e,"POST","/v1/accounts:signInWithIdp",Wo(e,t))}class cu extends tu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new cu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ao("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=co(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new cu(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return uu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,uu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fs(t)}return e}}async function hu(e,t){return Ko(e,"POST","/v1/accounts:sendVerificationCode",Wo(e,t))}const du={USER_NOT_FOUND:"user-not-found"};class fu extends tu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qo(e,"POST","/v1/accounts:signInWithPhoneNumber",Wo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qo(e,"POST","/v1/accounts:signInWithPhoneNumber",Wo(e,t));if(n.temporaryProof)throw Zo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qo(e,"POST","/v1/accounts:signInWithPhoneNumber",Wo(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),du)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new fu({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class pu{constructor(e){var t,n,r,i,s,a;const o=ps(ms(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Lo(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ps(ms(e)).link,n=t?ps(ms(t)).deep_link_id:null,r=ps(ms(e)).deep_link_id;return(r?ps(ms(r)).link:null)||r||n||t||e}(e);try{return new pu(t)}catch(eA){return null}}}class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,t){return lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pu.parseLink(t);return Lo(n,"argument-error"),lu._fromEmailAndCode(e,n.code,n.tenantId)}}mu.PROVIDER_ID="password",mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends gu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vu extends yu{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Lo("providerId"in t&&"signInMethod"in t,"argument-error"),cu._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Lo(e.idToken||e.accessToken,"argument-error"),cu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return vu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return vu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new vu(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(Zx){return null}}}class bu extends yu{constructor(){super("facebook.com")}static credential(e){return cu._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bu.credential(t.oauthAccessToken)}catch(eA){return null}}}bu.FACEBOOK_SIGN_IN_METHOD="facebook.com",bu.PROVIDER_ID="facebook.com";class wu extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return cu._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return wu.credential(n,r)}catch(eA){return null}}}wu.GOOGLE_SIGN_IN_METHOD="google.com",wu.PROVIDER_ID="google.com";class _u extends yu{constructor(){super("github.com")}static credential(e){return cu._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _u.credential(t.oauthAccessToken)}catch(eA){return null}}}_u.GITHUB_SIGN_IN_METHOD="github.com",_u.PROVIDER_ID="github.com";class ku extends tu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return uu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,uu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ku(n,i):null}static _create(e,t){return new ku(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Eu extends gu{constructor(e){Lo(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Eu.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Eu.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ku.fromJSON(e);return Lo(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return ku._create(r,n)}catch(Zx){return null}}}class Su extends yu{constructor(){super("twitter.com")}static credential(e,t){return cu._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Su.credentialFromTaggedObject(e)}static credentialFromError(e){return Su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Su.credential(n,r)}catch(eA){return null}}}async function Iu(e,t){return Qo(e,"POST","/v1/accounts:signUp",Wo(e,t))}Su.TWITTER_SIGN_IN_METHOD="twitter.com",Su.PROVIDER_ID="twitter.com";class Tu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await gl._fromIdTokenResponse(e,n,r),s=Cu(n);return new Tu({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Cu(n);return new Tu({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Cu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class xu extends os{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,xu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new xu(e,t,n,r)}}function Au(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw xu._fromErrorAndOperation(e,n,t,r);throw n}))}function Nu(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ru(e,t){const n=bs(e);await Ou(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ko(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Nu(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Pu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ul(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Tu._forOperation(e,"link",r)}async function Ou(e,t,n){await dl(t);const r=!1===e?"provider-already-linked":"no-such-provider";Lo(Nu(t.providerData).has(n)===e,t.auth,r)}async function Du(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Da(r.app))return Promise.reject(Po(r));const i="reauthenticate";try{const s=await ul(e,Au(r,i,t,e),n);Lo(s.idToken,r,"internal-error");const a=ol(s.idToken);Lo(a,r,"internal-error");const{sub:o}=a;return Lo(e.uid===o,r,"user-mismatch"),Tu._forOperation(e,i,s)}catch(Zx){throw"auth/user-not-found"===(null===Zx||void 0===Zx?void 0:Zx.code)&&Ao(r,"user-mismatch"),Zx}}async function Lu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Da(e.app))return Promise.reject(Po(e));const r="signIn",i=await Au(e,r,t),s=await Tu._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Mu(e,t){return Lu(Fl(e),t)}async function Fu(e,t){const n=bs(e);return await Ou(!1,n,t.providerId),Pu(n,t)}async function Uu(e,t){return Du(bs(e),t)}async function zu(e,t){if(Da(e.app))return Promise.reject(Po(e));const n=Fl(e),r=await async function(e,t){return Qo(e,"POST","/v1/accounts:signInWithCustomToken",Wo(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Tu._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Vu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ju._fromServerResponse(e,t):"totpInfo"in t?Bu._fromServerResponse(e,t):Ao(e,"internal-error")}}class ju extends Vu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ju(t)}}class Bu extends Vu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Bu(t)}}function qu(e,t,n){var r;Lo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Lo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Lo("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Lo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Lo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function $u(e){const t=Fl(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Hu(e,t){await async function(e,t){return Ko(e,"POST","/v1/accounts:update",Wo(e,t))}(bs(e),{oobCode:t})}async function Wu(e,t){const n=bs(e),r=await nu(n,{oobCode:t}),i=r.requestType;switch(Lo(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Lo(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Lo(r.mfaInfo,n,"internal-error");default:Lo(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Vu._fromServerResponse(Fl(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Ku(e,t){const n={identifier:t,continueUri:zo()?Uo():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ko(e,"POST","/v1/accounts:createAuthUri",Wo(e,t))}(bs(e),n);return r||[]}async function Gu(e,t){const n=bs(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&qu(n.auth,r,t);const{email:i}=await async function(e,t){return su(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Qu(e,t,n){const r=bs(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&qu(r.auth,i,n);const{email:s}=await async function(e,t){return su(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Yu(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=bs(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await ul(i,async function(e,t){return Ko(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function Ju(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await ul(e,async function(e,t){return Ko(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Xu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Zu extends Xu{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ec extends Xu{constructor(e,t){super(e,"facebook.com",t)}}class tc extends Zu{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class nc extends Xu{constructor(e,t){super(e,"google.com",t)}}class rc extends Zu{constructor(e,t,n){super(e,"twitter.com",t,n)}}function ic(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=ol(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Xu(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ec(s,i);case"github.com":return new tc(s,i);case"google.com":return new nc(s,i);case"twitter.com":return new rc(s,i,e.screenName||null);case"custom":case"anonymous":return new Xu(s,null);default:return new Xu(s,r,i)}}(n)}class sc{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new sc("enroll",e,t)}static _fromMfaPendingCredential(e){return new sc("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return sc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return sc._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ac{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Fl(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Vu._fromServerResponse(n,e)));Lo(r.mfaPendingCredential,n,"internal-error");const s=sc._fromMfaPendingCredential(r.mfaPendingCredential);return new ac(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Tu._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Lo(t.user,n,"internal-error"),Tu._forOperation(t.user,t.operationType,a);default:Ao(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function oc(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:start",Wo(e,t))}class lc{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Vu._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new lc(e)}async getSession(){return sc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ul(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ul(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Ko(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Wo(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(Zx){throw Zx}var r,i}}const uc=new WeakMap;const cc="__sak";class hc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch(eA){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dc extends hc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);is()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dc.type="LOCAL";const fc=dc;class pc extends hc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pc.type="SESSION";const mc=pc;class gc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new gc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gc.receivers=[];class vc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=yc("",20);r.port1.start();const u=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function bc(){return window}function wc(){return"undefined"!==typeof bc().WorkerGlobalScope&&"function"===typeof bc().importScripts}const _c="firebaseLocalStorageDb",kc="firebaseLocalStorage",Ec="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ic(e,t){return e.transaction([kc],t?"readwrite":"readonly").objectStore(kc)}function Tc(){const e=indexedDB.open(_c,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(kc,{keyPath:Ec})}catch(Zx){n(Zx)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(kc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(_c);return new Sc(e).toPromise()}(),t(await Tc()))}))}))}async function Cc(e,t,n){const r=Ic(e,!0).put({[Ec]:t,value:n});return new Sc(r).toPromise()}function xc(e,t){const n=Ic(e,!0).delete(t);return new Sc(n).toPromise()}class Ac{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Tc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Zx){if(t++>3)throw Zx;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gc._getInstance(wc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(eA){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tc();return await Cc(e,cc,"1"),await xc(e,cc),!0}catch(eA){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Cc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ic(e,!1).get(t),r=await new Sc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>xc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ic(e,!1).getAll();return new Sc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ac.type="LOCAL";const Nc=Ac;function Rc(e,t){return Ko(e,"POST","/v2/accounts/mfaSignIn:start",Wo(e,t))}const Pc=jl("rcb"),Oc=new jo(3e4,6e4);class Dc{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=bc().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Lo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&el(bc().grecaptcha)?Promise.resolve(bc().grecaptcha):new Promise(((n,r)=>{const i=bc().setTimeout((()=>{r(No(e,"network-request-failed"))}),Oc.get());bc()[Pc]=()=>{bc().clearTimeout(i),delete bc()[Pc];const s=bc().grecaptcha;if(!s||!el(s))return void r(No(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Vl(`${zl.recaptchaV2Script}?${fs({onload:Pc,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(No(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=bc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lc{async load(e){return new ql(e)}clearedOneInstance(){}}const Mc="recaptcha",Fc={theme:"light",type:"image"};class Uc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Fc);this.parameters=n,this.type=Mc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fl(e),this.isInvisible="invisible"===this.parameters.size,Lo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Lo(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lc:new Dc,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(Zx){return Promise.reject(Zx)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Lo(!this.parameters.sitekey,this.auth,"argument-error"),Lo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Lo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=bc()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Lo(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Lo(zo()&&!wc(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ko(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Lo(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Lo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zc{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=fu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Vc(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Jl(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Lo("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Yl(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Kl){Lo((null===n||void 0===n?void 0:n.type)===Mc,e,"argument-error");return oc(e,await jc(e,t,n))}return oc(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Lo("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Lo(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Yl(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Kl){Lo((null===n||void 0===n?void 0:n.type)===Mc,e,"argument-error");return Rc(e,await jc(e,t,n))}return Rc(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Yl(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Kl){Lo((null===n||void 0===n?void 0:n.type)===Mc,e,"argument-error");return hu(e,await jc(e,t,n))}return hu(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function jc(e,t,n){Lo(n.type===Mc,e,"argument-error");const r=await n.verify();Lo("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Bc{constructor(e){this.providerId=Bc.PROVIDER_ID,this.auth=Fl(e)}verifyPhoneNumber(e,t){return Vc(this.auth,e,bs(t))}static credential(e,t){return fu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bc.credentialFromTaggedObject(t)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?fu._fromTokenResponse(n,r):null}}function qc(e,t){return t?vl(t):(Lo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bc.PROVIDER_ID="phone",Bc.PHONE_SIGN_IN_METHOD="phone";class $c extends tu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hc(e){return Lu(e.auth,new $c(e),e.bypassAuthState)}function Wc(e){const{auth:t,user:n}=e;return Lo(n,t,"internal-error"),Du(n,new $c(e),e.bypassAuthState)}async function Kc(e){const{auth:t,user:n}=e;return Lo(n,t,"internal-error"),Pu(n,new $c(e),e.bypassAuthState)}class Gc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Zx){this.reject(Zx)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Zx){this.reject(Zx)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hc;case"linkViaPopup":case"linkViaRedirect":return Kc;case"reauthViaPopup":case"reauthViaRedirect":return Wc;default:Ao(this.auth,"internal-error")}}resolve(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qc=new jo(2e3,1e4);class Yc extends Gc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Yc.currentPopupAction&&Yc.currentPopupAction.cancel(),Yc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Lo(e,this.auth,"internal-error"),e}async onExecution(){Fo(1===this.filter.length,"Popup operations only handle one event");const e=yc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(No(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(No(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(No(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Qc.get())};e()}}Yc.currentPopupAction=null;const Jc=new Map;class Xc extends Gc{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=nh(t),r=th(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Zx){e=()=>Promise.reject(Zx)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Zc(e,t){return th(e)._set(nh(t),"true")}function eh(e,t){Jc.set(e._key(),t)}function th(e){return vl(e._redirectPersistence)}function nh(e){return _l("pendingRedirect",e.config.apiKey,e.name)}function rh(e,t,n){return async function(e,t,n){if(Da(e.app))return Promise.reject(Po(e));const r=Fl(e);Oo(e,t,gu),await r._initializationPromise;const i=qc(r,n);return await Zc(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function ih(e,t,n){return async function(e,t,n){const r=bs(e);if(Oo(r.auth,t,gu),Da(r.auth.app))return Promise.reject(Po(r.auth));await r.auth._initializationPromise;const i=qc(r.auth,n);await Zc(i,r.auth);const s=await oh(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function sh(e,t,n){return async function(e,t,n){const r=bs(e);Oo(r.auth,t,gu),await r.auth._initializationPromise;const i=qc(r.auth,n);await Ou(!1,r,t.providerId),await Zc(i,r.auth);const s=await oh(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function ah(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Da(e.app))return Promise.reject(Po(e));const r=Fl(e),i=qc(r,t),s=new Xc(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function oh(e){const t=yc(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class lh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ch(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ch(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(No(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uh(e))}saveEventToCache(e){this.cachedEventUids.add(uh(e)),this.lastProcessedEventTime=Date.now()}}function uh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ch(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}async function hh(e){return Ko(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const dh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fh=/^https?/;function ph(e){const t=Uo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!fh.test(n))return!1;if(dh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const mh=new jo(3e4,6e4);function gh(){const e=bc().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function yh(e){return new Promise(((t,n)=>{var r,i,s;function a(){gh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gh(),n(No(e,"network-request-failed"))},timeout:mh.get()})}if(null===(i=null===(r=bc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=bc().gapi)||void 0===s?void 0:s.load)){const t=jl("iframefcb");return bc()[t]=()=>{gapi.load?a():n(No(e,"network-request-failed"))},Vl(`${zl.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw vh=null,e}))}let vh=null;const bh=new jo(5e3,15e3),wh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_h=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kh(e){const t=e.config;Lo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Bo(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Va},i=_h.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fs(r).slice(1)}`}async function Eh(e){const t=await function(e){return vh=vh||yh(e),vh}(e),n=bc().gapi;return Lo(n,e,"internal-error"),t.open({where:document.body,url:kh(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wh,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=No(e,"network-request-failed"),s=bc().setTimeout((()=>{r(i)}),bh.get());function a(){bc().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Sh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ih{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Zx){}}}function Th(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Sh),{width:r.toString(),height:i.toString(),top:s,left:a}),u=Zi().toLowerCase();n&&(o=Tl(u)?"_blank":n),Sl(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Rl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ih(null);const h=window.open(t||"",o,c);Lo(h,e,"popup-blocked");try{h.focus()}catch(Zx){}return new Ih(h)}const Ch="__/auth/handler",xh="emulator/auth/handler",Ah=encodeURIComponent("fac");async function Nh(e,t,n,r,i,s){Lo(e.config.authDomain,e,"auth-domain-config-required"),Lo(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Va,eventId:i};if(t instanceof gu){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof yu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const c of Object.keys(o))void 0===o[c]&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${Ah}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ch}`;return Bo(t,xh)}(e)}?${fs(o).slice(1)}${u}`}const Rh="webStorageSupport";const Ph=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mc,this._completeRedirectFn=ah,this._overrideRedirectResult=eh}async _openPopup(e,t,n,r){var i;Fo(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Th(e,await Nh(e,t,n,Uo(),r),yc())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){bc().location.href=e}(await Nh(e,t,n,Uo(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Fo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Eh(e),n=new lh(e);return t.register("authEvent",(t=>{Lo(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rh,{type:Rh},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Rh];void 0!==i&&t(!!i),Ao(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await hh(e);for(const n of t)try{if(ph(n))return}catch(eA){}Ao(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pl()||Il()||Rl()}};class Oh{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Mo("unexpected MultiFactorSessionType")}}}class Dh extends Oh{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Dh(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ko(e,"POST","/v2/accounts/mfaSignIn:finalize",Wo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Lh{constructor(){}static assertion(e){return Dh._fromCredential(e)}}Lh.FACTOR_ID="phone";var Mh="@firebase/auth",Fh="1.9.1";class Uh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Lo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Qi())||void 0===t||t[`_${e}`]})("authIdTokenMaxAge");var zh;function Vh(){return window}!function(e){zl=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=No("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),zh="Browser",Na(new ws("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Lo(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:zh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ol(zh)},u=new Ml(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Na(new ws("auth-internal",(e=>(e=>new Uh(e))(Fl(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Wa(Mh,Fh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(zh)),Wa(Mh,Fh,"esm2017");async function jh(e,t,n){var r;const{BuildInfo:i}=Vh();Fo(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Fo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Rl()?a.ibi=i.packageName:xl()?a.apn=i.packageName:Ao(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,Nh(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Bh(e){const{cordova:t}=Vh();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class qh extends lh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function $h(e){const t=await Kh()._get(Gh(e));return t&&await Kh()._remove(Gh(e)),t}function Hh(e,t){var n,r;const i=function(e){const t=Qh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Qh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Qh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Qh(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(Zx){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?No(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Wh(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Kh(){return vl(fc)}function Gh(e){return _l("authEvent",e.config.apiKey,e.name)}function Qh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return ps(n.join("?"))}const Yh=class{constructor(){this._redirectPersistence=mc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ah,this._overrideRedirectResult=eh}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new qh(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ao(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,l,u,c;const h=Vh();Lo("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Lo("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Lo("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Lo("function"===typeof(null===(l=null===(o=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Lo("function"===typeof(null===(c=null===(u=null===h||void 0===h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Jc.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Wh(),postBody:null,tenantId:e.tenantId,error:No(e,"no-auth-event")}}(e,n,r);await function(e,t){return Kh()._set(Gh(e),t)}(e,s);const a=await jh(e,s,t);return async function(e,t,n){const{cordova:r}=Vh();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){o||(o=window.setTimeout((()=>{a(No(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),xl()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await Bh(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Vh(),n={};Rl()?n.iosBundleId=t.packageName:xl()?n.androidPackageName=t.packageName:Ao(e,"operation-not-supported-in-this-environment"),await hh(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Vh(),s=setTimeout((async()=>{await $h(e),t.onEvent(Jh())}),500),a=async n=>{clearTimeout(s);const r=await $h(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Hh(r,n.url)),t.onEvent(i||Jh())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,l=`${i.packageName.toLowerCase()}://`;Vh().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof o)try{o(e)}catch(Zx){console.error(Zx)}}}};function Jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:No("no-auth-event")}}function Xh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return!("file:"!==Xh()&&"ionic:"!==Xh()&&"capacitor:"!==Xh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return is()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi();return/Edge\/\d+/.test(e)}(e)}function td(){try{const e=self.localStorage,t=yc();if(e)return e.setItem(t,"1"),e.removeItem(t),!ed()||as()}catch(Zx){return nd()&&as()}return!1}function nd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function rd(){return("http:"===Xh()||"https:"===Xh()||ns()||Zh())&&!(rs()||es())&&td()&&!nd()}function id(){return Zh()&&"undefined"!==typeof document}const sd={LOCAL:"local",NONE:"none",SESSION:"session"},ad=Lo,od="persistence";async function ld(e){await e._initializationPromise;const t=ud(),n=_l(od,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ud(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(Zx){return null}}const cd=Lo;class hd{constructor(){this.browserResolver=vl(Ph),this.cordovaResolver=vl(Yh),this.underlyingResolver=null,this._redirectPersistence=mc,this._completeRedirectFn=ah,this._overrideRedirectResult=eh}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return id()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cd(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!id()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function dd(e){return e.unwrap()}function fd(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new yd(e,function(e,t){var n;const r=bs(e),i=t;return Lo(t.customData.operationType,r,"argument-error"),Lo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ac._fromError(r,i)}(e,t))}else if(r){const e=pd(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function pd(e){const{_tokenResponse:t}=e instanceof os?e.customData:e;if(!t)return null;if(!(e instanceof os)&&"temporaryProof"in t&&"phoneNumber"in t)return Bc.credentialFromResult(e);const n=t.providerId;if(!n||n===mo)return null;let r;switch(n){case po:r=wu;break;case ho:r=bu;break;case fo:r=_u;break;case go:r=Su;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?ku._create(n,a):cu._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new vu(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof os?r.credentialFromError(e):r.credentialFromResult(e)}function md(e,t){return t.catch((t=>{throw t instanceof os&&fd(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,pd(r)),additionalUserInfo:ic(e),user:vd.getOrCreate(n)};var r}))}async function gd(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>md(e,n.confirm(t))}}class yd{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return md(dd(this.auth),this.resolver.resolveSignIn(e))}}class vd{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=bs(e);return uc.has(t)||uc.set(t,lc._fromUser(t)),uc.get(t)}(e)}static getOrCreate(e){return vd.USER_MAP.has(e)||vd.USER_MAP.set(e,new vd(e)),vd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return md(this.auth,Fu(this._delegate,e))}async linkWithPhoneNumber(e,t){return gd(this.auth,async function(e,t,n){const r=bs(e);await Ou(!1,r,"phone");const i=await Vc(r.auth,t,bs(n));return new zc(i,(e=>Fu(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return md(this.auth,async function(e,t,n){const r=bs(e);Oo(r.auth,t,gu);const i=qc(r.auth,n);return new Yc(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,hd))}async linkWithRedirect(e){return await ld(Fl(this.auth)),sh(this._delegate,e,hd)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return md(this.auth,Uu(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return gd(this.auth,async function(e,t,n){const r=bs(e);if(Da(r.auth.app))return Promise.reject(Po(r.auth));const i=await Vc(r.auth,t,bs(n));return new zc(i,(e=>Uu(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return md(this.auth,async function(e,t,n){const r=bs(e);if(Da(r.auth.app))return Promise.reject(No(r.auth,"operation-not-supported-in-this-environment"));Oo(r.auth,t,gu);const i=qc(r.auth,n);return new Yc(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,hd))}async reauthenticateWithRedirect(e){return await ld(Fl(this.auth)),ih(this._delegate,e,hd)}sendEmailVerification(e){return Gu(this._delegate,e)}async unlink(e){return await Ru(this._delegate,e),this}updateEmail(e){return function(e,t){const n=bs(e);return Da(n.auth.app)?Promise.reject(Po(n.auth)):Ju(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Ju(bs(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=bs(e);if(Da(n.auth.app))return Promise.reject(Po(n.auth));await Pu(n,t)}(this._delegate,e)}updateProfile(e){return Yu(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Qu(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vd.USER_MAP=new WeakMap;const bd=Lo;class wd{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;bd(n,"invalid-api-key",{appName:e.name}),bd(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?hd:void 0;this._delegate=t.initialize({options:{persistence:kd(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(So),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Xl(this._delegate,e,t)}applyActionCode(e){return Hu(this._delegate,e)}checkActionCode(e){return Wu(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await nu(bs(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&$u(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return md(this._delegate,async function(e,t,n){if(Da(e.app))return Promise.reject(Po(e));const r=Fl(e),i=Yl(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Iu,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&$u(e),t})),a=await Tu._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Ku(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=pu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){bd(rd(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Fl(e)._initializationPromise,ah(e,t,!1)}(this._delegate,hd);return e?md(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Fl(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=_d(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=_d(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Fl(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Lo(t.handleCodeInApp,r,"argument-error"),t&&qu(r,e,t)}(i,n),await Yl(r,i,"getOobCode",ou,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Fl(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&qu(r,i,n),await Yl(r,i,"getOobCode",au,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){ad(Object.values(sd).includes(t),e,"invalid-persistence-type"),rs()?ad(t!==sd.SESSION,e,"unsupported-persistence-type"):es()?ad(t===sd.NONE,e,"unsupported-persistence-type"):nd()?ad(t===sd.NONE||t===sd.LOCAL&&as(),e,"unsupported-persistence-type"):ad(t===sd.NONE||td(),e,"unsupported-persistence-type")}(this._delegate,e),e){case sd.SESSION:t=mc;break;case sd.LOCAL:t=await vl(Nc)._isAvailable()?Nc:fc;break;case sd.NONE:t=wl;break;default:return Ao("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return md(this._delegate,async function(e){var t;if(Da(e.app))return Promise.reject(Po(e));const n=Fl(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Tu({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Iu(n,{returnSecureToken:!0}),i=await Tu._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return md(this._delegate,Mu(this._delegate,e))}signInWithCustomToken(e){return md(this._delegate,zu(this._delegate,e))}signInWithEmailAndPassword(e,t){return md(this._delegate,function(e,t,n){return Da(e.app)?Promise.reject(Po(e)):Mu(bs(e),mu.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&$u(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return md(this._delegate,async function(e,t,n){if(Da(e.app))return Promise.reject(Po(e));const r=bs(e),i=mu.credentialWithLink(t,n||Uo());return Lo(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Mu(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return gd(this._delegate,async function(e,t,n){if(Da(e.app))return Promise.reject(Po(e));const r=Fl(e),i=await Vc(r,t,bs(n));return new zc(i,(e=>Mu(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return bd(rd(),this._delegate,"operation-not-supported-in-this-environment"),md(this._delegate,async function(e,t,n){if(Da(e.app))return Promise.reject(No(e,"operation-not-supported-in-this-environment"));const r=Fl(e);Oo(e,t,gu);const i=qc(r,n);return new Yc(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,hd))}async signInWithRedirect(e){return bd(rd(),this._delegate,"operation-not-supported-in-this-environment"),await ld(this._delegate),rh(this._delegate,e,hd)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Wu(bs(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function _d(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&vd.getOrCreate(e)),error:t,complete:n}}function kd(e,t){const n=function(e,t){const n=ud();if(!n)return[];const r=_l(od,e,t);switch(n.getItem(r)){case sd.NONE:return[wl];case sd.LOCAL:return[Nc,mc];case sd.SESSION:return[mc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Nc)||n.push(Nc),"undefined"!==typeof window)for(const r of[fc,mc])n.includes(r)||n.push(r);return n.includes(wl)||n.push(wl),n}wd.Persistence=sd;class Ed{static credential(e,t){return Bc.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Bc(dd(uo.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Ed.PHONE_SIGN_IN_METHOD=Bc.PHONE_SIGN_IN_METHOD,Ed.PROVIDER_ID=Bc.PROVIDER_ID;const Sd=Lo;class Id{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo.app();var r;Sd(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Uc(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Td;(Td=uo).INTERNAL.registerComponent(new ws("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new wd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:yo,PASSWORD_RESET:vo,RECOVER_EMAIL:bo,REVERT_SECOND_FACTOR_ADDITION:wo,VERIFY_AND_CHANGE_EMAIL:_o,VERIFY_EMAIL:ko}},EmailAuthProvider:mu,FacebookAuthProvider:bu,GithubAuthProvider:_u,GoogleAuthProvider:wu,OAuthProvider:vu,SAMLAuthProvider:Eu,PhoneAuthProvider:Ed,PhoneMultiFactorGenerator:Lh,RecaptchaVerifier:Id,TwitterAuthProvider:Su,Auth:wd,AuthCredential:tu,Error:os}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Td.registerVersion("@firebase/auth-compat","0.5.19");var Cd,xd,Ad="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nd={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=a(n)).j(t);h(u)||0<u.l(e);)u=(s=a(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,xd=Nd.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},Cd=Nd.Integer=r}).apply("undefined"!==typeof Ad?Ad:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Rd,Pd,Od,Dd,Ld,Md,Fd,Ud,zd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vd={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof zd&&zd];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,x=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=I.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(R)}};var R=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){E(n)}var t=I;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}x=!1};function P(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,O);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),U=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new z(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[$]=l=new j(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[$]=null)):V(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[$])instanceof j?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new j(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;_(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,P),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}h(le,P);var ue=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}h(ve,O),h(be,O);var we={},_e=null;function ke(){return _e=_e||new ne}function Ee(e){O.call(this,we.La,e)}function Se(e){const t=ke();re(t,new Ee(t))}function Ie(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=ke();re(t,new Ie(t,e))}function Ce(e,t){O.call(this,we.Ma,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Ee,O),we.STAT_EVENT="statevent",h(Ie,O),we.Ma="timingevent",h(Ce,O),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Re,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Re=new De;var Fe={},Ue={};function ze(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xe(u(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=xe(u(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),qe(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):Qt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Se()}catch(c){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const d=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=d||7==t||Se(),He(this);var n=this.g.Z();this.X=n;t:if(je(this)){var r=Wt(this.g);e="";var s=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Te(12),Ke(this),We(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ue){4==d&&(this.s=4,Te(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Ne(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ge(this,e)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(h),h.M=!0,Te(11))}}else Ne(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ne(this.i,this.l,o,null),Ge(this,o);4==d&&Ke(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),We(this)}}}catch(xn){}},Le.prototype.cancel=function(){this.J=!0,Ke(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),Te(17)),Ke(this),this.s=2,We(this)):$e(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new _t(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){kt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return kt(e),t=Tt(e,t),e.g.has(t)}function It(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function xt(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Zx){throw t.push(r+"type="+encodeURIComponent("_badmap")),Zx}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){kt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,St(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(Nt,pe),Nt.prototype.g=function(){return new Rt(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),h(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var Ut=/^https?$/i,zt=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,jt(e),qt(e)}function jt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ut.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",jt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Zx){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Bd){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new xt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||N(),x||(C(),x=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{At(o,e,"req"+n+"_")}catch(xn){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||N(),x||(C(),x=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=xe(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=xe(u(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=c(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ct(n=at(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=xe(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ud=Vd.createWebChannelTransport=function(){return new mn},Fd=Vd.getStatEventTarget=function(){return ke()},Md=Vd.Event=we,Ld=Vd.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Dd=Vd.ErrorCode=Pe,Oe.COMPLETE="complete",Od=Vd.EventType=Oe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Pd=Vd.WebChannel=ge,Vd.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Rd=Vd.XhrIo=Ft}).apply("undefined"!==typeof zd?zd:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const jd="@firebase/firestore",Bd="4.7.10";class qd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qd.UNAUTHENTICATED=new qd(null),qd.GOOGLE_CREDENTIALS=new qd("google-credentials-uid"),qd.FIRST_PARTY=new qd("first-party-uid"),qd.MOCK_USER=new qd("mock-user");let $d="11.5.0";const Hd=new Ns("@firebase/firestore");function Wd(){return Hd.logLevel}function Kd(e){if(Hd.logLevel<=Is.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Yd);Hd.debug(`Firestore (${$d}): ${e}`,...i)}}function Gd(e){if(Hd.logLevel<=Is.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Yd);Hd.error(`Firestore (${$d}): ${e}`,...i)}}function Qd(e){if(Hd.logLevel<=Is.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Yd);Hd.warn(`Firestore (${$d}): ${e}`,...i)}}function Yd(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(St){return e}}function Jd(){const e=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Gd(e),new Error(e)}function Xd(e,t){e||Jd()}function Zd(e,t){return e}const ef={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tf extends os{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nf{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class rf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qd.UNAUTHENTICATED)))}shutdown(){}}class af{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class of{constructor(e){this.t=e,this.currentUser=qd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xd(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new nf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nf,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Kd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Kd("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nf)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Kd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xd("string"==typeof t.accessToken),new rf(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xd(null===e||"string"==typeof e),new qd(e)}}class lf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=qd.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uf{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new lf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(qd.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hf{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Da(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xd(void 0===this.o);const n=e=>{null!=e.error&&Kd("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Kd("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Kd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Kd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new cf(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Xd("string"==typeof e.token),this.R=e.token,new cf(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function df(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function ff(){return new TextEncoder}class pf{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=df(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function mf(e,t){return e<t?-1:e>t?1:0}function gf(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return mf(r,i);{const s=ff(),a=vf(s.encode(yf(e,n)),s.encode(yf(t,n)));return 0!==a?a:mf(r,i)}}n+=r>65535?2:1}return mf(e.length,t.length)}function yf(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function vf(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return mf(e[n],t[n]);return mf(e.length,t.length)}function bf(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function wf(e){return e+"\0"}const _f=-62135596800,kf=1e6;class Ef{static now(){return Ef.fromMillis(Date.now())}static fromDate(e){return Ef.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*kf);return new Ef(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tf(ef.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tf(ef.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_f)throw new tf(ef.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tf(ef.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kf}_compareTo(e){return this.seconds===e.seconds?mf(this.nanoseconds,e.nanoseconds):mf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_f;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sf{static fromTimestamp(e){return new Sf(e)}static min(){return new Sf(new Ef(0,0))}static max(){return new Sf(new Ef(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const If="__name__";class Tf{constructor(e,t,n){void 0===t?t=0:t>e.length&&Jd(),void 0===n?n=e.length-t:n>e.length-t&&Jd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Tf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tf?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Tf.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return mf(e.length,t.length)}static compareSegments(e,t){const n=Tf.isNumericId(e),r=Tf.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Tf.extractNumericId(e).compare(Tf.extractNumericId(t)):gf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cd.fromString(e.substring(4,e.length-2))}}class Cf extends Tf{construct(e,t,n){return new Cf(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new tf(ef.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Cf(e)}static emptyPath(){return new Cf([])}}const xf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Af extends Tf{construct(e,t,n){return new Af(e,t,n)}static isValidIdentifier(e){return xf.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Af.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===If}static keyField(){return new Af([If])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new tf(ef.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new tf(ef.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new tf(ef.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new tf(ef.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Af(t)}static emptyPath(){return new Af([])}}class Nf{constructor(e){this.path=e}static fromPath(e){return new Nf(Cf.fromString(e))}static fromName(e){return new Nf(Cf.fromString(e).popFirst(5))}static empty(){return new Nf(Cf.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cf.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cf.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nf(new Cf(e.slice()))}}const Rf=-1;class Pf{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Of(e){return e.fields.find((e=>2===e.kind))}function Df(e){return e.fields.filter((e=>2!==e.kind))}Pf.UNKNOWN_ID=-1;class Lf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mf(0,zf.min())}}function Ff(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Sf.fromTimestamp(1e9===r?new Ef(n+1,0):new Ef(n,r));return new zf(i,Nf.empty(),t)}function Uf(e){return new zf(e.readTime,e.key,Rf)}class zf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zf(Sf.min(),Nf.empty(),Rf)}static max(){return new zf(Sf.max(),Nf.empty(),Rf)}}function Vf(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Nf.comparator(e.documentKey,t.documentKey),0!==n?n:mf(e.largestBatchId,t.largestBatchId))}const jf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qf(e){if(e.code!==ef.FAILED_PRECONDITION||e.message!==jf)throw e;Kd("LocalStore","Unexpectedly lost primary lease")}class $f{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $f(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $f?t:$f.resolve(t)}catch(e){return $f.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$f.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$f.reject(t)}static resolve(e){return new $f(((t,n)=>{t(e)}))}static reject(e){return new $f(((t,n)=>{n(e)}))}static waitFor(e){return new $f(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=$f.resolve(!1);for(const n of e)t=t.next((e=>e?$f.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $f(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new $f(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}const Hf="SimpleDb";class Wf{static open(e,t,n,r){try{return new Wf(t,e.transaction(r,n))}catch(e){throw new Yf(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new nf,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Yf(e,t.error)):this.m.resolve()},this.transaction.onerror=t=>{const n=tp(t.target.error);this.m.reject(new Yf(e,n))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(Kd(Hf,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Xf(t)}}class Kf{static delete(e){return Kd(Hf,"Removing database:",e),Zf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!as())return!1;if(Kf.v())return!0;const e=Zi(),t=Kf.C(e),n=0<t&&t<10,r=Gf(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.O=n,12.2===Kf.C(Zi())&&Gd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(Kd(Hf,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Yf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new tf(ef.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new tf(ef.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Yf(e,r))},r.onupgradeneeded=e=>{Kd(Hf,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.O.B(t,r.transaction,e.oldVersion,this.version).next((()=>{Kd(Hf,"Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.N(e);const t=Wf.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.S(),e))).catch((e=>(t.abort(e),$f.reject(e)))).toPromise();return s.catch((()=>{})),await t.p,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Kd(Hf,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Gf(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Qf{constructor(e){this.q=e,this.$=!1,this.U=null}get isDone(){return this.$}get K(){return this.U}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.U=e}delete(){return Zf(this.q.delete())}}class Yf extends tf{constructor(e,t){super(ef.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Jf(e){return"IndexedDbTransactionError"===e.name}class Xf{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Kd(Hf,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(Kd(Hf,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Zf(n)}add(e){return Kd(Hf,"ADD",this.store.name,e,e),Zf(this.store.add(e))}get(e){return Zf(this.store.get(e)).next((t=>(void 0===t&&(t=null),Kd(Hf,"GET",this.store.name,e,t),t)))}delete(e){return Kd(Hf,"DELETE",this.store.name,e),Zf(this.store.delete(e))}count(){return Kd(Hf,"COUNT",this.store.name),Zf(this.store.count())}G(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new $f(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.j(e,((e,n)=>{t.push(n)})).next((()=>t))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new $f(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Kd(Hf,"DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.j(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.j(r,t)}X(e){const t=this.cursor({});return new $f(((n,r)=>{t.onerror=e=>{const t=tp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}j(e,t){const n=[];return new $f(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Qf(i),a=t(i.primaryKey,i.value,s);if(a instanceof $f){const e=a.catch((e=>(s.done(),$f.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>$f.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zf(e){return new $f(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=tp(e.target.error);n(t)}}))}let ep=!1;function tp(e){const t=Kf.C(Zi());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new tf("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ep||(ep=!0,setTimeout((()=>{throw e}),0)),e}}return e}const np="IndexBackfiller";class rp{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){Kd(np,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const e=await this.ee.ne();Kd(np,`Documents written: ${e}`)}catch(e){Jf(e)?Kd(np,"Ignoring IndexedDB error during index backfill: ",e):await qf(e)}await this.te(6e4)}))}}class ip{constructor(e,t){this.localStore=e,this.persistence=t}async ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.re(t,e)))}re(e,t){const n=new Set;let r=t,i=!0;return $f.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Kd(np,`Processing collection: ${t}`),this.ie(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ie(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.se(r,n))).next((n=>(Kd(np,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}se(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Uf(t);Vf(r,n)>0&&(n=r)})),new zf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class sp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sp.ae=-1;const ap=-1;function op(e){return null==e}function lp(e){return 0===e&&1/e==-1/0}function up(e){return"number"==typeof e&&Number.isInteger(e)&&!lp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const cp="\x01";function hp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=fp(t)),t=dp(e.get(n),t);return fp(t)}function dp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case cp:n+="\x01\x11";break;default:n+=t}}return n}function fp(e){return e+cp+"\x01"}function pp(e){const t=e.length;if(Xd(t>=2),2===t)return Xd(e.charAt(0)===cp&&"\x01"===e.charAt(1)),Cf.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(cp,s);switch((t<0||t>n)&&Jd(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Jd()}s=t+2}return new Cf(r)}const mp="remoteDocuments",gp="owner",yp="owner",vp="mutationQueues",bp="mutations",wp="batchId",_p="userMutationsIndex",kp=["userId","batchId"];function Ep(e,t){return[e,hp(t)]}function Sp(e,t,n){return[e,hp(t),n]}const Ip={},Tp="documentMutations",Cp="remoteDocumentsV14",xp=["prefixPath","collectionGroup","readTime","documentId"],Ap="documentKeyIndex",Np=["prefixPath","collectionGroup","documentId"],Rp="collectionGroupIndex",Pp=["collectionGroup","readTime","prefixPath","documentId"],Op="remoteDocumentGlobal",Dp="remoteDocumentGlobalKey",Lp="targets",Mp="queryTargetsIndex",Fp=["canonicalId","targetId"],Up="targetDocuments",zp=["targetId","path"],Vp="documentTargetsIndex",jp=["path","targetId"],Bp="targetGlobalKey",qp="targetGlobal",$p="collectionParents",Hp=["collectionId","parent"],Wp="clientMetadata",Kp="bundles",Gp="namedQueries",Qp="indexConfiguration",Yp="collectionGroupIndex",Jp="indexState",Xp=["indexId","uid"],Zp="sequenceNumberIndex",em=["uid","sequenceNumber"],tm="indexEntries",nm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rm="documentKeyIndex",im=["indexId","uid","orderedDocumentKey"],sm="documentOverlays",am=["userId","collectionPath","documentId"],om="collectionPathOverlayIndex",lm=["userId","collectionPath","largestBatchId"],um="collectionGroupOverlayIndex",cm=["userId","collectionGroup","largestBatchId"],hm="globals",dm=[vp,bp,Tp,mp,Lp,gp,qp,Up,Wp,Op,$p,Kp,Gp],fm=[...dm,sm],pm=[vp,bp,Tp,Cp,Lp,gp,qp,Up,Wp,Op,$p,Kp,Gp,sm],mm=pm,gm=[...mm,Qp,Jp,tm],ym=gm,vm=[...gm,hm];class bm extends Bf{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function wm(e,t){const n=Zd(e);return Kf.M(n.ue,t)}function _m(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function km(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Em(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Sm{constructor(e,t){this.comparator=e,this.root=t||Tm.EMPTY}insert(e,t){return new Sm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tm.BLACK,null,null))}remove(e){return new Sm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Im(this.root,e,this.comparator,!1)}getReverseIterator(){return new Im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Im(this.root,e,this.comparator,!0)}}class Im{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Tm.RED,this.left=null!=r?r:Tm.EMPTY,this.right=null!=i?i:Tm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Tm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Tm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jd();if(this.right.isRed())throw Jd();const e=this.left.check();if(e!==this.right.check())throw Jd();return e+(this.isRed()?0:1)}}Tm.EMPTY=null,Tm.RED=!0,Tm.BLACK=!1,Tm.EMPTY=new class{constructor(){this.size=0}get key(){throw Jd()}get value(){throw Jd()}get color(){throw Jd()}get left(){throw Jd()}get right(){throw Jd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Tm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cm{constructor(e){this.comparator=e,this.data=new Sm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xm(this.data.getIterator())}getIteratorFrom(e){return new xm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Cm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Cm(this.comparator);return t.data=e,t}}class xm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Am(e){return e.hasNext()?e.getNext():void 0}class Nm{constructor(e){this.fields=e,e.sort(Af.comparator)}static empty(){return new Nm([])}unionWith(e){let t=new Cm(Af.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Nm(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bf(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Rm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Rm("Invalid base64 string: "+e):e}}(e);return new Pm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Pm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pm.EMPTY_BYTE_STRING=new Pm("");const Om=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dm(e){if(Xd(!!e),"string"==typeof e){let t=0;const n=Om.exec(e);if(Xd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Lm(e.seconds),nanos:Lm(e.nanos)}}function Lm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mm(e){return"string"==typeof e?Pm.fromBase64String(e):Pm.fromUint8Array(e)}const Fm="server_timestamp",Um="__type__",zm="__previous_value__",Vm="__local_write_time__";function jm(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Um])||void 0===n?void 0:n.stringValue)===Fm}function Bm(e){const t=e.mapValue.fields[zm];return jm(t)?Bm(t):t}function qm(e){const t=Dm(e.mapValue.fields[Vm].timestampValue);return new Ef(t.seconds,t.nanos)}class $m{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const Hm="(default)";class Wm{constructor(e,t){this.projectId=e,this.database=t||Hm}static empty(){return new Wm("","")}get isDefaultDatabase(){return this.database===Hm}isEqual(e){return e instanceof Wm&&e.projectId===this.projectId&&e.database===this.database}}const Km="__type__",Gm="__max__",Qm={mapValue:{fields:{__type__:{stringValue:Gm}}}},Ym="__vector__",Jm="value",Xm={nullValue:"NULL_VALUE"};function Zm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jm(e)?4:gg(e)?9007199254740991:pg(e)?10:11:Jd()}function eg(e,t){if(e===t)return!0;const n=Zm(e);if(n!==Zm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qm(e).isEqual(qm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Dm(e.timestampValue),r=Dm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Mm(e.bytesValue).isEqual(Mm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Lm(e.geoPointValue.latitude)===Lm(t.geoPointValue.latitude)&&Lm(e.geoPointValue.longitude)===Lm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Lm(e.integerValue)===Lm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Lm(e.doubleValue),r=Lm(t.doubleValue);return n===r?lp(n)===lp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bf(e.arrayValue.values||[],t.arrayValue.values||[],eg);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_m(n)!==_m(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!eg(n[i],r[i])))return!1;return!0}(e,t);default:return Jd()}}function tg(e,t){return void 0!==(e.values||[]).find((e=>eg(e,t)))}function ng(e,t){if(e===t)return 0;const n=Zm(e),r=Zm(t);if(n!==r)return mf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Lm(e.integerValue||e.doubleValue),r=Lm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return rg(e.timestampValue,t.timestampValue);case 4:return rg(qm(e),qm(t));case 5:return gf(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Mm(e),r=Mm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=mf(n[i],r[i]);if(0!==e)return e}return mf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=mf(Lm(e.latitude),Lm(t.latitude));return 0!==n?n:mf(Lm(e.longitude),Lm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ig(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Jm])||void 0===n?void 0:n.arrayValue,u=null===(r=o[Jm])||void 0===r?void 0:r.arrayValue,c=mf((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:ig(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Qm.mapValue&&t===Qm.mapValue)return 0;if(e===Qm.mapValue)return 1;if(t===Qm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=gf(r[a],s[a]);if(0!==e)return e;const t=ng(n[r[a]],i[s[a]]);if(0!==t)return t}return mf(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Jd()}}function rg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mf(e,t);const n=Dm(e),r=Dm(t),i=mf(n.seconds,r.seconds);return 0!==i?i:mf(n.nanos,r.nanos)}function ig(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ng(n[i],r[i]);if(e)return e}return mf(n.length,r.length)}function sg(e){return ag(e)}function ag(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Dm(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Mm(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Nf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ag(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ag(e.fields[i])}`;return n+"}"}(e.mapValue):Jd()}function og(e){switch(Zm(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bm(e);return t?16+og(t):16;case 5:return 2*e.stringValue.length;case 6:return Mm(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+og(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return km(e.fields,((e,n)=>{t+=e.length+og(n)})),t}(e.mapValue);default:throw Jd()}}function lg(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ug(e){return!!e&&"integerValue"in e}function cg(e){return!!e&&"arrayValue"in e}function hg(e){return!!e&&"nullValue"in e}function dg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fg(e){return!!e&&"mapValue"in e}function pg(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Km])||void 0===n?void 0:n.stringValue)===Ym}function mg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return km(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=mg(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function gg(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Gm}const yg={mapValue:{fields:{[Km]:{stringValue:Ym},[Jm]:{arrayValue:{}}}}};function vg(e){return"nullValue"in e?Xm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?lg(Wm.empty(),Nf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?pg(e)?yg:{mapValue:{}}:Jd()}function bg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?lg(Wm.empty(),Nf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?yg:"mapValue"in e?pg(e)?{mapValue:{}}:Qm:Jd()}function wg(e,t){const n=ng(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function _g(e,t){const n=ng(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class kg{constructor(e){this.value=e}static empty(){return new kg({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!fg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mg(t)}setAll(e){let t=Af.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=mg(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());fg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];fg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){km(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new kg(mg(this.value))}}function Eg(e){const t=[];return km(e.fields,((e,n)=>{const r=new Af([e]);if(fg(n)){const e=Eg(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Nm(t)}class Sg{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Sg(e,0,Sf.min(),Sf.min(),Sf.min(),kg.empty(),0)}static newFoundDocument(e,t,n,r){return new Sg(e,1,t,Sf.min(),n,r,0)}static newNoDocument(e,t){return new Sg(e,2,t,Sf.min(),Sf.min(),kg.empty(),0)}static newUnknownDocument(e,t){return new Sg(e,3,t,Sf.min(),Sf.min(),kg.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kg.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kg.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sf.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ig{constructor(e,t){this.position=e,this.inclusive=t}}function Tg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Nf.comparator(Nf.fromName(a.referenceValue),n.key):ng(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Cg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!eg(e.position[n],t.position[n]))return!1;return!0}class xg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ag(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ng{}class Rg extends Ng{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new jg(e,t,n):"array-contains"===t?new Hg(e,n):"in"===t?new Wg(e,n):"not-in"===t?new Kg(e,n):"array-contains-any"===t?new Gg(e,n):new Rg(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bg(e,n):new qg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ng(t,this.value)):null!==t&&Zm(this.value)===Zm(t)&&this.matchesComparison(ng(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jd()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pg extends Ng{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Pg(e,t)}matches(e){return Og(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Og(e){return"and"===e.op}function Dg(e){return"or"===e.op}function Lg(e){return Mg(e)&&Og(e)}function Mg(e){for(const t of e.filters)if(t instanceof Pg)return!1;return!0}function Fg(e){if(e instanceof Rg)return e.field.canonicalString()+e.op.toString()+sg(e.value);if(Lg(e))return e.filters.map((e=>Fg(e))).join(",");{const t=e.filters.map((e=>Fg(e))).join(",");return`${e.op}(${t})`}}function Ug(e,t){return e instanceof Rg?function(e,t){return t instanceof Rg&&e.op===t.op&&e.field.isEqual(t.field)&&eg(e.value,t.value)}(e,t):e instanceof Pg?function(e,t){return t instanceof Pg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ug(n,t.filters[r])),!0)}(e,t):void Jd()}function zg(e,t){const n=e.filters.concat(t);return Pg.create(n,e.op)}function Vg(e){return e instanceof Rg?function(e){return`${e.field.canonicalString()} ${e.op} ${sg(e.value)}`}(e):e instanceof Pg?function(e){return e.op.toString()+" {"+e.getFilters().map(Vg).join(" ,")+"}"}(e):"Filter"}class jg extends Rg{constructor(e,t,n){super(e,t,n),this.key=Nf.fromName(n.referenceValue)}matches(e){const t=Nf.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bg extends Rg{constructor(e,t){super(e,"in",t),this.keys=$g("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qg extends Rg{constructor(e,t){super(e,"not-in",t),this.keys=$g("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $g(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Nf.fromName(e.referenceValue)))}class Hg extends Rg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cg(t)&&tg(t.arrayValue,this.value)}}class Wg extends Rg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tg(this.value.arrayValue,t)}}class Kg extends Rg{constructor(e,t){super(e,"not-in",t)}matches(e){if(tg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tg(this.value.arrayValue,t)}}class Gg extends Rg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>tg(this.value.arrayValue,e)))}}class Qg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function Yg(e){return new Qg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Jg(e){const t=Zd(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Fg(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),op(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>sg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>sg(e))).join(",")),t.le=e}return t.le}function Xg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ag(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ug(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cg(e.startAt,t.startAt)&&Cg(e.endAt,t.endAt)}function Zg(e){return Nf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ey(e,t){return e.filters.filter((e=>e instanceof Rg&&e.field.isEqual(t)))}function ty(e,t,n){let r=Xm,i=!0;for(const s of ey(e,t)){let e=Xm,t=!0;switch(s.op){case"<":case"<=":e=vg(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Xm}wg({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];wg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ny(e,t,n){let r=Qm,i=!0;for(const s of ey(e,t)){let e=Qm,t=!0;switch(s.op){case">=":case">":e=bg(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Qm}_g({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];_g({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class ry{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iy(e,t,n,r,i,s,a,o){return new ry(e,t,n,r,i,s,a,o)}function sy(e){return new ry(e)}function ay(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function oy(e){return null!==e.collectionGroup}function ly(e){const t=Zd(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Cm(Af.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new xg(r,n))})),e.has(Af.keyField().canonicalString())||t.he.push(new xg(Af.keyField(),n))}return t.he}function uy(e){const t=Zd(e);return t.Pe||(t.Pe=cy(t,ly(e))),t.Pe}function cy(e,t){if("F"===e.limitType)return Yg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new xg(e.field,t)}));const n=e.endAt?new Ig(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ig(e.startAt.position,e.startAt.inclusive):null;return Yg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function hy(e,t){const n=e.filters.concat([t]);return new ry(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function dy(e,t,n){return new ry(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fy(e,t){return Xg(uy(e),uy(t))&&e.limitType===t.limitType}function py(e){return`${Jg(uy(e))}|lt:${e.limitType}`}function my(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Vg(e))).join(", ")}]`),op(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>sg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>sg(e))).join(",")),`Target(${t})`}(uy(e))}; limitType=${e.limitType})`}function gy(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Nf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ly(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Tg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ly(e),t))&&!(e.endAt&&!function(e,t,n){const r=Tg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ly(e),t))}(e,t)}function yy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vy(e){return(t,n)=>{let r=!1;for(const i of ly(e)){const e=by(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function by(e,t,n){const r=e.field.isKeyField()?Nf.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ng(r,i):Jd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jd()}}class wy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){km(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Em(this.inner)}size(){return this.innerSize}}const _y=new Sm(Nf.comparator);function ky(){return _y}const Ey=new Sm(Nf.comparator);function Sy(){let e=Ey;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Iy(e){let t=Ey;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ty(){return xy()}function Cy(){return xy()}function xy(){return new wy((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ay=new Sm(Nf.comparator),Ny=new Cm(Nf.comparator);function Ry(){let e=Ny;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Py=new Cm(mf);function Oy(){return Py}function Dy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(t)?"-0":t}}function Ly(e){return{integerValue:""+e}}function My(e,t){return up(t)?Ly(t):Dy(e,t)}class Fy{constructor(){this._=void 0}}function Uy(e,t,n){return e instanceof jy?function(e,t){const n={fields:{[Um]:{stringValue:Fm},[Vm]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&jm(t)&&(t=Bm(t)),t&&(n.fields[zm]=t),{mapValue:n}}(n,t):e instanceof By?qy(e,t):e instanceof $y?Hy(e,t):function(e,t){const n=Vy(e,t),r=Ky(n)+Ky(e.Ie);return ug(n)&&ug(e.Ie)?Ly(r):Dy(e.serializer,r)}(e,t)}function zy(e,t,n){return e instanceof By?qy(e,t):e instanceof $y?Hy(e,t):n}function Vy(e,t){return e instanceof Wy?function(e){return ug(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class jy extends Fy{}class By extends Fy{constructor(e){super(),this.elements=e}}function qy(e,t){const n=Gy(t);for(const r of e.elements)n.some((e=>eg(e,r)))||n.push(r);return{arrayValue:{values:n}}}class $y extends Fy{constructor(e){super(),this.elements=e}}function Hy(e,t){let n=Gy(t);for(const r of e.elements)n=n.filter((e=>!eg(e,r)));return{arrayValue:{values:n}}}class Wy extends Fy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ky(e){return Lm(e.integerValue||e.doubleValue)}function Gy(e){return cg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Qy{constructor(e,t){this.field=e,this.transform=t}}class Yy{constructor(e,t){this.version=e,this.transformResults=t}}class Jy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jy}static exists(e){return new Jy(void 0,e)}static updateTime(e){return new Jy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Zy{}function ev(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new cv(e.key,Jy.none()):new sv(e.key,e.data,Jy.none());{const n=e.data,r=kg.empty();let i=new Cm(Af.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new av(e.key,r,new Nm(i.toArray()),Jy.none())}}function tv(e,t,n){e instanceof sv?function(e,t,n){const r=e.value.clone(),i=lv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof av?function(e,t,n){if(!Xy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=lv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ov(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function nv(e,t,n,r){return e instanceof sv?function(e,t,n,r){if(!Xy(e.precondition,t))return n;const i=e.value.clone(),s=uv(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof av?function(e,t,n,r){if(!Xy(e.precondition,t))return n;const i=uv(e.fieldTransforms,r,t),s=t.data;return s.setAll(ov(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Xy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function rv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Vy(r.transform,e||null);null!=i&&(null===n&&(n=kg.empty()),n.set(r.field,i))}return n||null}function iv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bf(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof By&&t instanceof By||e instanceof $y&&t instanceof $y?bf(e.elements,t.elements,eg):e instanceof Wy&&t instanceof Wy?eg(e.Ie,t.Ie):e instanceof jy&&t instanceof jy}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class sv extends Zy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class av extends Zy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ov(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function lv(e,t,n){const r=new Map;Xd(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,zy(a,o,n[i]))}return r}function uv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Uy(e,s,t))}return r}class cv extends Zy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hv extends Zy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&tv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=nv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=nv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Cy();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=ev(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Sf.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ry())}isEqual(e){return this.batchId===e.batchId&&bf(this.mutations,e.mutations,((e,t)=>iv(e,t)))&&bf(this.baseMutations,e.baseMutations,((e,t)=>iv(e,t)))}}class fv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xd(e.mutations.length===n.length);let r=Ay;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new fv(e,t,n,r)}}class pv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mv{constructor(e,t){this.count=e,this.unchangedNames=t}}var gv,yv;function vv(e){switch(e){case ef.OK:return Jd();case ef.CANCELLED:case ef.UNKNOWN:case ef.DEADLINE_EXCEEDED:case ef.RESOURCE_EXHAUSTED:case ef.INTERNAL:case ef.UNAVAILABLE:case ef.UNAUTHENTICATED:return!1;case ef.INVALID_ARGUMENT:case ef.NOT_FOUND:case ef.ALREADY_EXISTS:case ef.PERMISSION_DENIED:case ef.FAILED_PRECONDITION:case ef.ABORTED:case ef.OUT_OF_RANGE:case ef.UNIMPLEMENTED:case ef.DATA_LOSS:return!0;default:return Jd()}}function bv(e){if(void 0===e)return Gd("GRPC error has no .code"),ef.UNKNOWN;switch(e){case gv.OK:return ef.OK;case gv.CANCELLED:return ef.CANCELLED;case gv.UNKNOWN:return ef.UNKNOWN;case gv.DEADLINE_EXCEEDED:return ef.DEADLINE_EXCEEDED;case gv.RESOURCE_EXHAUSTED:return ef.RESOURCE_EXHAUSTED;case gv.INTERNAL:return ef.INTERNAL;case gv.UNAVAILABLE:return ef.UNAVAILABLE;case gv.UNAUTHENTICATED:return ef.UNAUTHENTICATED;case gv.INVALID_ARGUMENT:return ef.INVALID_ARGUMENT;case gv.NOT_FOUND:return ef.NOT_FOUND;case gv.ALREADY_EXISTS:return ef.ALREADY_EXISTS;case gv.PERMISSION_DENIED:return ef.PERMISSION_DENIED;case gv.FAILED_PRECONDITION:return ef.FAILED_PRECONDITION;case gv.ABORTED:return ef.ABORTED;case gv.OUT_OF_RANGE:return ef.OUT_OF_RANGE;case gv.UNIMPLEMENTED:return ef.UNIMPLEMENTED;case gv.DATA_LOSS:return ef.DATA_LOSS;default:return Jd()}}(yv=gv||(gv={}))[yv.OK=0]="OK",yv[yv.CANCELLED=1]="CANCELLED",yv[yv.UNKNOWN=2]="UNKNOWN",yv[yv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yv[yv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yv[yv.NOT_FOUND=5]="NOT_FOUND",yv[yv.ALREADY_EXISTS=6]="ALREADY_EXISTS",yv[yv.PERMISSION_DENIED=7]="PERMISSION_DENIED",yv[yv.UNAUTHENTICATED=16]="UNAUTHENTICATED",yv[yv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yv[yv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yv[yv.ABORTED=10]="ABORTED",yv[yv.OUT_OF_RANGE=11]="OUT_OF_RANGE",yv[yv.UNIMPLEMENTED=12]="UNIMPLEMENTED",yv[yv.INTERNAL=13]="INTERNAL",yv[yv.UNAVAILABLE=14]="UNAVAILABLE",yv[yv.DATA_LOSS=15]="DATA_LOSS";let wv=null;const _v=new Cd([4294967295,4294967295],0);function kv(e){const t=ff().encode(e),n=new xd;return n.update(t),new Uint8Array(n.digest())}function Ev(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Cd([n,r],0),new Cd([i,s],0)]}class Sv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Iv(`Invalid padding: ${t}`);if(n<0)throw new Iv(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Iv(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Iv(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Cd.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Cd.fromNumber(n)));return 1===r.compare(_v)&&(r=new Cd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=kv(e),[n,r]=Ev(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Sv(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=kv(e),[n,r]=Ev(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Iv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tv{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Tv(Sf.min(),r,new Sm(mf),ky(),Ry())}}class Cv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cv(n,t,Ry(),Ry(),Ry())}}class xv{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Av{constructor(e,t){this.targetId=e,this.ge=t}}class Nv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pm.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Rv{constructor(){this.pe=0,this.ye=Dv(),this.we=Pm.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ry(),t=Ry(),n=Ry();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jd()}})),new Cv(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Dv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xd(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Pv{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ky(),this.$e=Ov(),this.Ue=Ov(),this.Ke=new Sm(mf)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Jd()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Zg(i))if(0===n){const e=new Nf(i.path);this.ze(t,e,Sg.newNoDocument(e,Sf.min()))}else Xd(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==wv||wv.rt(function(e,t,n,r,i){var s,a,o,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Mm(n).toUint8Array()}catch(e){if(e instanceof Rm)return Qd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Sv(s,r,i)}catch(e){return Qd(e instanceof Iv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Zg(i.target)){const t=new Nf(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Sg.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Ry();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Tv(e,t,this.Ke,this.Qe,n);return this.Qe=ky(),this.$e=Ov(),this.Ue=Ov(),this.Ke=new Sm(mf),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Rv,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Cm(mf),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Cm(mf),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Kd("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Rv),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ov(){return new Sm(Nf.comparator)}function Dv(){return new Sm(Nf.comparator)}const Lv={asc:"ASCENDING",desc:"DESCENDING"},Mv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fv={and:"AND",or:"OR"};class Uv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zv(e,t){return e.useProto3Json||op(t)?t:{value:t}}function Vv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bv(e,t){return Vv(e,t.toTimestamp())}function qv(e){return Xd(!!e),Sf.fromTimestamp(function(e){const t=Dm(e);return new Ef(t.seconds,t.nanos)}(e))}function $v(e,t){return Hv(e,t).canonicalString()}function Hv(e,t){const n=function(e){return new Cf(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Wv(e){const t=Cf.fromString(e);return Xd(pb(t)),t}function Kv(e,t){return $v(e.databaseId,t.path)}function Gv(e,t){const n=Wv(t);if(n.get(1)!==e.databaseId.projectId)throw new tf(ef.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tf(ef.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nf(Xv(n))}function Qv(e,t){return $v(e.databaseId,t)}function Yv(e){const t=Wv(e);return 4===t.length?Cf.emptyPath():Xv(t)}function Jv(e){return new Cf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xv(e){return Xd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Zv(e,t,n){return{name:Kv(e,t),fields:n.value.mapValue.fields}}function eb(e,t,n){const r=Gv(e,t.name),i=qv(t.updateTime),s=t.createTime?qv(t.createTime):Sf.min(),a=new kg({mapValue:{fields:t.fields}}),o=Sg.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function tb(e,t){let n;if(t instanceof sv)n={update:Zv(e,t.key,t.value)};else if(t instanceof cv)n={delete:Kv(e,t.key)};else if(t instanceof av)n={update:Zv(e,t.key,t.data),updateMask:fb(t.fieldMask)};else{if(!(t instanceof hv))return Jd();n={verify:Kv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof jy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof By)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $y)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wy)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Jd()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jd()}(e,t.precondition)),n}function nb(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Jy.updateTime(qv(e.updateTime)):void 0!==e.exists?Jy.exists(e.exists):Jy.none()}(t.currentDocument):Jy.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Xd("REQUEST_TIME"===t.setToServerValue),n=new jy;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new By(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new $y(e)}else"increment"in t?n=new Wy(e,t.increment):Jd();const r=Af.fromServerFormat(t.fieldPath);return new Qy(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Gv(e,t.update.name),s=new kg({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Nm(t.map((e=>Af.fromServerFormat(e))))}(t.updateMask);return new av(i,s,e,n,r)}return new sv(i,s,n,r)}if(t.delete){const r=Gv(e,t.delete);return new cv(r,n)}if(t.verify){const r=Gv(e,t.verify);return new hv(r,n)}return Jd()}function rb(e,t){return{documents:[Qv(e,t.path)]}}function ib(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qv(e,i);const s=function(e){if(0!==e.length)return db(Pg.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:cb(e.field),direction:ob(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=zv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function sb(e){let t=Yv(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xd(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ab(e);return t instanceof Pg&&Lg(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new xg(hb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,op(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ig(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Ig(n,t)}(n.endAt)),iy(t,i,a,s,o,"F",l,u)}function ab(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hb(e.unaryFilter.field);return Rg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=hb(e.unaryFilter.field);return Rg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hb(e.unaryFilter.field);return Rg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=hb(e.unaryFilter.field);return Rg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jd()}}(e):void 0!==e.fieldFilter?function(e){return Rg.create(hb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Pg.create(e.compositeFilter.filters.map((e=>ab(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Jd()}}(e.compositeFilter.op))}(e):Jd()}function ob(e){return Lv[e]}function lb(e){return Mv[e]}function ub(e){return Fv[e]}function cb(e){return{fieldPath:e.canonicalString()}}function hb(e){return Af.fromServerFormat(e.fieldPath)}function db(e){return e instanceof Rg?function(e){if("=="===e.op){if(dg(e.value))return{unaryFilter:{field:cb(e.field),op:"IS_NAN"}};if(hg(e.value))return{unaryFilter:{field:cb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dg(e.value))return{unaryFilter:{field:cb(e.field),op:"IS_NOT_NAN"}};if(hg(e.value))return{unaryFilter:{field:cb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cb(e.field),op:lb(e.op),value:e.value}}}(e):e instanceof Pg?function(e){const t=e.getFilters().map((e=>db(e)));return 1===t.length?t[0]:{compositeFilter:{op:ub(e.op),filters:t}}}(e):Jd()}function fb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function pb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class mb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sf.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sf.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pm.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new mb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gb{constructor(e){this.Tt=e}}function yb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Kv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Vv(e,t.version.toTimestamp()),createTime:Vv(e,t.createTime.toTimestamp())}}(e.Tt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:bb(t.version)};else{if(!t.isUnknownDocument())return Jd();r.unknownDocument={path:n.path.toArray(),version:bb(t.version)}}return r}function vb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function bb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wb(e){const t=new Ef(e.seconds,e.nanoseconds);return Sf.fromTimestamp(t)}function _b(e,t){const n=(t.baseMutations||[]).map((t=>nb(e.Tt,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>nb(e.Tt,t))),i=Ef.fromMillis(t.localWriteTimeMs);return new dv(t.batchId,i,n,r)}function kb(e){const t=wb(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?wb(e.lastLimboFreeSnapshotVersion):Sf.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Xd(1===e.documents.length),uy(sy(Yv(e.documents[0])))}(e.query):function(e){return uy(sb(e))}(e.query),new mb(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Pm.fromBase64String(e.resumeToken))}function Eb(e,t){const n=bb(t.snapshotVersion),r=bb(t.lastLimboFreeSnapshotVersion);let i;i=Zg(t.target)?rb(e.Tt,t.target):ib(e.Tt,t.target).ht;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Jg(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Sb(e){const t=sb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dy(t,t.limit,"L"):t}function Ib(e,t){return new pv(t.largestBatchId,nb(e.Tt,t.overlayMutation))}function Tb(e,t){const n=t.path.lastSegment();return[e,hp(t.path.popLast()),n]}function Cb(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:bb(r.readTime),documentKey:hp(r.documentKey.path),largestBatchId:r.largestBatchId}}class xb{getBundleMetadata(e,t){return Ab(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:wb(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Ab(e).put(function(e){return{bundleId:e.id,createTime:bb(qv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Nb(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Sb(e.bundledQuery),readTime:wb(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Nb(e).put(function(e){return{name:e.name,readTime:bb(qv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Ab(e){return wm(e,Kp)}function Nb(e){return wm(e,Gp)}class Rb{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const n=t.uid||"";return new Rb(e,n)}getOverlay(e,t){return Pb(e).get(Tb(this.userId,t)).next((e=>e?Ib(this.serializer,e):null))}getOverlays(e,t){const n=Ty();return $f.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new pv(t,i);r.push(this.Et(e,s))})),$f.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(hp(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Pb(e).J(om,r))})),$f.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Ty(),i=hp(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Pb(e).G(om,s).next((e=>{for(const t of e){const e=Ib(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Ty();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pb(e).Z({index:um,range:a},((e,t,n)=>{const a=Ib(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}Et(e,t){return Pb(e).put(function(e,t,n){const[r,i,s]=Tb(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:tb(e.Tt,n.mutation)}}(this.serializer,this.userId,t))}}function Pb(e){return wm(e,sm)}class Ob{dt(e){return wm(e,hm)}getSessionToken(e){return this.dt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?Pm.fromUint8Array(t):Pm.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Db{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Lm(e.integerValue));else if("doubleValue"in e){const n=Lm(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),lp(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Dm(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Mm(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?gg(e)?this.ft(t,Number.MAX_SAFE_INTEGER):pg(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Jd()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=Jm,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Lm(a)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Nf.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Db.xt=new Db;const Lb=255;function Mb(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Fb(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Mb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Ub{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Nt(n.value),n=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.kt(n.value),n=t.next();this.qt()}Qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Nt(e);else if(e<2048)this.Nt(960|e>>>6),this.Nt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Nt(480|e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e);else{const e=t.codePointAt(0);this.Nt(240|e>>>18),this.Nt(128|63&e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e)}}this.Bt()}$t(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.kt(e);else if(e<2048)this.kt(960|e>>>6),this.kt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.kt(480|e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e);else{const e=t.codePointAt(0);this.kt(240|e>>>18),this.kt(128|63&e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e)}}this.qt()}Ut(e){const t=this.Kt(e),n=Fb(t);this.Wt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Gt(e){const t=this.Kt(e),n=Fb(t);this.Wt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}zt(){this.jt(Lb),this.jt(255)}Ht(){this.Jt(Lb),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Nt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):t===Lb?(this.jt(Lb),this.jt(0)):this.jt(t)}kt(e){const t=255&e;0===t?(this.Jt(0),this.Jt(255)):t===Lb?(this.Jt(Lb),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class zb{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Ut(e)}Vt(){this.Zt.zt()}}class Vb{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class jb{constructor(){this.Zt=new Ub,this.Xt=new zb(this.Zt),this.en=new Vb(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return 0===e?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}class Bb{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}nn(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Bb(this.indexId,this.documentKey,this.arrayValue,n)}}function qb(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=$b(e.arrayValue,t.arrayValue),0!==n?n:(n=$b(e.directionalValue,t.directionalValue),0!==n?n:Nf.comparator(e.documentKey,t.documentKey)))}function $b(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Hb{constructor(e){this.rn=new Cm(((e,t)=>Af.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const e=t;e.isInequality()?this.rn=this.rn.add(e):this._n.push(e)}}get an(){return this.rn.size>1}un(e){if(Xd(e.collectionGroup===this.collectionId),this.an)return!1;const t=Of(e);if(void 0!==t&&!this.cn(t))return!1;const n=Df(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.cn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.rn.size>0){const e=this.rn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.ln(e,t)||!this.hn(this.sn[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.sn.length||!this.hn(this.sn[s++],e))return!1}return!0}Pn(){if(this.an)return null;let e=new Cm(Af.comparator);const t=[];for(const n of this._n)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Lf(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Lf(n.field,0))}for(const n of this.sn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Lf(n.field,"asc"===n.dir?0:1)));return new Pf(Pf.UNKNOWN_ID,this.collectionId,t,Mf.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Wb(e){var t,n;if(Xd(e instanceof Rg||e instanceof Pg),e instanceof Rg){if(e instanceof Wg){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Rg.create(e.field,"==",t))))||[];return Pg.create(r,"or")}return e}const r=e.filters.map((e=>Wb(e)));return Pg.create(r,e.op)}function Kb(e){if(0===e.getFilters().length)return[];const t=Jb(Wb(e));return Xd(Yb(t)),Gb(t)||Qb(t)?[t]:t.getFilters()}function Gb(e){return e instanceof Rg}function Qb(e){return e instanceof Pg&&Lg(e)}function Yb(e){return Gb(e)||Qb(e)||function(e){if(e instanceof Pg&&Dg(e)){for(const t of e.getFilters())if(!Gb(t)&&!Qb(t))return!1;return!0}return!1}(e)}function Jb(e){if(Xd(e instanceof Rg||e instanceof Pg),e instanceof Rg)return e;if(1===e.filters.length)return Jb(e.filters[0]);const t=e.filters.map((e=>Jb(e)));let n=Pg.create(t,e.op);return n=ew(n),Yb(n)?n:(Xd(n instanceof Pg),Xd(Og(n)),Xd(n.filters.length>1),n.filters.reduce(((e,t)=>Xb(e,t))))}function Xb(e,t){let n;return Xd(e instanceof Rg||e instanceof Pg),Xd(t instanceof Rg||t instanceof Pg),n=e instanceof Rg?t instanceof Rg?function(e,t){return Pg.create([e,t],"and")}(e,t):Zb(e,t):t instanceof Rg?Zb(t,e):function(e,t){if(Xd(e.filters.length>0&&t.filters.length>0),Og(e)&&Og(t))return zg(e,t.getFilters());const n=Dg(e)?e:t,r=Dg(e)?t:e,i=n.filters.map((e=>Xb(e,r)));return Pg.create(i,"or")}(e,t),ew(n)}function Zb(e,t){if(Og(t))return zg(t,e.getFilters());{const n=t.filters.map((t=>Xb(e,t)));return Pg.create(n,"or")}}function ew(e){if(Xd(e instanceof Rg||e instanceof Pg),e instanceof Rg)return e;const t=e.getFilters();if(1===t.length)return ew(t[0]);if(Mg(e))return e;const n=t.map((e=>ew(e))),r=[];return n.forEach((t=>{t instanceof Rg?r.push(t):t instanceof Pg&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Pg.create(r,e.op)}class tw{constructor(){this.Tn=new nw}addToCollectionParentIndex(e,t){return this.Tn.add(t),$f.resolve()}getCollectionParents(e,t){return $f.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return $f.resolve()}deleteFieldIndex(e,t){return $f.resolve()}deleteAllFieldIndexes(e){return $f.resolve()}createTargetIndexes(e,t){return $f.resolve()}getDocumentsMatchingTarget(e,t){return $f.resolve(null)}getIndexType(e,t){return $f.resolve(0)}getFieldIndexes(e,t){return $f.resolve([])}getNextCollectionGroupToUpdate(e){return $f.resolve(null)}getMinOffset(e,t){return $f.resolve(zf.min())}getMinOffsetFromCollectionGroup(e,t){return $f.resolve(zf.min())}updateCollectionGroup(e,t,n){return $f.resolve()}updateIndexEntries(e,t){return $f.resolve()}}class nw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cm(Cf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Cm(Cf.comparator)).toArray()}}const rw="IndexedDbIndexManager",iw=new Uint8Array(0);class sw{constructor(e,t){this.databaseId=t,this.In=new nw,this.En=new wy((e=>Jg(e)),((e,t)=>Xg(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.In.add(t)}));const i={collectionId:n,parent:hp(r)};return aw(e).put(i)}return $f.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[wf(t),""],!1,!0);return aw(e).G(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(pp(r.parent))}return n}))}addFieldIndex(e,t){const n=lw(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=uw(e);return i.next((e=>{n.put(Cb(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=lw(e),r=uw(e),i=ow(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=lw(e),n=ow(e),r=uw(e);return t.J().next((()=>n.J())).next((()=>r.J()))}createTargetIndexes(e,t){return $f.forEach(this.dn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Hb(t).Pn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=ow(e);let r=!0;const i=new Map;return $f.forEach(this.dn(t),(t=>this.An(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ry();const r=[];return $f.forEach(i,((i,s)=>{Kd(rw,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${Jg(t)}`);const a=function(e,t){const n=Of(t);if(void 0===n)return null;for(const r of ey(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of Df(t))for(const t of ey(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Df(t)){const t=0===i.kind?ty(e,i.fieldPath,e.startAt):ny(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ig(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of Df(t)){const t=0===i.kind?ny(e,i.fieldPath,e.endAt):ty(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ig(n,r)}(s,i),c=this.Rn(i,s,l),h=this.Rn(i,s,u),d=this.Vn(i,s,o),f=this.mn(i.indexId,a,c,l.inclusive,h,u.inclusive,d);return $f.forEach(f,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=Nf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return $f.resolve(null)}))}dn(e){let t=this.En.get(e);return t||(t=0===e.filters.length?[e]:Kb(Pg.create(e.filters,"and")).map((t=>Yg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.En.set(e,t),t)}mn(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),u=[];for(let c=0;c<o;++c){const o=t?this.fn(t[c/l]):iw,h=this.gn(e,o,n[c%l],r),d=this.pn(e,o,i[c%l],s),f=a.map((t=>this.gn(e,o,t,!0)));u.push(...this.createRange(h,d,f))}return u}gn(e,t,n,r){const i=new Bb(e,Nf.empty(),t,n);return r?i:i.nn()}pn(e,t,n,r){const i=new Bb(e,Nf.empty(),t,n);return r?i.nn():i}An(e,t){const n=new Hb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.un(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.dn(t);return $f.forEach(r,(t=>this.An(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Cm(Af.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}yn(e,t){const n=new jb;for(const r of Df(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.tn(r.kind);Db.xt.At(e,i)}return n.Yt()}fn(e){const t=new jb;return Db.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const n=new jb;return Db.xt.At(lg(this.databaseId,t),n.tn(function(e){const t=Df(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Yt()}Vn(e,t,n){if(null===n)return[];let r=[];r.push(new jb);let i=0;for(const s of Df(e)){const e=n[i++];for(const n of r)if(this.Sn(t,s.fieldPath)&&cg(e))r=this.bn(r,s,e);else{const t=n.tn(s.kind);Db.xt.At(e,t)}}return this.Dn(r)}Rn(e,t,n){return this.Vn(e,t,n.position)}Dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Yt();return t}bn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new jb;n.seed(e.Yt()),Db.xt.At(s,n.tn(t.kind)),i.push(n)}return i}Sn(e,t){return!!e.filters.find((e=>e instanceof Rg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=lw(e),r=uw(e);return(t?n.G(Yp,IDBKeyRange.bound(t,t)):n.G()).next((e=>{const t=[];return $f.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Mf(t.sequenceNumber,new zf(wb(t.readTime),new Nf(pp(t.documentKey)),t.largestBatchId)):Mf.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Lf(Af.fromServerFormat(t),n)}));return new Pf(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:mf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=lw(e),i=uw(e);return this.vn(e).next((e=>r.G(Yp,IDBKeyRange.bound(t,t)).next((t=>$f.forEach(t,(t=>i.put(Cb(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return $f.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?$f.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),$f.forEach(i,(n=>this.Cn(e,t,n).next((t=>{const i=this.Fn(r,n);return t.isEqual(i)?$f.resolve():this.Mn(e,r,n,t,i)})))))))}))}xn(e,t,n,r){return ow(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.wn(n,t.key),documentKey:t.key.path.toArray()})}On(e,t,n,r){return ow(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.wn(n,t.key),t.key.path.toArray()])}Cn(e,t,n){const r=ow(e);let i=new Cm(qb);return r.Z({index:rm,range:IDBKeyRange.only([n.indexId,this.uid,this.wn(n,t)])},((e,r)=>{i=i.add(new Bb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Fn(e,t){let n=new Cm(qb);const r=this.yn(t,e);if(null==r)return n;const i=Of(t);if(null!=i){const s=e.data.field(i.fieldPath);if(cg(s))for(const i of s.arrayValue.values||[])n=n.add(new Bb(t.indexId,e.key,this.fn(i),r))}else n=n.add(new Bb(t.indexId,e.key,iw,r));return n}Mn(e,t,n,r,i){Kd(rw,"Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=Am(s),l=Am(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=Am(a)):t?(i(o),o=Am(s)):(o=Am(s),l=Am(a))}}(r,i,qb,(r=>{s.push(this.xn(e,t,n,r))}),(r=>{s.push(this.On(e,t,n,r))})),$f.waitFor(s)}vn(e){let t=1;return uw(e).Z({index:Zp,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>qb(e,t))).filter(((e,t,n)=>!t||0!==qb(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=qb(s,e),i=qb(s,t);if(0===n)r[0]=e.nn();else if(n>0&&i<0)r.push(s),r.push(s.nn());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Nn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,iw,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,iw,[]];i.push(IDBKeyRange.bound(e,t))}return i}Nn(e,t){return qb(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cw)}getMinOffset(e,t){return $f.mapArray(this.dn(t),(t=>this.An(e,t).next((e=>e||Jd())))).next(cw)}}function aw(e){return wm(e,$p)}function ow(e){return wm(e,tm)}function lw(e){return wm(e,Qp)}function uw(e){return wm(e,Jp)}function cw(e){Xd(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Vf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zf(t.readTime,t.documentKey,n)}const hw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dw=41943040;class fw{static withCacheSize(e){return new fw(e,fw.DEFAULT_COLLECTION_PERCENTILE,fw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function pw(e,t,n){const r=e.store(bp),i=e.store(Tp),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Z({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{Xd(1===o)})));const u=[];for(const c of n.mutations){const e=Sp(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return $f.waitFor(s).next((()=>u))}function mw(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Jd();t=e.noDocument}return JSON.stringify(t).length}fw.DEFAULT_COLLECTION_PERCENTILE=10,fw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fw.DEFAULT=new fw(dw,fw.DEFAULT_COLLECTION_PERCENTILE,fw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fw.DISABLED=new fw(-1,0,0);class gw{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Bn={}}static It(e,t,n,r){Xd(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new gw(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vw(e).Z({index:_p,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=bw(e),s=vw(e);return s.add({}).next((a=>{Xd("number"==typeof a);const o=new dv(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>tb(e.Tt,t))),i=n.mutations.map((t=>tb(e.Tt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),u=[];let c=new Cm(((e,t)=>mf(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Sp(this.userId,e.key.path,a);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Ip))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Bn[a]=o.keys()})),$f.waitFor(u).next((()=>o))}))}lookupMutationBatch(e,t){return vw(e).get(t).next((e=>e?(Xd(e.userId===this.userId),_b(this.serializer,e)):null))}Ln(e,t){return this.Bn[t]?$f.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Bn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return vw(e).Z({index:_p,range:r},((e,t,r)=>{t.userId===this.userId&&(Xd(t.batchId>=n),i=_b(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=ap;return vw(e).Z({index:_p,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ap],[this.userId,Number.POSITIVE_INFINITY]);return vw(e).G(_p,t).next((e=>e.map((e=>_b(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ep(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return bw(e).Z({range:r},((n,r,s)=>{const[a,o,l]=n,u=pp(o);if(a===this.userId&&t.path.isEqual(u))return vw(e).get(l).next((e=>{if(!e)throw Jd();Xd(e.userId===this.userId),i.push(_b(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Cm(mf);const r=[];return t.forEach((t=>{const i=Ep(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=bw(e).Z({range:s},((e,r,i)=>{const[s,a,o]=e,l=pp(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),$f.waitFor(r).next((()=>this.kn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ep(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Cm(mf);return bw(e).Z({range:s},((e,t,i)=>{const[s,o,l]=e,u=pp(o);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(a=a.add(l)):i.done()})).next((()=>this.kn(e,a)))}kn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(vw(e).get(t).next((e=>{if(null===e)throw Jd();Xd(e.userId===this.userId),n.push(_b(this.serializer,e))})))})),$f.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return pw(e.ue,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.qn(t.batchId)})),$f.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return $f.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return bw(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=pp(e[1]);r.push(t)}else n.done()})).next((()=>{Xd(0===r.length)}))}))}containsKey(e,t){return yw(e,this.userId,t)}Qn(e){return ww(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:ap,lastStreamToken:""}))}}function yw(e,t,n){const r=Ep(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return bw(e).Z({range:s,Y:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function vw(e){return wm(e,bp)}function bw(e){return wm(e,Tp)}function ww(e){return wm(e,vp)}class _w{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new _w(0)}static Kn(){return new _w(-1)}}class kw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next((t=>{const n=new _w(t.highestTargetId);return t.highestTargetId=n.next(),this.Gn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Wn(e).next((e=>Sf.fromTimestamp(new Ef(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Wn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Wn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Gn(e,r))))}addTargetData(e,t){return this.zn(e,t).next((()=>this.Wn(e).next((n=>(n.targetCount+=1,this.jn(t,n),this.Gn(e,n))))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Ew(e).delete(t.targetId))).next((()=>this.Wn(e))).next((t=>(Xd(t.targetCount>0),t.targetCount-=1,this.Gn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Ew(e).Z(((s,a)=>{const o=kb(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>$f.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Ew(e).Z(((e,n)=>{const r=kb(n);t(r)}))}Wn(e){return Sw(e).get(Bp).next((e=>(Xd(null!==e),e)))}Gn(e,t){return Sw(e).put(Bp,t)}zn(e,t){return Ew(e).put(Eb(this.serializer,t))}jn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Wn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Jg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Ew(e).Z({range:r,index:Mp},((e,n,r)=>{const s=kb(n);Xg(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Iw(e);return t.forEach((t=>{const s=hp(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),$f.waitFor(r)}removeMatchingKeys(e,t,n){const r=Iw(e);return $f.forEach(t,(t=>{const i=hp(t.path);return $f.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Iw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Iw(e);let i=Ry();return r.Z({range:n,Y:!0},((e,t,n)=>{const r=pp(e[1]),s=new Nf(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=hp(t.path),r=IDBKeyRange.bound([n],[wf(n)],!1,!0);let i=0;return Iw(e).Z({index:Vp,Y:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}lt(e,t){return Ew(e).get(t).next((e=>e?kb(e):null))}}function Ew(e){return wm(e,Lp)}function Sw(e){return wm(e,qp)}function Iw(e){return wm(e,Up)}const Tw="LruGarbageCollector",Cw=1048576;function xw(e,t){let[n,r]=e,[i,s]=t;const a=mf(n,i);return 0===a?mf(r,s):a}class Aw{constructor(e){this.Hn=e,this.buffer=new Cm(xw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();xw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Nw{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Kd(Tw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Jf(e)?Kd(Tw,"Ignoring IndexedDB error during garbage collection: ",e):await qf(e)}await this.er(3e5)}))}}class Rw{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return $f.resolve(sp.ae);const n=new Aw(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kd("LruGarbageCollector","Garbage collection skipped; disabled"),$f.resolve(hw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Kd("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hw):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,a,o,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Kd("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Wd()<=Is.DEBUG&&Kd("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-u}ms`),$f.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Pw(e,t){return new Rw(e,t)}class Ow{constructor(e,t){this.db=e,this.garbageCollector=Pw(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,((e,n)=>t(n)))}addReference(e,t,n){return Dw(e,n)}removeReference(e,t,n){return Dw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Dw(e,t)}ar(e,t){return function(e,t){let n=!1;return ww(e).X((r=>yw(e,r,t).next((e=>(e&&(n=!0),$f.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this._r(e,((s,a)=>{if(a<=t){const t=this.ar(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Sf.min()),Iw(e).delete(function(e){return[0,hp(e.path)]}(s)))))}));r.push(t)}})).next((()=>$f.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Dw(e,t)}_r(e,t){const n=Iw(e);let r,i=sp.ae;return n.Z({index:Vp},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==sp.ae&&t(new Nf(pp(r)),i),i=l,r=o):i=sp.ae})).next((()=>{i!==sp.ae&&t(new Nf(pp(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dw(e,t){return Iw(e).put(function(e,t){return{targetId:0,path:hp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Lw{constructor(){this.changes=new wy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$f.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Vw(e).put(n)}removeEntry(e,t,n){return Vw(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],vb(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.ur(e,n))))}getEntry(e,t){let n=Sg.newInvalidDocument(t);return Vw(e).Z({index:Ap,range:IDBKeyRange.only(jw(t))},((e,r)=>{n=this.cr(t,r)})).next((()=>n))}lr(e,t){let n={size:0,document:Sg.newInvalidDocument(t)};return Vw(e).Z({index:Ap,range:IDBKeyRange.only(jw(t))},((e,r)=>{n={document:this.cr(t,r),size:mw(r)}})).next((()=>n))}getEntries(e,t){let n=ky();return this.hr(e,t,((e,t)=>{const r=this.cr(e,t);n=n.insert(e,r)})).next((()=>n))}Pr(e,t){let n=ky(),r=new Sm(Nf.comparator);return this.hr(e,t,((e,t)=>{const i=this.cr(e,t);n=n.insert(e,i),r=r.insert(e,mw(t))})).next((()=>({documents:n,Tr:r})))}hr(e,t,n){if(t.isEmpty())return $f.resolve();let r=new Cm(qw);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(jw(r.first()),jw(r.last())),s=r.getIterator();let a=s.getNext();return Vw(e).Z({index:Ap,range:i},((e,t,r)=>{const i=Nf.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&qw(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.W(jw(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),vb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vw(e).G(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=ky();for(const i of e){const e=this.cr(Nf.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(gy(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=ky();const s=Bw(t,n),a=Bw(t,zf.max());return Vw(e).Z({index:Rp,range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.cr(Nf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Uw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return zw(e).get(Dp).next((e=>(Xd(!!e),e)))}ur(e,t){return zw(e).put(Dp,t)}cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=eb(e.Tt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Nf.fromSegments(t.noDocument.path),r=wb(t.noDocument.readTime);n=Sg.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Jd();{const e=Nf.fromSegments(t.unknownDocument.path),r=wb(t.unknownDocument.version);n=Sg.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Ef(e[0],e[1]);return Sf.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Sf.min()))return e}return Sg.newInvalidDocument(e)}}function Fw(e){return new Mw(e)}class Uw extends Lw{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new wy((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Cm(((e,t)=>mf(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.Er.get(i);if(t.push(this.Ir.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=yb(this.Ir.serializer,s);r=r.add(i.path.popLast());const l=mw(o);n+=l-a.size,t.push(this.Ir.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=yb(this.Ir.serializer,s.convertToNoDocument(Sf.min()));t.push(this.Ir.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Ir.updateMetadata(e,n)),$f.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next((e=>(this.Er.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next((e=>{let{documents:t,Tr:n}=e;return n.forEach(((e,n)=>{this.Er.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function zw(e){return wm(e,Op)}function Vw(e){return wm(e,Cp)}function jw(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Bw(e,t){const n=t.documentKey.path.toArray();return[e,vb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qw(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=mf(n[s],r[s]),i)return i;return i=mf(n.length,r.length),i||(i=mf(n[n.length-2],r[r.length-2]),i||mf(n[n.length-1],r[r.length-1]))}class $w{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hw{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&nv(n.mutation,e,Nm.empty(),Ef.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ry()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ry();const r=Ty();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Sy();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ty();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ry())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ky();const s=xy(),a=xy();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof av)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),nv(a.mutation,t,a.mutation.getFieldMask(),Ef.now())):s.set(t.key,Nm.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new $w(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=xy();let r=new Sm(((e,t)=>e-t)),i=Ry();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Nm.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Ry()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,u=Cy();l.forEach((e=>{if(!i.has(e)){const r=ev(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return $f.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Nf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):$f.resolve(Ty());let a=Rf,o=i;return s.next((t=>$f.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?$f.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Ry()))).next((e=>({batchId:a,changes:Iy(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Nf(t)).next((e=>{let t=Sy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Sy();return this.indexManager.getCollectionParents(e,i).next((a=>$f.forEach(a,(a=>{const o=function(e,t){return new ry(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Sg.newInvalidDocument(r)))}));let n=Sy();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&nv(s.mutation,r,Nm.empty(),Ef.now()),gy(t,r)&&(n=n.insert(e,r))})),n}))}}class Ww{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return $f.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:qv(e.createTime)}}(t)),$f.resolve()}getNamedQuery(e,t){return $f.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Sb(e.bundledQuery),readTime:qv(e.readTime)}}(t)),$f.resolve()}}class Kw{constructor(){this.overlays=new Sm(Nf.comparator),this.Rr=new Map}getOverlay(e,t){return $f.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ty();return $f.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),$f.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),$f.resolve()}getOverlaysForCollection(e,t,n){const r=Ty(),i=t.length+1,s=new Nf(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $f.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Sm(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ty(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ty(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return $f.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new pv(t,n));let i=this.Rr.get(t);void 0===i&&(i=Ry(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Gw{constructor(){this.sessionToken=Pm.EMPTY_BYTE_STRING}getSessionToken(e){return $f.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$f.resolve()}}class Qw{constructor(){this.Vr=new Cm(Yw.mr),this.gr=new Cm(Yw.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Yw(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Yw(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new Nf(new Cf([])),n=new Yw(t,e),r=new Yw(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Nf(new Cf([])),n=new Yw(t,e),r=new Yw(t,e+1);let i=Ry();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Yw(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Yw{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Nf.comparator(e.key,t.key)||mf(e.Cr,t.Cr)}static pr(e,t){return mf(e.Cr,t.Cr)||Nf.comparator(e.key,t.key)}}class Jw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Cm(Yw.mr)}checkEmpty(e){return $f.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new dv(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Mr=this.Mr.add(new Yw(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $f.resolve(s)}lookupMutationBatch(e,t){return $f.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return $f.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $f.resolve(0===this.mutationQueue.length?ap:this.Fr-1)}getAllMutationBatches(e){return $f.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yw(t,0),r=new Yw(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),$f.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Cm(mf);return t.forEach((e=>{const t=new Yw(e,0),r=new Yw(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),$f.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Nf.isDocumentKey(i)||(i=i.child(""));const s=new Yw(new Nf(i),0);let a=new Cm(mf);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),s),$f.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Xd(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return $f.forEach(t.mutations,(r=>{const i=new Yw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Yw(t,0),r=this.Mr.firstAfterOrEqual(n);return $f.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$f.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Xw{constructor(e){this.kr=e,this.docs=new Sm(Nf.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $f.resolve(n?n.document.mutableCopy():Sg.newInvalidDocument(t))}getEntries(e,t){let n=ky();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Sg.newInvalidDocument(e))})),$f.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ky();const s=t.path,a=new Nf(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Vf(Uf(a),n)<=0||(r.has(a.key)||gy(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return $f.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Jd()}qr(e,t){return $f.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Zw(this)}getSize(e){return $f.resolve(this.size)}}class Zw extends Lw{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),$f.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class e_{constructor(e){this.persistence=e,this.Qr=new wy((e=>Jg(e)),Xg),this.lastRemoteSnapshotVersion=Sf.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Qw,this.targetCount=0,this.Kr=_w.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),$f.resolve()}getLastRemoteSnapshotVersion(e){return $f.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $f.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$f.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),$f.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new _w(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,$f.resolve()}updateTargetData(e,t){return this.zn(t),$f.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,$f.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),$f.waitFor(i).next((()=>r))}getTargetCount(e){return $f.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return $f.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),$f.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),$f.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),$f.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return $f.resolve(n)}containsKey(e,t){return $f.resolve(this.Ur.containsKey(t))}}class t_{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new sp(0),this.zr=!1,this.zr=!0,this.jr=new Gw,this.referenceDelegate=e(this),this.Hr=new e_(this),this.indexManager=new tw,this.remoteDocumentCache=function(e){return new Xw(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new gb(t),this.Yr=new Ww(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Jw(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Kd("MemoryPersistence","Starting transaction:",e);const r=new n_(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return $f.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class n_ extends Bf{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.ti=new Qw,this.ni=null}static ri(e){return new r_(e)}get ii(){if(this.ni)return this.ni;throw Jd()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),$f.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),$f.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),$f.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $f.forEach(this.ii,(n=>{const r=Nf.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Sf.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return $f.or([()=>$f.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class i_{constructor(e,t){this.persistence=e,this.oi=new wy((e=>hp(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Pw(this,t)}static ri(e,t){return new i_(e,t)}Zr(){}Xr(e){return $f.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return $f.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?$f.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Sf.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),$f.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),$f.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),$f.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),$f.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=og(e.data.value)),t}ar(e,t,n){return $f.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return $f.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class s_{constructor(e){this.serializer=e}B(e,t,n,r){const i=new Wf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(gp)}(e),function(e){e.createObjectStore(vp,{keyPath:"userId"});e.createObjectStore(bp,{keyPath:wp,autoIncrement:!0}).createIndex(_p,kp,{unique:!0}),e.createObjectStore(Tp)}(e),a_(e),function(e){e.createObjectStore(mp)}(e));let s=$f.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Up),e.deleteObjectStore(Lp),e.deleteObjectStore(qp)}(e),a_(e)),s=s.next((()=>function(e){const t=e.store(qp),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sf.min().toTimestamp(),targetCount:0};return t.put(Bp,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(bp).G().next((n=>{e.deleteObjectStore(bp),e.createObjectStore(bp,{keyPath:wp,autoIncrement:!0}).createIndex(_p,kp,{unique:!0});const r=t.store(bp),i=n.map((e=>r.put(e)));return $f.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(Wp,{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this._i(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(Op)}(e),this.ai(i))))),n<7&&r>=7&&(s=s.next((()=>this.ui(i)))),n<8&&r>=8&&(s=s.next((()=>this.ci(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.li(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(Kp,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Gp,{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore(sm,{keyPath:am});t.createIndex(om,lm,{unique:!1}),t.createIndex(um,cm,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore(Cp,{keyPath:xp});t.createIndex(Ap,Np),t.createIndex(Rp,Pp)}(e))).next((()=>this.hi(e,i))).next((()=>e.deleteObjectStore(mp)))),n<14&&r>=14&&(s=s.next((()=>this.Pi(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore(Qp,{keyPath:"indexId",autoIncrement:!0}).createIndex(Yp,"collectionGroup",{unique:!1});e.createObjectStore(Jp,{keyPath:Xp}).createIndex(Zp,em,{unique:!1});e.createObjectStore(tm,{keyPath:nm}).createIndex(rm,im,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore(Jp).clear()})).next((()=>{t.objectStore(tm).clear()}))),n<17&&r>=17&&(s=s.next((()=>{!function(e){e.createObjectStore(hm,{keyPath:"name"})}(e)}))),s}ai(e){let t=0;return e.store(mp).Z(((e,n)=>{t+=mw(n)})).next((()=>{const n={byteSize:t};return e.store(Op).put(Dp,n)}))}_i(e){const t=e.store(vp),n=e.store(bp);return t.G().next((t=>$f.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,ap],[t.userId,t.lastAcknowledgedBatchId]);return n.G(_p,r).next((n=>$f.forEach(n,(n=>{Xd(n.userId===t.userId);const r=_b(this.serializer,n);return pw(e,t.userId,r).next((()=>{}))}))))}))))}ui(e){const t=e.store(Up),n=e.store(mp);return e.store(qp).get(Bp).next((e=>{const r=[];return n.Z(((n,i)=>{const s=new Cf(n),a=function(e){return[0,hp(e)]}(s);r.push(t.get(a).next((n=>n?$f.resolve():(n=>t.put({targetId:0,path:hp(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>$f.waitFor(r)))}))}ci(e,t){e.createObjectStore($p,{keyPath:Hp});const n=t.store($p),r=new nw,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:hp(r)})}};return t.store(mp).Z({Y:!0},((e,t)=>{const n=new Cf(e);return i(n.popLast())})).next((()=>t.store(Tp).Z({Y:!0},((e,t)=>{let[n,r,s]=e;const a=pp(r);return i(a.popLast())}))))}li(e){const t=e.store(Lp);return t.Z(((e,n)=>{const r=kb(n),i=Eb(this.serializer,r);return t.put(i)}))}hi(e,t){const n=t.store(mp),r=[];return n.Z(((e,n)=>{const i=t.store(Cp),s=function(e){return e.document?new Nf(Cf.fromString(e.document.name).popFirst(5)):e.noDocument?Nf.fromSegments(e.noDocument.path):e.unknownDocument?Nf.fromSegments(e.unknownDocument.path):Jd()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>$f.waitFor(r)))}Pi(e,t){const n=t.store(bp),r=Fw(this.serializer),i=new t_(r_.ri,this.serializer.Tt);return n.G().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ry();_b(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),$f.forEach(n,((e,n)=>{const s=new qd(n),a=Rb.It(this.serializer,s),o=i.getIndexManager(s),l=gw.It(s,this.serializer,o,i.referenceDelegate);return new Hw(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new bm(t,sp.ae),e).next()}))}))}}function a_(e){e.createObjectStore(Up,{keyPath:zp}).createIndex(Vp,jp,{unique:!0}),e.createObjectStore(Lp,{keyPath:"targetId"}).createIndex(Mp,Fp,{unique:!0}),e.createObjectStore(qp)}const o_="IndexedDbPersistence",l_=18e5,u_=5e3,c_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",h_="main";class d_{constructor(e,t,n,r,i,s,a,o,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Ti=i,this.window=s,this.document=a,this.Ii=l,this.Ei=u,this.di=c,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!d_.D())throw new tf(ef.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ow(this,r),this.gi=t+h_,this.serializer=new gb(o),this.pi=new Kf(this.gi,this.di,new s_(this.serializer)),this.jr=new Ob,this.Hr=new kw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Fw(this.serializer),this.Yr=new xb,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,!1===u&&Gd(o_,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tf(ef.FAILED_PRECONDITION,c_);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Hr.getHighestSequenceNumber(e)))})).then((e=>{this.Gr=new sp(e,this.Ii)})).then((()=>{this.zr=!0})).catch((e=>(this.pi&&this.pi.close(),Promise.reject(e))))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget((async()=>{this.started&&await this.wi()})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>p_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Fi(e).next((e=>{e||(this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Mi(e))).next((t=>this.isPrimary&&!t?this.xi(e).next((()=>!1)):!!t&&this.Oi(e).next((()=>!0)))))).catch((e=>{if(Jf(e))return Kd(o_,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kd(o_,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Fi(e){return f_(e).get(yp).next((e=>$f.resolve(this.Ni(e))))}Bi(e){return p_(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,l_)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=wm(e,Wp);return t.G().next((e=>{const n=this.qi(e,l_),r=e.filter((e=>-1===n.indexOf(e)));return $f.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.wi().then((()=>this.Li())).then((()=>this.Di()))))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?$f.resolve(!0):f_(e).get(yp).next((t=>{if(null!==t&&this.ki(t.leaseTimestampMs,u_)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new tf(ef.FAILED_PRECONDITION,c_);return!1}}return!(!this.networkEnabled||!this.inForeground)||p_(e).G().next((e=>void 0===this.qi(e,u_).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Kd(o_,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.zr=!1,this.Ui(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ki(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[gp,Wp],(e=>{const t=new bm(e,sp.ae);return this.xi(t).next((()=>this.Bi(t)))})),this.pi.close(),this.Gi()}qi(e,t){return e.filter((e=>this.ki(e.updateTimeMs,t)&&!this.$i(e.clientId)))}zi(){return this.runTransaction("getActiveClients","readonly",(e=>p_(e).G().next((e=>this.qi(e,l_).map((e=>e.clientId))))))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return gw.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sw(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Rb.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,n){Kd(o_,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?vm:16===e?ym:15===e?gm:14===e?mm:13===e?pm:12===e?fm:11===e?dm:void Jd()}(this.di);let s;return this.pi.runTransaction(e,r,i,(r=>(s=new bm(r,this.Gr?this.Gr.next():sp.ae),"readwrite-primary"===t?this.Fi(s).next((e=>!!e||this.Mi(s))).next((t=>{if(!t)throw Gd(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))),new tf(ef.FAILED_PRECONDITION,jf);return n(s)})).next((e=>this.Oi(s).next((()=>e)))):this.ji(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ji(e){return f_(e).get(yp).next((e=>{if(null!==e&&this.ki(e.leaseTimestampMs,u_)&&!this.$i(e.ownerId)&&!this.Ni(e)&&!(this.Ei||this.allowTabSynchronization&&e.allowTabSynchronization))throw new tf(ef.FAILED_PRECONDITION,c_)}))}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return f_(e).put(yp,t)}static D(){return Kf.D()}xi(e){const t=f_(e);return t.get(yp).next((e=>this.Ni(e)?(Kd(o_,"Releasing primary lease."),t.delete(yp)):$f.resolve()))}ki(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Gd(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Si(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ri=()=>{this.Ti.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.wi())))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground="visible"===this.document.visibilityState)}Ki(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ai=()=>{this.Ui();const e=/(?:Version|Mobile)\/1[456]/;ss()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const n=null!==(null===(t=this.yi)||void 0===t?void 0:t.getItem(this.Qi(e)));return Kd(o_,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Gd(o_,"Failed to get zombied client id.",e),!1}}Ui(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(Zx){Gd("Failed to set zombie client id.",Zx)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch(Zx){}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function f_(e){return wm(e,gp)}function p_(e){return wm(e,Wp)}function m_(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class g_{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Ry(),r=Ry();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new g_(e,t.fromCache,n,r)}}class y_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class v_{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=ss()?8:Gf(Zi())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new y_;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Wd()<=Is.DEBUG&&Kd("QueryEngine","SDK will not create cache indexes for query:",my(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$f.resolve()):(Wd()<=Is.DEBUG&&Kd("QueryEngine","Query:",my(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Wd()<=Is.DEBUG&&Kd("QueryEngine","The SDK decides to create cache indexes for query:",my(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uy(t))):$f.resolve())}rs(e,t){if(ay(t))return $f.resolve(null);let n=uy(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=dy(t,null,"F"),n=uy(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ry(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,dy(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return ay(t)||r.isEqual(Sf.min())?$f.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?$f.resolve(null):(Wd()<=Is.DEBUG&&Kd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),my(t)),this.hs(e,s,t,Ff(r,Rf)).next((e=>e)))}))}cs(e,t){let n=new Cm(vy(e));return t.forEach(((t,r)=>{gy(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Wd()<=Is.DEBUG&&Kd("QueryEngine","Using full collection scan to execute query:",my(t)),this.ns.getDocumentsMatchingQuery(e,t,zf.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const b_="LocalStore";class w_{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Sm(mf),this.Is=new wy((e=>Jg(e)),Xg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function __(e,t,n,r){return new w_(e,t,n,r)}async function k_(e,t){const n=Zd(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Ry();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function E_(e){const t=Zd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function S_(e,t,n){let r=Ry(),i=Ry();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ky();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Sf.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Kd(b_,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function I_(e,t){const n=Zd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function T_(e,t){const n=Zd(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,$f.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new mb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function C_(e,t,n){const r=Zd(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Jf(e))throw e;Kd(b_,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function x_(e,t,n){const r=Zd(e);let i=Sf.min(),s=Ry();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Zd(e),i=r.Is.get(n);return void 0!==i?$f.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,uy(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Sf.min(),n?s:Ry()))).next((e=>(R_(r,yy(t),e),{documents:e,gs:s})))))}function A_(e,t){const n=Zd(e),r=Zd(n.Hr),i=n.Ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.lt(e,t).next((e=>e?e.target:null))))}function N_(e,t){const n=Zd(e),r=n.Es.get(t)||Sf.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ds.getAllFromCollectionGroup(e,t,Ff(r,Rf),Number.MAX_SAFE_INTEGER))).then((e=>(R_(n,t,e),e)))}function R_(e,t,n){let r=e.Es.get(t)||Sf.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}async function P_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ry();const r=await T_(e,uy(Sb(t.bundledQuery))),i=Zd(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=qv(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Yr.saveNamedQuery(e,t);const a=r.withResumeToken(Pm.EMPTY_BYTE_STRING,s);return i.Ts=i.Ts.insert(a.targetId,a),i.Hr.updateTargetData(e,a).next((()=>i.Hr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Hr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Yr.saveNamedQuery(e,t)))}))}const O_="firestore_clients";function D_(e,t){return`${O_}_${e}_${t}`}const L_="firestore_mutations";function M_(e,t,n){let r=`${L_}_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}const F_="firestore_targets";function U_(e,t){return`${F_}_${e}_${t}`}const z_="SharedClientState";class V_{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ss(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new tf(r.error.code,r.error.message))),s?new V_(e,t,r.state,i):(Gd(z_,`Failed to parse mutation state for ID '${t}': ${n}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j_{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ss(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new tf(n.error.code,n.error.message))),i?new j_(e,n.state,r):(Gd(z_,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class B_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Oy();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=up(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new B_(e,i):(Gd(z_,`Failed to parse client data for instance '${e}': ${t}`),null)}}class q_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new q_(t.clientId,t.onlineState):(Gd(z_,`Failed to parse online state: ${e}`),null)}}class $_{constructor(){this.activeTargetIds=Oy()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H_{constructor(e,t,n,r,i){this.window=e,this.Ti=t,this.persistenceKey=n,this.Cs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new Sm(mf),this.started=!1,this.Os=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ns=D_(this.persistenceKey,this.Cs),this.Bs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new $_),this.Ls=new RegExp(`^${O_}_${s}_([^_]*)$`),this.ks=new RegExp(`^${L_}_${s}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${F_}_${s}_(\\d+)$`),this.Qs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.$s=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const n of e){if(n===this.Cs)continue;const e=this.getItem(D_(this.persistenceKey,n));if(e){const t=B_.Ss(n,e);t&&(this.xs=this.xs.insert(t.clientId,t))}}this.Us();const t=this.storage.getItem(this.Qs);if(t){const e=this.Ks(t);e&&this.Ws(e)}for(const n of this.Os)this.Ms(n);this.Os=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,n){this.zs(e,t,n),this.js(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(U_(this.persistenceKey,e));if(t){const r=j_.Ss(e,t);r&&(n=r.state)}}return t&&this.Hs.Ds(e),this.Us(),n}removeLocalQueryTarget(e){this.Hs.vs(e),this.Us()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(U_(this.persistenceKey,e))}updateQueryState(e,t,n){this.Js(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.js(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Kd(z_,"READ",e,t),t}setItem(e,t){Kd(z_,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){Kd(z_,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(Kd(z_,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Gd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ls.test(t.key)){if(null==t.newValue){const e=this.Xs(t.key);return this.eo(e,null)}{const e=this.no(t.key,t.newValue);if(e)return this.eo(e.clientId,e)}}else if(this.ks.test(t.key)){if(null!==t.newValue){const e=this.ro(t.key,t.newValue);if(e)return this.io(e)}}else if(this.qs.test(t.key)){if(null!==t.newValue){const e=this.so(t.key,t.newValue);if(e)return this.oo(e)}}else if(t.key===this.Qs){if(null!==t.newValue){const e=this.Ks(t.newValue);if(e)return this.Ws(e)}}else if(t.key===this.Bs){const e=function(e){let t=sp.ae;if(null!=e)try{const n=JSON.parse(e);Xd("number"==typeof n),t=n}catch(e){Gd(z_,"Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==sp.ae&&this.sequenceNumberHandler(e)}else if(t.key===this.$s){const e=this._o(t.newValue);await Promise.all(e.map((e=>this.syncEngine.ao(e))))}}else this.Os.push(t)}))}}get Hs(){return this.xs.get(this.Cs)}Us(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,n){const r=new V_(this.currentUser,e,t,n),i=M_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.bs())}js(e){const t=M_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,n){const r=U_(this.persistenceKey,e),i=new j_(e,t,n);this.setItem(r,i.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const n=this.Xs(e);return B_.Ss(n,t)}ro(e,t){const n=this.ks.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return V_.Ss(new qd(i),r,t)}so(e,t){const n=this.qs.exec(e),r=Number(n[1]);return j_.Ss(r,t)}Ks(e){return q_.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);Kd(z_,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const n=t?this.xs.insert(e,t):this.xs.remove(e),r=this.Gs(this.xs),i=this.Gs(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.lo(s,a).then((()=>{this.xs=n}))}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Oy();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class W_{constructor(){this.ho=new $_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class K_{To(e){}shutdown(){}}const G_="ConnectivityMonitor";class Q_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Kd(G_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Kd(G_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Y_=null;function J_(){return null===Y_?Y_=268435456+Math.round(2147483648*Math.random()):Y_++,"0x"+Y_.toString(16)}const X_="RestConnection",Z_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ek{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Hm?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const s=J_(),a=this.bo(e,t.toUriEncodedString());Kd(X_,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,a,o,n).then((t=>(Kd(X_,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Qd(X_,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$d,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Z_[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class tk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const nk="WebChannelConnection";class rk extends ek{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=J_();return new Promise(((s,a)=>{const o=new Rd;o.setWithCredentials(!0),o.listenOnce(Od.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Dd.NO_ERROR:const t=o.getResponseJson();Kd(nk,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Dd.TIMEOUT:Kd(nk,`RPC '${e}' ${i} timed out`),a(new tf(ef.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const n=o.getStatus();if(Kd(nk,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ef).indexOf(t)>=0?t:ef.UNKNOWN}(t.status);a(new tf(e,t.message))}else a(new tf(ef.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new tf(ef.UNAVAILABLE,"Connection failed."));break;default:Jd()}}finally{Kd(nk,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Kd(nk,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=J_(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ud(),a=Fd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const u=i.join("");Kd(nk,`Creating RPC '${e}' stream ${r}: ${u}`,o);const c=s.createWebChannel(u,o);let h=!1,d=!1;const f=new tk({Fo:t=>{d?Kd(nk,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Kd(nk,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),Kd(nk,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Mo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Pd.EventType.OPEN,(()=>{d||(Kd(nk,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(c,Pd.EventType.CLOSE,(()=>{d||(d=!0,Kd(nk,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),p(c,Pd.EventType.ERROR,(t=>{d||(d=!0,Qd(nk,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new tf(ef.UNAVAILABLE,"The operation could not be completed")))})),p(c,Pd.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Xd(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Kd(nk,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=gv[e];if(void 0!==t)return bv(t)}(t),i=a.message;void 0===n&&(n=ef.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Uo(new tf(n,i)),c.close()}else Kd(nk,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),p(a,Md.STAT_EVENT,(t=>{t.stat===Ld.PROXY?Kd(nk,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ld.NOPROXY&&Kd(nk,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function ik(){return"undefined"!=typeof window?window:null}function sk(){return"undefined"!=typeof document?document:null}function ak(e){return new Uv(e,!0)}class ok{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Kd("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const lk="PersistentStream";class uk{constructor(e,t,n,r,i,s,a,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ok(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===ef.RESOURCE_EXHAUSTED?(Gd(t.toString()),Gd("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ef.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new tf(ef.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Kd(lk,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Kd(lk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ck extends uk{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Xd(void 0===t||"string"==typeof t),Pm.fromBase64String(t||"")):(Xd(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Pm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ef.UNKNOWN:bv(e.code);return new tf(t,e.message||"")}(a);n=new Nv(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gv(e,r.document.name),s=qv(r.document.updateTime),a=r.document.createTime?qv(r.document.createTime):Sf.min(),o=new kg({mapValue:{fields:r.document.fields}}),l=Sg.newFoundDocument(i,s,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xv(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gv(e,r.document),s=r.readTime?qv(r.readTime):Sf.min(),a=Sg.newNoDocument(i,s),o=r.removedTargetIds||[];n=new xv([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gv(e,r.document),s=r.removedTargetIds||[];n=new xv([],s,i,null)}else{if(!("filter"in t))return Jd();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new mv(r,i),a=e.targetId;n=new Av(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Sf.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sf.min():t.readTime?qv(t.readTime):Sf.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Jv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Zg(r)?{documents:rb(e,r)}:{query:ib(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jv(e,t.resumeToken);const r=zv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Sf.min())>0){n.readTime=Vv(e,t.snapshotVersion.toTimestamp());const r=zv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Jv(this.serializer),t.removeTarget=e,this.I_(t)}}class hk extends uk{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xd(!!e.streamToken),this.lastStreamToken=e.streamToken,Xd(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Xd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Xd(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?qv(e.updateTime):qv(t);return n.isEqual(Sf.min())&&(n=qv(t)),new Yy(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=qv(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Jv(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>tb(this.serializer,e)))};this.I_(t)}}class dk{}class fk extends dk{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new tf(ef.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,Hv(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ef.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tf(ef.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Co(e,Hv(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ef.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tf(ef.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class pk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gd(t),this.N_=!1):Kd("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const mk="RemoteStore";class gk{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Ik(this)&&(Kd(mk,"Restarting streams for network reachability change."),await async function(e){const t=Zd(e);t.W_.add(4),await vk(t),t.j_.set("Unknown"),t.W_.delete(4),await yk(t)}(this))}))})),this.j_=new pk(n,r)}}async function yk(e){if(Ik(e))for(const t of e.G_)await t(!0)}async function vk(e){for(const t of e.G_)await t(!1)}function bk(e,t){const n=Zd(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Sk(n)?Ek(n):$k(n).c_()&&_k(n,t))}function wk(e,t){const n=Zd(e),r=$k(n);n.K_.delete(t),r.c_()&&kk(n,t),0===n.K_.size&&(r.c_()?r.P_():Ik(n)&&n.j_.set("Unknown"))}function _k(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sf.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$k(e).y_(t)}function kk(e,t){e.H_.Ne(t),$k(e).w_(t)}function Ek(e){e.H_=new Pv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),$k(e).start(),e.j_.B_()}function Sk(e){return Ik(e)&&!$k(e).u_()&&e.K_.size>0}function Ik(e){return 0===Zd(e).W_.size}function Tk(e){e.H_=void 0}async function Ck(e){e.j_.set("Online")}async function xk(e){e.K_.forEach(((t,n)=>{_k(e,t)}))}async function Ak(e,t){Tk(e),Sk(e)?(e.j_.q_(t),Ek(e)):e.j_.set("Unknown")}async function Nk(e,t,n){if(e.j_.set("Online"),t instanceof Nv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Kd(mk,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Rk(e,n)}else if(t instanceof xv?e.H_.We(t):t instanceof Av?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Sf.min()))try{const t=await E_(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Pm.EMPTY_BYTE_STRING,r.snapshotVersion)),kk(e,t);const i=new mb(r.target,t,n,r.sequenceNumber);_k(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Kd(mk,"Failed to raise snapshot:",t),await Rk(e,t)}}async function Rk(e,t,n){if(!Jf(t))throw t;e.W_.add(1),await vk(e),e.j_.set("Offline"),n||(n=()=>E_(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Kd(mk,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await yk(e)}))}function Pk(e,t){return t().catch((n=>Rk(e,n,t)))}async function Ok(e){const t=Zd(e),n=Hk(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:ap;for(;Dk(t);)try{const e=await I_(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,Lk(t,e)}catch(e){await Rk(t,e)}Mk(t)&&Fk(t)}function Dk(e){return Ik(e)&&e.U_.length<10}function Lk(e,t){e.U_.push(t);const n=Hk(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Mk(e){return Ik(e)&&!Hk(e).u_()&&e.U_.length>0}function Fk(e){Hk(e).start()}async function Uk(e){Hk(e).C_()}async function zk(e){const t=Hk(e);for(const n of e.U_)t.b_(n.mutations)}async function Vk(e,t,n){const r=e.U_.shift(),i=fv.from(r,t,n);await Pk(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ok(e)}async function jk(e,t){t&&Hk(e).S_&&await async function(e,t){if(function(e){return vv(e)&&e!==ef.ABORTED}(t.code)){const n=e.U_.shift();Hk(e).h_(),await Pk(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ok(e)}}(e,t),Mk(e)&&Fk(e)}async function Bk(e,t){const n=Zd(e);n.asyncQueue.verifyOperationInProgress(),Kd(mk,"RemoteStore received new credentials");const r=Ik(n);n.W_.add(3),await vk(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await yk(n)}async function qk(e,t){const n=Zd(e);t?(n.W_.delete(2),await yk(n)):t||(n.W_.add(2),await vk(n),n.j_.set("Unknown"))}function $k(e){return e.J_||(e.J_=function(e,t,n){const r=Zd(e);return r.M_(),new ck(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Ck.bind(null,e),No:xk.bind(null,e),Lo:Ak.bind(null,e),p_:Nk.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Sk(e)?Ek(e):e.j_.set("Unknown")):(await e.J_.stop(),Tk(e))}))),e.J_}function Hk(e){return e.Y_||(e.Y_=function(e,t,n){const r=Zd(e);return r.M_(),new hk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Uk.bind(null,e),Lo:jk.bind(null,e),D_:zk.bind(null,e),v_:Vk.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Ok(e)):(await e.Y_.stop(),e.U_.length>0&&(Kd(mk,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class Wk{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Wk(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tf(ef.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kk(e,t){if(Gd("AsyncQueue",`${t}: ${e}`),Jf(e))return new tf(ef.UNAVAILABLE,`${t}: ${e}`);throw e}class Gk{static emptySet(e){return new Gk(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Nf.comparator(t.key,n.key):(e,t)=>Nf.comparator(e.key,t.key),this.keyedMap=Sy(),this.sortedSet=new Sm(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Qk{constructor(){this.Z_=new Sm(Nf.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Jd():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Yk{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Yk(e,t,Gk.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Jk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Xk{constructor(){this.queries=Zk(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Zd(e),r=n.queries;n.queries=Zk(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new tf(ef.ABORTED,"Firestore shutting down"))}}function Zk(){return new wy((e=>py(e)),fy)}async function eE(e,t){const n=Zd(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new Jk,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Kk(e,`Initialization of query '${my(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&iE(n)}async function tE(e,t){const n=Zd(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nE(e,t){const n=Zd(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&iE(n)}function rE(e,t,n){const r=Zd(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function iE(e){e.ia.forEach((e=>{e.next()}))}var sE,aE;(aE=sE||(sE={}))._a="default",aE.Cache="cache";class oE{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Yk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Yk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==sE.Cache}}class lE{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}class uE{constructor(e){this.serializer=e}ps(e){return Gv(this.serializer,e)}ys(e){return e.metadata.exists?eb(this.serializer,e.document,!1):Sg.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return qv(e)}}class cE{constructor(e,t,n){this.da=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hE(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const n=Cf.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,n=new uE(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ry()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Zd(e);let s=Ry(),a=ky();for(const u of n){const e=t.ps(u.metadata.name);u.document&&(s=s.add(e));const n=t.ys(u);n.setReadTime(t.ws(u.metadata.readTime)),a=a.insert(e,n)}const o=i.ds.newChangeBuffer({trackRemovals:!0}),l=await T_(i,function(e){return uy(sy(Cf.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>S_(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Hr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Hr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Vs,t.fs))).next((()=>t.Vs))))))}(this.localStore,new uE(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const n of this.queries)await P_(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function hE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class dE{constructor(e){this.key=e}}class fE{constructor(e){this.key=e}}class pE{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ry(),this.mutatedKeys=Ry(),this.ya=vy(e),this.wa=new Gk(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Qk,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=gy(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.va(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.ya(c,o)>0||l&&this.ya(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jd()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new Yk(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Qk,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ry(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new fE(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new dE(n))})),t}Oa(e){this.fa=e.gs,this.pa=Ry();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Yk.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const mE="SyncEngine";class gE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class yE{constructor(e){this.key=e,this.Ba=!1}}class vE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new wy((e=>py(e)),fy),this.qa=new Map,this.Qa=new Set,this.$a=new Sm(Nf.comparator),this.Ua=new Map,this.Ka=new Qw,this.Wa={},this.Ga=new Map,this.za=_w.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function bE(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=GE(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await _E(r,t,n,!0),i}async function wE(e,t){const n=GE(e);await _E(n,t,!0,!1)}async function _E(e,t,n,r){const i=await T_(e.localStore,uy(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await kE(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&bk(e.remoteStore,i),o}async function kE(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await x_(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return DE(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await x_(e.localStore,t,!0),a=new pE(t,s.gs),o=a.ba(s.documents),l=Cv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);DE(e,n,u.Ma);const c=new gE(t,n,a);return e.ka.set(t,c),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),u.snapshot}async function EE(e,t,n){const r=Zd(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!fy(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await C_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wk(r.remoteStore,i.targetId),PE(r,i.targetId)})).catch(qf)):(PE(r,i.targetId),await C_(r.localStore,i.targetId,!0))}async function SE(e,t){const n=Zd(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wk(n.remoteStore,r.targetId))}async function IE(e,t){const n=Zd(e);try{const e=await function(e,t){const n=Zd(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(Pm.EMPTY_BYTE_STRING,Sf.min()).withLastLimboFreeSnapshotVersion(Sf.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,s)&&a.push(n.Hr.updateTargetData(e,u))}));let o=ky(),l=Ry();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(S_(e,s,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(Sf.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return $f.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(Xd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Xd(r.Ba):e.removedDocuments.size>0&&(Xd(r.Ba),r.Ba=!1))})),await FE(n,e,t)}catch(e){await qf(e)}}function TE(e,t,n){const r=Zd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Zd(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&iE(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function CE(e,t,n){const r=Zd(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),s=i&&i.key;if(s){let e=new Sm(Nf.comparator);e=e.insert(s,Sg.newNoDocument(s,Sf.min()));const n=Ry().add(s),i=new Tv(Sf.min(),new Map,new Sm(mf),e,n);await IE(r,i),r.$a=r.$a.remove(s),r.Ua.delete(t),ME(r)}else await C_(r.localStore,t,!1).then((()=>PE(r,t,n))).catch(qf)}async function xE(e,t){const n=Zd(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Zd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=$f.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Xd(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ry();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);RE(n,r,null),NE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await FE(n,e)}catch(e){await qf(e)}}async function AE(e,t,n){const r=Zd(e);try{const e=await function(e,t){const n=Zd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Xd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);RE(r,t,n),NE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await FE(r,e)}catch(n){await qf(n)}}function NE(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function RE(e,t,n){const r=Zd(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function PE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||OE(e,t)}))}function OE(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(wk(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),ME(e))}function DE(e,t,n){for(const r of n)r instanceof dE?(e.Ka.addReference(r.key,t),LE(e,r)):r instanceof fE?(Kd(mE,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||OE(e,r.key)):Jd()}function LE(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Kd(mE,"New document in limbo: "+n),e.Qa.add(r),ME(e))}function ME(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Nf(Cf.fromString(t)),r=e.za.next();e.Ua.set(r,new yE(n)),e.$a=e.$a.insert(n,r),bk(e.remoteStore,new mb(uy(sy(n.path)),r,"TargetPurposeLimboResolution",sp.ae))}}async function FE(e,t,n){const r=Zd(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{a.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=g_.Yi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=Zd(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$f.forEach(t,(t=>$f.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$f.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Jf(e))throw e;Kd(b_,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function UE(e,t){const n=Zd(e);if(!n.currentUser.isEqual(t)){Kd(mE,"User change. New user:",t.toKey());const e=await k_(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new tf(ef.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await FE(n,e.Rs)}}function zE(e,t){const n=Zd(e),r=n.Ua.get(t);if(r&&r.Ba)return Ry().add(r.key);{let e=Ry();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}async function VE(e,t){const n=Zd(e),r=await x_(n.localStore,t.query,!0),i=t.view.Oa(r);return n.isPrimaryClient&&DE(n,t.targetId,i.Ma),i}async function jE(e,t){const n=Zd(e);return N_(n.localStore,t).then((e=>FE(n,e)))}async function BE(e,t,n,r){const i=Zd(e),s=await function(e,t){const n=Zd(e),r=Zd(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Ln(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):$f.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Ok(i.remoteStore):"acknowledged"===n||"rejected"===n?(RE(i,t,r||null),NE(i,t),function(e,t){Zd(Zd(e).mutationQueue).qn(t)}(i.localStore,t)):Jd(),await FE(i,s)):Kd(mE,"Cannot apply mutation batch with id: "+t)}async function qE(e,t,n){const r=Zd(e),i=[],s=[];for(const a of t){let e;const t=r.qa.get(a);if(t&&0!==t.length){e=await T_(r.localStore,uy(t[0]));for(const e of t){const t=r.ka.get(e),n=await VE(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await A_(r.localStore,a);e=await T_(r.localStore,t),await kE(r,$E(t),a,!1,e.resumeToken)}i.push(e)}return r.La.p_(s),i}function $E(e){return iy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function HE(e){return function(e){return Zd(Zd(e).persistence).zi()}(Zd(e).localStore)}async function WE(e,t,n,r){const i=Zd(e);if(i.ja)return void Kd(mE,"Ignoring unexpected query state notification.");const s=i.qa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await N_(i.localStore,yy(s[0])),r=Tv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Pm.EMPTY_BYTE_STRING);await FE(i,e,r);break}case"rejected":await C_(i.localStore,t,!0),PE(i,t,r);break;default:Jd()}}async function KE(e,t,n){const r=GE(e);if(r.ja){for(const e of t){if(r.qa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Kd(mE,"Adding an already active target "+e);continue}const t=await A_(r.localStore,e),n=await T_(r.localStore,t);await kE(r,$E(t),n.targetId,!1,n.resumeToken),bk(r.remoteStore,n)}for(const e of n)r.qa.has(e)&&await C_(r.localStore,e,!1).then((()=>{wk(r.remoteStore,e),PE(r,e)})).catch(qf)}}function GE(e){const t=Zd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CE.bind(null,t),t.La.p_=nE.bind(null,t.eventManager),t.La.Ja=rE.bind(null,t.eventManager),t}function QE(e){const t=Zd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AE.bind(null,t),t}class YE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ak(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return __(this.persistence,new v_,e.initialUser,this.serializer)}Xa(e){return new t_(r_.ri,this.serializer)}Za(e){return new W_}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}YE.provider={build:()=>new YE};class JE extends YE{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xd(this.persistence.referenceDelegate instanceof i_);const n=this.persistence.referenceDelegate.garbageCollector;return new Nw(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?fw.withCacheSize(this.cacheSizeBytes):fw.DEFAULT;return new t_((e=>i_.ri(e,t)),this.serializer)}}class XE extends YE{constructor(e,t,n){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await QE(this.ru.syncEngine),await Ok(this.ru.remoteStore),await this.persistence.Ci((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}eu(e){return __(this.persistence,new v_,e.initialUser,this.serializer)}tu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Nw(n,e.asyncQueue,t)}nu(e,t){const n=new ip(t,this.persistence);return new rp(e.asyncQueue,n)}Xa(e){const t=m_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fw.withCacheSize(this.cacheSizeBytes):fw.DEFAULT;return new d_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ik(),sk(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new W_}}class ZE extends XE{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof H_&&(this.sharedClientState.syncEngine={uo:BE.bind(null,t),co:WE.bind(null,t),lo:KE.bind(null,t),zi:HE.bind(null,t),ao:jE.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci((async e=>{await async function(e,t){const n=Zd(e);if(GE(n),QE(n),!0===t&&!0!==n.ja){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await qE(n,e.toArray());n.ja=!0,await qk(n.remoteStore,!0);for(const r of t)bk(n.remoteStore,r)}else if(!1===t&&!1!==n.ja){const e=[];let t=Promise.resolve();n.qa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(PE(n,i),C_(n.localStore,i,!0)))),wk(n.remoteStore,i)})),await t,await qE(n,e),function(e){const t=Zd(e);t.Ua.forEach(((e,n)=>{wk(t.remoteStore,n)})),t.Ka.Dr(),t.Ua=new Map,t.$a=new Sm(Nf.comparator)}(n),n.ja=!1,await qk(n.remoteStore,!1)}}(this.ru.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}Za(e){const t=ik();if(!H_.D(t))throw new tf(ef.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=m_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new H_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class eS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>TE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=UE.bind(null,this.syncEngine),await qk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Xk}createDatastore(e){const t=ak(e.databaseInfo.databaseId),n=function(e){return new rk(e)}(e.databaseInfo);return function(e,t,n,r){return new fk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new gk(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>TE(this.syncEngine,e,0)),Q_.D()?new Q_:new K_)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new vE(e,t,n,r,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Zd(e);Kd(mk,"RemoteStore shutting down."),t.W_.add(5),await vk(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function tS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}eS.provider={build:()=>new eS};class nS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Gd("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class rS{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new nf,this.buffer=new Uint8Array,this._u=new TextDecoder("utf-8"),this.au().then((e=>{e&&e.Ea()?this.metadata.resolve(e.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.Ia)}`))}),(e=>this.metadata.reject(e)))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(null===e)return null;const t=this._u.decode(e),n=Number(t);isNaN(n)&&this.cu(`length string (${t}) is not valid number`);const r=await this.lu(n);return new lE(JSON.parse(r),e.length+n)}hu(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async uu(){for(;this.hu()<0&&!await this.Pu(););if(0===this.buffer.length)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class iS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tf(ef.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Zd(e),r={documents:t.map((e=>Kv(n.serializer,e)))},i=await n.Co("BatchGetDocuments",n.serializer.databaseId,Cf.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Xd(!!t.found),t.found.name,t.found.updateTime;const n=Gv(e,t.found.name),r=qv(t.found.updateTime),i=t.found.createTime?qv(t.found.createTime):Sf.min(),s=new kg({mapValue:{fields:t.found.fields}});return Sg.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Xd(!!t.missing),Xd(!!t.readTime);const n=Gv(e,t.missing),r=qv(t.readTime);return Sg.newNoDocument(n,r)}(e,t):Jd()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Xd(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new cv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Nf.fromPath(t);this.mutations.push(new hv(n,this.precondition(n)))})),await async function(e,t){const n=Zd(e),r={writes:t.map((e=>tb(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Cf.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jd();t=Sf.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tf(ef.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Sf.min())?Jy.exists(!1):Jy.updateTime(t):Jy.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sf.min()))throw new tf(ef.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jy.updateTime(t)}return Jy.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sS{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Tu=n.maxAttempts,this.a_=new ok(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new iS(this.datastore),t=this.du(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Au(e)}))))})).catch((e=>{this.Au(e)}))}))}du(e){try{const t=this.updateFunction(e);return!op(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vv(t)}return!1}}const aS="FirestoreClient";class oS{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=qd.UNAUTHENTICATED,this.clientId=pf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Kd(aS,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Kd(aS,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(St){const n=Kk(St,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function lS(e,t){e.asyncQueue.verifyOperationInProgress(),Kd(aS,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await k_(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function uS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await cS(e);Kd(aS,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Bk(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Bk(t.remoteStore,n))),e._onlineComponents=t}async function cS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Kd(aS,"Using user provided OfflineComponentProvider");try{await lS(e,e._uninitializedComponentsProvider._offline)}catch(St){const n=St;if(!function(e){return"FirebaseError"===e.name?e.code===ef.FAILED_PRECONDITION||e.code===ef.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Qd("Error using user provided cache. Falling back to memory cache: "+n),await lS(e,new YE)}}else Kd(aS,"Using default OfflineComponentProvider"),await lS(e,new JE(void 0));return e._offlineComponents}async function hS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Kd(aS,"Using user provided OnlineComponentProvider"),await uS(e,e._uninitializedComponentsProvider._online)):(Kd(aS,"Using default OnlineComponentProvider"),await uS(e,new eS))),e._onlineComponents}function dS(e){return cS(e).then((e=>e.persistence))}function fS(e){return cS(e).then((e=>e.localStore))}function pS(e){return hS(e).then((e=>e.remoteStore))}function mS(e){return hS(e).then((e=>e.syncEngine))}function gS(e){return hS(e).then((e=>e.datastore))}async function yS(e){const t=await hS(e),n=t.eventManager;return n.onListen=bE.bind(null,t.syncEngine),n.onUnlisten=EE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=SE.bind(null,t.syncEngine),n}function vS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new nS({next:o=>{s.su(),t.enqueueAndForget((()=>tE(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new tf(ef.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new tf(ef.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new oE(sy(n.path),s,{includeMetadataChanges:!0,Ta:!0});return eE(e,a)}(await yS(e),e.asyncQueue,t,n,r))),r.promise}function bS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new nS({next:n=>{s.su(),t.enqueueAndForget((()=>tE(e,a))),n.fromCache&&"server"===r.source?i.reject(new tf(ef.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new oE(n,s,{includeMetadataChanges:!0,Ta:!0});return eE(e,a)}(await yS(e),e.asyncQueue,t,n,r))),r.promise}function wS(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?ff().encode(e):e,function(e,t){return new rS(e,t)}(function(e,t){if(e instanceof Uint8Array)return tS(e,t);if(e instanceof ArrayBuffer)return tS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,ak(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Zd(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Zd(e),r=qv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Yr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(hE(r));const i=new cE(r,e.localStore,t.serializer);let s=await t.Ya();for(;s;){const e=await i.Aa(s);e&&n._updateProgress(e),s=await t.Ya()}const a=await i.complete();return await FE(e,a.ma,void 0),await function(e,t){const n=Zd(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Yr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Va)}catch(e){return Qd(mE,`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await mS(e),i,r)}))}function _S(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const kS=new Map;function ES(e,t,n){if(!n)throw new tf(ef.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function SS(e,t,n,r){if(!0===t&&!0===r)throw new tf(ef.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function IS(e){if(!Nf.isDocumentKey(e))throw new tf(ef.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function TS(e){if(Nf.isDocumentKey(e))throw new tf(ef.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function CS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Jd()}function xS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tf(ef.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=CS(e);throw new tf(ef.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function AS(e,t){if(t<=0)throw new tf(ef.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const NS="firestore.googleapis.com",RS=!0;class PS{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new tf(ef.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=RS}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:RS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=dw;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Cw)throw new tf(ef.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_S(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new tf(ef.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new tf(ef.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new tf(ef.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class OS{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tf(ef.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tf(ef.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PS(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sf;switch(e.type){case"firstParty":return new uf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tf(ef.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kS.get(e);t&&(Kd("ComponentProvider","Removing Datastore"),kS.delete(e),t.terminate())}(this),Promise.resolve()}}function DS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=xS(e,OS))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==NS&&s.host!==o&&Qd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!hs(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=qd.MOCK_USER;else{t=Xi(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new tf(ef.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new qd(s)}e._authCredentials=new af(new rf(t,n))}}class LS{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new LS(this.firestore,e,this._query)}}class MS{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new FS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new MS(this.firestore,e,this._key)}}class FS extends LS{constructor(e,t,n){super(e,t,sy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new MS(this.firestore,null,new Nf(e))}withConverter(e){return new FS(this.firestore,e,this._path)}}function US(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bs(e),ES("collection","path",t),e instanceof OS){const n=Cf.fromString(t,...r);return TS(n),new FS(e,null,n)}{if(!(e instanceof MS||e instanceof FS))throw new tf(ef.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cf.fromString(t,...r));return TS(n),new FS(e.firestore,null,n)}}function zS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bs(e),1===arguments.length&&(t=pf.newId()),ES("doc","path",t),e instanceof OS){const n=Cf.fromString(t,...r);return IS(n),new MS(e,null,new Nf(n))}{if(!(e instanceof MS||e instanceof FS))throw new tf(ef.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cf.fromString(t,...r));return IS(n),new MS(e.firestore,e instanceof FS?e.converter:null,new Nf(n))}}function VS(e,t){return e=bs(e),t=bs(t),(e instanceof MS||e instanceof FS)&&(t instanceof MS||t instanceof FS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jS(e,t){return e=bs(e),t=bs(t),e instanceof LS&&t instanceof LS&&e.firestore===t.firestore&&fy(e._query,t._query)&&e.converter===t.converter}const BS="AsyncQueue";class qS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ok(this,"async_queue_retry"),this.Su=()=>{const e=sk();e&&Kd(BS,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=sk();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=sk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new nf;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(Zx){if(!Jf(Zx))throw Zx;Kd(BS,"Operation failed with retryable error: "+Zx)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Gd("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Wk.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Jd()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function $S(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class HS{constructor(){this._progressObserver={},this._taskCompletionResolver=new nf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class WS extends OS{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new qS,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qS(e),this._firestoreClient=void 0,await e}}}function KS(e){if(e._terminated)throw new tf(ef.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||GS(e),e._firestoreClient}function GS(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new $m(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_S(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new oS(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function QS(e,t,n){if((e=xS(e,WS))._firestoreClient||e._terminated)throw new tf(ef.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new tf(ef.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},GS(e)}function YS(e){return function(e){const t=new nf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Zd(e);Ik(n.remoteStore)||Kd(mE,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Zd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(e===ap)return void t.resolve();const r=n.Ga.get(e)||[];r.push(t),n.Ga.set(e,r)}catch(e){const n=Kk(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await mS(e),t))),t.promise}(KS(e=xS(e,WS)))}function JS(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await dS(e),n=await pS(e);return t.setNetworkEnabled(!0),function(e){const t=Zd(e);return t.W_.delete(0),yk(t)}(n)}))}(KS(e=xS(e,WS)))}function XS(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await dS(e),n=await pS(e);return t.setNetworkEnabled(!1),async function(e){const t=Zd(e);t.W_.add(0),await vk(t),t.j_.set("Offline")}(n)}))}(KS(e=xS(e,WS)))}function ZS(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Zd(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Yr.getNamedQuery(e,t)))}(await fS(e),t)))}(KS(e=xS(e,WS)),t).then((t=>t?new LS(e,null,t.query):null))}class eI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eI(Pm.fromBase64String(e))}catch(e){throw new tf(ef.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new eI(Pm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new tf(ef.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Af(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nI{constructor(e){this._methodName=e}}class rI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tf(ef.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tf(ef.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mf(this._lat,e._lat)||mf(this._long,e._long)}}class iI{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const sI=/^__.*__$/;class aI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new av(e,this.data,this.fieldMask,t,this.fieldTransforms):new sv(e,this.data,t,this.fieldTransforms)}}class oI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new av(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jd()}}class uI{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new uI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return AI(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(lI(this.Lu)&&sI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ak(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uI({Lu:e,methodName:t,zu:n,path:Af.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hI(e){const t=e._freezeSettings(),n=ak(e._databaseId);return new cI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dI(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(s.merge||s.mergeFields?2:0,t,n,i);II("Data must be an object, but it was:",a,r);const o=EI(r,a);let l,u;if(s.merge)l=new Nm(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=TI(t,r,n);if(!a.contains(i))throw new tf(ef.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);NI(e,i)||e.push(i)}l=new Nm(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new aI(new kg(o),l,u)}class fI extends nI{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fI}}function pI(e,t,n){return new uI({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class mI extends nI{_toFieldTransform(e){return new Qy(e.path,new jy)}isEqual(e){return e instanceof mI}}class gI extends nI{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=pI(this,e,!0),n=this.Hu.map((e=>kI(e,t))),r=new By(n);return new Qy(e.path,r)}isEqual(e){return e instanceof gI&&hs(this.Hu,e.Hu)}}class yI extends nI{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=pI(this,e,!0),n=this.Hu.map((e=>kI(e,t))),r=new $y(n);return new Qy(e.path,r)}isEqual(e){return e instanceof yI&&hs(this.Hu,e.Hu)}}class vI extends nI{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Wy(e.serializer,My(e.serializer,this.Ju));return new Qy(e.path,t)}isEqual(e){return e instanceof vI&&this.Ju===e.Ju}}function bI(e,t,n,r){const i=e.ju(1,t,n);II("Data must be an object, but it was:",i,r);const s=[],a=kg.empty();km(r,((e,r)=>{const o=xI(t,e,n);r=bs(r);const l=i.Uu(o);if(r instanceof fI)s.push(o);else{const e=kI(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Nm(s);return new oI(a,o,i.fieldTransforms)}function wI(e,t,n,r,i,s){const a=e.ju(1,t,n),o=[TI(t,r,n)],l=[i];if(s.length%2!=0)throw new tf(ef.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(TI(t,s[d])),l.push(s[d+1]);const u=[],c=kg.empty();for(let d=o.length-1;d>=0;--d)if(!NI(u,o[d])){const e=o[d];let t=l[d];t=bs(t);const n=a.Uu(e);if(t instanceof fI)u.push(e);else{const r=kI(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Nm(u);return new oI(c,h,a.fieldTransforms)}function _I(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kI(n,e.ju(r?4:3,t))}function kI(e,t){if(SI(e=bs(e)))return II("Unsupported field value:",t,e),EI(e,t);if(e instanceof nI)return function(e,t){if(!lI(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=kI(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=bs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return My(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ef.fromDate(e);return{timestampValue:Vv(t.serializer,n)}}if(e instanceof Ef){const n=new Ef(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vv(t.serializer,n)}}if(e instanceof rI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eI)return{bytesValue:jv(t.serializer,e._byteString)};if(e instanceof MS){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:$v(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof iI)return function(e,t){return{mapValue:{fields:{[Km]:{stringValue:Ym},[Jm]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Dy(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${CS(e)}`)}(e,t)}function EI(e,t){const n={};return Em(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):km(e,((e,r)=>{const i=kI(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function SI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ef||e instanceof rI||e instanceof eI||e instanceof MS||e instanceof nI||e instanceof iI)}function II(e,t,n){if(!SI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=CS(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function TI(e,t,n){if((t=bs(t))instanceof tI)return t._internalPath;if("string"==typeof t)return xI(e,t);throw AI("Field path arguments must be of type string or ",e,!1,void 0,n)}const CI=new RegExp("[~\\*/\\[\\]]");function xI(e,t,n){if(t.search(CI)>=0)throw AI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tI(...t.split("."))._internalPath}catch(r){throw AI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function AI(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new tf(ef.INVALID_ARGUMENT,o+e+l)}function NI(e,t){return e.some((e=>e.isEqual(t)))}class RI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new MS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PI extends RI{data(){return super.data()}}function OI(e,t){return"string"==typeof t?xI(e,t):t instanceof tI?t._internalPath:t._delegate._internalPath}function DI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new tf(ef.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LI{}class MI extends LI{}function FI(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof LI&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof zI)).length,n=e.filter((e=>e instanceof UI)).length;if(t>1||t>0&&n>0)throw new tf(ef.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class UI extends MI{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new UI(e,t,n)}_apply(e){const t=this._parse(e);return KI(e._query,t),new LS(e.firestore,e.converter,hy(e._query,t))}_parse(e){const t=hI(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new tf(ef.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){WI(a,s);const t=[];for(const n of a)t.push(HI(r,e,n));o={arrayValue:{values:t}}}else o=HI(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||WI(a,s),o=_I(n,t,a,"in"===s||"not-in"===s);return Rg.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class zI extends LI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zI(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Pg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)KI(n,i),n=hy(n,i)}(e._query,t),new LS(e.firestore,e.converter,hy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VI extends MI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new tf(ef.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tf(ef.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xg(t,n)}(e._query,this._field,this._direction);return new LS(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ry(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class jI extends MI{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new jI(e,t,n)}_apply(e){return new LS(e.firestore,e.converter,dy(e._query,this._limit,this._limitType))}}class BI extends MI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new BI(e,t,n)}_apply(e){const t=$I(e,this.type,this._docOrFields,this._inclusive);return new LS(e.firestore,e.converter,function(e,t){return new ry(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class qI extends MI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new qI(e,t,n)}_apply(e){const t=$I(e,this.type,this._docOrFields,this._inclusive);return new LS(e.firestore,e.converter,function(e,t){return new ry(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function $I(e,t,n,r){if(n[0]=bs(n[0]),n[0]instanceof RI)return function(e,t,n,r,i){if(!r)throw new tf(ef.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const a of ly(e))if(a.field.isKeyField())s.push(lg(t,r.key));else{const e=r.data.field(a.field);if(jm(e))throw new tf(ef.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new tf(ef.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Ig(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=hI(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new tf(ef.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const o=[];for(let l=0;l<i.length;l++){const s=i[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new tf(ef.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!oy(e)&&-1!==s.indexOf("/"))throw new tf(ef.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Cf.fromString(s));if(!Nf.isDocumentKey(n))throw new tf(ef.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Nf(n);o.push(lg(t,i))}else{const e=_I(n,r,s);o.push(e)}}return new Ig(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function HI(e,t,n){if("string"==typeof(n=bs(n))){if(""===n)throw new tf(ef.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oy(t)&&-1!==n.indexOf("/"))throw new tf(ef.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Cf.fromString(n));if(!Nf.isDocumentKey(r))throw new tf(ef.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lg(e,new Nf(r))}if(n instanceof MS)return lg(e,n._key);throw new tf(ef.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CS(n)}.`)}function WI(e,t){if(!Array.isArray(e)||0===e.length)throw new tf(ef.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function KI(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new tf(ef.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new tf(ef.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class GI{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Jd()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return km(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Jm].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Lm(e.doubleValue)));return new iI(i)}convertGeoPoint(e){return new rI(Lm(e.latitude),Lm(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qm(e));default:return null}}convertTimestamp(e){const t=Dm(e);return new Ef(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Cf.fromString(e);Xd(pb(n));const r=new Wm(n.get(1),n.get(3)),i=new Nf(n.popFirst(5));return r.isEqual(t)||Gd(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function QI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class YI extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new eI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new MS(this.firestore,null,t)}}class JI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XI extends RI{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ZI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(OI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ZI extends XI{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class eT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new JI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ZI(this._firestore,this._userDataWriter,n.key,n,new JI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tf(ef.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ZI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new JI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ZI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new JI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:tT(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function tT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jd()}}function nT(e,t){return e instanceof XI&&t instanceof XI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof eT&&t instanceof eT&&e._firestore===t._firestore&&jS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class rT extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new eI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new MS(this.firestore,null,t)}}function iT(e){e=xS(e,MS);const t=xS(e.firestore,WS),n=KS(t),r=new rT(t);return function(e,t){const n=new nf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Zd(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new tf(ef.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Kk(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await fS(e),t,n))),n.promise}(n,e._key).then((n=>new XI(t,r,e._key,n,new JI(null!==n&&n.hasLocalMutations,!0),e.converter)))}function sT(e){e=xS(e,LS);const t=xS(e.firestore,WS),n=KS(t),r=new rT(t);return function(e,t){const n=new nf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await x_(e,t,!0),i=new pE(t,r.gs),s=i.ba(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=Kk(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await fS(e),t,n))),n.promise}(n,e._query).then((n=>new eT(t,r,e,n)))}function aT(e,t,n){e=xS(e,MS);const r=xS(e.firestore,WS),i=QI(e.converter,t,n);return cT(r,[dI(hI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Jy.none())])}function oT(e,t,n){e=xS(e,MS);const r=xS(e.firestore,WS),i=hI(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=bs(t))||t instanceof tI?wI(i,"updateDoc",e._key,t,n,o):bI(i,"updateDoc",e._key,t),cT(r,[s.toMutation(e._key,Jy.exists(!0))])}function lT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=bs(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||$S(n[l])||(o=n[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if($S(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let c,h,d;if(e instanceof MS)h=xS(e.firestore,WS),d=sy(e._key.path),c={next:t=>{n[l]&&n[l](hT(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=xS(e,LS);h=xS(t.firestore,WS),d=t._query;const r=new rT(h);c={next:e=>{n[l]&&n[l](new eT(h,r,t,e))},error:n[l+1],complete:n[l+2]},DI(e._query)}return function(e,t,n,r){const i=new nS(r),s=new oE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>eE(await yS(e),s))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>tE(await yS(e),s)))}}(KS(h),d,u,c)}function uT(e,t){return function(e,t){const n=new nS(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Zd(e).ia.add(t),t.next()}(await yS(e),n))),()=>{n.su(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Zd(e).ia.delete(t)}(await yS(e),n)))}}(KS(e=xS(e,WS)),$S(t)?t:{next:t})}function cT(e,t){return function(e,t){const n=new nf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=QE(e);try{const e=await function(e,t){const n=Zd(e),r=Ef.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ry());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=ky(),l=Ry();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=rv(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new av(e.key,t,Eg(t.value.mapValue),Jy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Iy(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Sm(mf)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await FE(r,e.changes),await Ok(r.remoteStore)}catch(e){const t=Kk(e,"Failed to persist write");n.reject(t)}}(await mS(e),t,n))),n.promise}(KS(e),t)}function hT(e,t,n){const r=n.docs.get(t._key),i=new rT(e);return new XI(e,i,t._key,r,new JI(n.hasPendingWrites,n.fromCache),t.converter)}const dT={maxAttempts:5};class fT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hI(e)}set(e,t,n){this._verifyNotCommitted();const r=pT(e,this._firestore),i=QI(r.converter,t,n),s=dI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Jy.none())),this}update(e,t,n){this._verifyNotCommitted();const r=pT(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=bs(t))||t instanceof tI?wI(this._dataReader,"WriteBatch.update",r._key,t,n,a):bI(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Jy.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pT(e,this._firestore);return this._mutations=this._mutations.concat(new cv(t._key,Jy.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tf(ef.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pT(e,t){if((e=bs(e)).firestore!==t)throw new tf(ef.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class mT{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hI(e)}get(e){const t=pT(e,this._firestore),n=new YI(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Jd();const r=e[0];if(r.isFoundDocument())return new RI(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new RI(this._firestore,n,t._key,null,t.converter);throw Jd()}))}set(e,t,n){const r=pT(e,this._firestore),i=QI(r.converter,t,n),s=dI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=pT(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=bs(t))||t instanceof tI?wI(this._dataReader,"Transaction.update",r._key,t,n,a):bI(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=pT(e,this._firestore);return this._transaction.delete(t._key),this}}class gT extends mT{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pT(e,this._firestore),n=new rT(this._firestore);return super.get(e).then((e=>new XI(this._firestore,n,t._key,e._document,new JI(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$d=e}(Va),Na(new ws("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new WS(new of(e.getProvider("auth-internal")),new hf(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tf(ef.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wm(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Wa(jd,Bd,e),Wa(jd,Bd,"esm2017")}();function yT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tf("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function vT(){if("undefined"===typeof Uint8Array)throw new tf("unimplemented","Uint8Arrays are not available in this environment.")}function bT(){if("undefined"==typeof atob)throw new tf("unimplemented","Blobs are unavailable in Firestore in this environment.")}class wT{constructor(e){this._delegate=e}static fromBase64String(e){return bT(),new wT(eI.fromBase64String(e))}static fromUint8Array(e){return vT(),new wT(eI.fromUint8Array(e))}toBase64(){return bT(),this._delegate.toBase64()}toUint8Array(){return vT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _T(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class kT{enableIndexedDbPersistence(e,t){return function(e,t){Qd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return QS(e,eS.provider,{build:e=>new XE(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){Qd("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();QS(e,eS.provider,{build:e=>new ZE(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new tf(ef.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new nf;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Kf.D())return Promise.resolve();const t=e+h_;await Kf.delete(t)}(m_(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class ET{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Qd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DS(this._delegate,e,t,n)}enableNetwork(){return JS(this._delegate)}disableNetwork(){return XS(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,SS("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return YS(this._delegate)}onSnapshotsInSync(e){return uT(this._delegate,e)}get app(){if(!this._appCompat)throw new tf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new FT(this,US(this._delegate,e))}catch(Zx){throw AT(Zx,"collection()","Firestore.collection()")}}doc(e){try{return new xT(this,zS(this._delegate,e))}catch(Zx){throw AT(Zx,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new DT(this,function(e,t){if(e=xS(e,OS),ES("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tf(ef.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new LS(e,null,function(e){return new ry(Cf.emptyPath(),e)}(t))}(this._delegate,e))}catch(Zx){throw AT(Zx,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=xS(e,WS);const r=Object.assign(Object.assign({},dT),n);return function(e){if(e.maxAttempts<1)throw new tf(ef.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new nf;return e.asyncQueue.enqueueAndForget((async()=>{const i=await gS(e);new sS(e.asyncQueue,i,n,t,r).Iu()})),r.promise}(KS(e),(n=>t(new gT(e,n))),r)}(this._delegate,(t=>e(new IT(this,t))))}batch(){return KS(this._delegate),new TT(new fT(this._delegate,(e=>cT(this._delegate,e))))}loadBundle(e){return function(e,t){const n=KS(e=xS(e,WS)),r=new HS;return wS(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return ZS(this._delegate,e).then((e=>e?new DT(this,e):null))}}class ST extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new wT(new eI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xT.forKey(t,this.firestore,null)}}class IT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ST(e)}get(e){const t=UT(e);return this._delegate.get(t).then((e=>new PT(this._firestore,new XI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=UT(e);return n?(yT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=UT(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=UT(e);return this._delegate.delete(t),this}}class TT{constructor(e){this._delegate=e}set(e,t,n){const r=UT(e);return n?(yT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=UT(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=UT(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class CT{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new ZI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new OT(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=CT.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new CT(e,new ST(e),t),r.set(t,i)),i}}CT.INSTANCES=new WeakMap;class xT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ST(e)}static forPath(e,t,n){if(e.length%2!==0)throw new tf("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xT(t,new MS(t._delegate,n,new Nf(e)))}static forKey(e,t,n){return new xT(t,new MS(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new FT(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new FT(this.firestore,US(this._delegate,e))}catch(Zx){throw AT(Zx,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=bs(e))instanceof MS&&VS(this._delegate,e)}set(e,t){t=yT("DocumentReference.set",t);try{return t?aT(this._delegate,e,t):aT(this._delegate,e)}catch(Zx){throw AT(Zx,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?oT(this._delegate,e):oT(this._delegate,e,t,...r)}catch(Zx){throw AT(Zx,"updateDoc()","DocumentReference.update()")}}delete(){return cT(xS((e=this._delegate).firestore,WS),[new cv(e._key,Jy.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=NT(t),i=RT(t,(e=>new PT(this.firestore,new XI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return lT(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?iT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xS(e,MS);const t=xS(e.firestore,WS);return vS(KS(t),e._key,{source:"server"}).then((n=>hT(t,e,n)))}(this._delegate):function(e){e=xS(e,MS);const t=xS(e.firestore,WS);return vS(KS(t),e._key).then((n=>hT(t,e,n)))}(this._delegate),t.then((e=>new PT(this.firestore,new XI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new xT(this.firestore,e?this._delegate.withConverter(CT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function AT(e,t,n){return e.message=e.message.replace(t,n),e}function NT(e){for(const t of e)if("object"===typeof t&&!_T(t))return t;return{}}function RT(e,t){var n,r;let i;return i=_T(e[0])?e[0]:_T(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class PT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xT(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nT(this._delegate,e._delegate)}}class OT extends PT{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Jd(),t}}class DT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ST(e)}where(e,t,n){try{return new DT(this.firestore,FI(this._delegate,function(e,t,n){const r=t,i=OI("where",e);return UI._create(i,r,n)}(e,t,n)))}catch(Zx){throw AT(Zx,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new DT(this.firestore,FI(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=OI("orderBy",e);return VI._create(n,t)}(e,t)))}catch(Zx){throw AT(Zx,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new DT(this.firestore,FI(this._delegate,(AS("limit",t=e),jI._create("limit",t,"F"))))}catch(t){throw AT(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new DT(this.firestore,FI(this._delegate,(AS("limitToLast",t=e),jI._create("limitToLast",t,"L"))))}catch(t){throw AT(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new DT(this.firestore,FI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return BI._create("startAt",t,!0)}(...arguments)))}catch(Zx){throw AT(Zx,"startAt()","Query.startAt()")}}startAfter(){try{return new DT(this.firestore,FI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return BI._create("startAfter",t,!1)}(...arguments)))}catch(Zx){throw AT(Zx,"startAfter()","Query.startAfter()")}}endBefore(){try{return new DT(this.firestore,FI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qI._create("endBefore",t,!1)}(...arguments)))}catch(Zx){throw AT(Zx,"endBefore()","Query.endBefore()")}}endAt(){try{return new DT(this.firestore,FI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qI._create("endAt",t,!0)}(...arguments)))}catch(Zx){throw AT(Zx,"endAt()","Query.endAt()")}}isEqual(e){return jS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?sT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xS(e,LS);const t=xS(e.firestore,WS),n=KS(t),r=new rT(t);return bS(n,e._query,{source:"server"}).then((n=>new eT(t,r,e,n)))}(this._delegate):function(e){e=xS(e,LS);const t=xS(e.firestore,WS),n=KS(t),r=new rT(t);return DI(e._query),bS(n,e._query).then((n=>new eT(t,r,e,n)))}(this._delegate),t.then((e=>new MT(this.firestore,new eT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=NT(t),i=RT(t,(e=>new MT(this.firestore,new eT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return lT(this._delegate,r,i)}withConverter(e){return new DT(this.firestore,e?this._delegate.withConverter(CT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class LT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new OT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new DT(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new OT(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new LT(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new OT(this._firestore,n))}))}isEqual(e){return nT(this._delegate,e._delegate)}}class FT extends DT{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xT(this.firestore,e):null}doc(e){try{return new xT(this.firestore,void 0===e?zS(this._delegate):zS(this._delegate,e))}catch(Zx){throw AT(Zx,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=xS(e.firestore,WS),r=zS(e),i=QI(e.converter,t);return cT(n,[dI(hI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Jy.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new xT(this.firestore,e)))}isEqual(e){return VS(this._delegate,e._delegate)}withConverter(e){return new FT(this.firestore,e?this._delegate.withConverter(CT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function UT(e){return xS(e,MS)}class zT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new tI(...t)}static documentId(){return new zT(Af.keyField().canonicalString())}isEqual(e){return(e=bs(e))instanceof tI&&this._delegate._internalPath.isEqual(e._internalPath)}}class VT{static serverTimestamp(){const e=new mI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new VT(e)}static delete(){const e=new fI("deleteField");return e._methodName="FieldValue.delete",new VT(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gI("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new VT(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yI("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new VT(e)}static increment(e){const t=new vI("increment",e);return t._methodName="FieldValue.increment",new VT(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jT={Firestore:ET,GeoPoint:rI,Timestamp:Ef,Blob:wT,Transaction:IT,WriteBatch:TT,DocumentReference:xT,DocumentSnapshot:PT,Query:DT,QueryDocumentSnapshot:OT,QuerySnapshot:MT,CollectionReference:FT,FieldPath:zT,FieldValue:VT,setLogLevel:function(e){var t;t=e,Hd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ws("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},jT)))}(e,((e,t)=>new ET(e,t,new kT))),e.registerVersion("@firebase/firestore-compat","0.3.45")}(uo);const BT="firebasestorage.googleapis.com",qT="storageBucket";class $T extends os{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(KT(e),`Firebase Storage: ${t} (${KT(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$T.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return KT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var HT,WT;function KT(e){return"storage/"+e}function GT(){return new $T(HT.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function QT(){return new $T(HT.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YT(){return new $T(HT.CANCELED,"User canceled the upload/download.")}function JT(){return new $T(HT.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XT(e){return new $T(HT.INVALID_ARGUMENT,e)}function ZT(){return new $T(HT.APP_DELETED,"The Firebase app was deleted.")}function eC(e){return new $T(HT.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tC(e,t){return new $T(HT.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function nC(e){throw new $T(HT.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(HT||(HT={}));class rC{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=rC.makeFromUrl(e,t)}catch(Zx){return new rC(e,"")}if(""===n.path)return n;throw r=e,new $T(HT.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===BT?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new rC(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new $T(HT.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class iC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function sC(e){return"string"===typeof e||e instanceof String}function aC(e){return oC()&&e instanceof Blob}function oC(){return"undefined"!==typeof Blob}function lC(e,t,n,r){if(r<t)throw XT(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw XT(`Invalid value for '${e}'. Expected ${n} or less.`)}function uC(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function cC(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function hC(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(WT||(WT={}));class dC{constructor(e,t,n,r,i,s,a,o,l,u,c){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new fC(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===WT.NO_ERROR,i=n.getStatus();if(!t||hC(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===WT.ABORT;return void e(!1,new fC(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new fC(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Zx){r(Zx)}else if(null!==i){const e=GT();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?ZT():YT())}else{r(QT())}};this.canceled_?t(0,new fC(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(u)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call(null,e,...n);if(l()||a)return d(),void c.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fC{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function pC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mC(){const e=pC();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(oC())return new Blob(n);throw new $T(HT.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function gC(e){if("undefined"===typeof atob)throw t="base-64",new $T(HT.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const yC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vC{constructor(e,t){this.data=e,this.contentType=t||null}}function bC(e,t){switch(e){case yC.RAW:return new vC(wC(t));case yC.BASE64:case yC.BASE64URL:return new vC(_C(e,t));case yC.DATA_URL:return new vC(function(e){const t=new kC(e);return t.base64?_C(yC.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Zx){throw tC(yC.DATA_URL,"Malformed data URL.")}return wC(t)}(t.rest)}(t),new kC(t).contentType)}throw GT()}function wC(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function _C(e,t){switch(e){case yC.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw tC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case yC.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw tC(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gC(t)}catch(Zx){if(Zx.message.includes("polyfill"))throw Zx;throw tC(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class kC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw tC(yC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class EC{constructor(e,t){let n=0,r="";aC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(aC(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new EC(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new EC(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(oC()){const e=t.map((e=>e instanceof EC?e.data_:e));return new EC(mC.apply(null,e))}{const e=t.map((e=>sC(e)?bC(yC.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new EC(r,!0)}}uploadData(){return this.data_}}function SC(e){let t;try{t=JSON.parse(e)}catch(Zx){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function IC(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function TC(e,t){return t}class CC{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||TC}}let xC=null;function AC(){if(xC)return xC;const e=[];e.push(new CC("bucket")),e.push(new CC("generation")),e.push(new CC("metageneration")),e.push(new CC("name","fullPath",!0));const t=new CC("name");t.xform=function(e,t){return function(e){return!sC(e)||e.length<2?e:IC(e)}(t)},e.push(t);const n=new CC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new CC("timeCreated")),e.push(new CC("updated")),e.push(new CC("md5Hash",null,!0)),e.push(new CC("cacheControl",null,!0)),e.push(new CC("contentDisposition",null,!0)),e.push(new CC("contentEncoding",null,!0)),e.push(new CC("contentLanguage",null,!0)),e.push(new CC("contentType",null,!0)),e.push(new CC("metadata","customMetadata",!0)),xC=e,xC}function NC(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new rC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function RC(e,t,n){const r=SC(t);if(null===r)return null;return NC(e,r,n)}function PC(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const OC="prefixes",DC="items";function LC(e,t,n){const r=SC(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[OC])for(const i of n[OC]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new rC(t,n));r.prefixes.push(s)}if(n[DC])for(const i of n[DC]){const n=e._makeStorageReference(new rC(t,i.name));r.items.push(n)}return r}(e,t,r)}class MC{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function FC(e){if(!e)throw GT()}function UC(e,t){return function(n,r){const i=RC(e,r,t);return FC(null!==i),i}}function zC(e,t){return function(n,r){const i=RC(e,r,t);return FC(null!==i),function(e,t,n,r){const i=SC(t);if(null===i)return null;if(!sC(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return uC("/b/"+a(i)+"/o/"+a(s),n,r)+cC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function VC(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new $T(HT.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new $T(HT.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new $T(HT.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new $T(HT.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function jC(e){const t=VC(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new $T(HT.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function BC(e,t,n){const r=uC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new MC(r,"GET",UC(e,n),i);return s.errorHandler=jC(t),s}function qC(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=uC(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,l=new MC(a,"GET",function(e,t){return function(n,r){const i=LC(e,t,r);return FC(null!==i),i}}(e,t.bucket),o);return l.urlParams=s,l.errorHandler=VC(t),l}function $C(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function HC(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=$C(t,r,i),u="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+PC(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+o+"--",h=EC.getBlob(u,r,c);if(null===h)throw JT();const d={name:l.fullPath},f=uC(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new MC(f,"POST",UC(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=VC(t),m}class WC{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function KC(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Zx){FC(!1)}return FC(!!n&&-1!==(t||["active"]).indexOf(n)),n}const GC=262144;function QC(e,t,n,r,i,s,a,o){const l=new WC(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new $T(HT.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,d=h+c;let f="";f=0===c?"finalize":u===c?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(h,d);if(null===m)throw JT();const g=t.maxUploadRetryTime,y=new MC(n,"POST",(function(e,n){const i=KC(e,["active","final"]),a=l.current+c,o=r.size();let u;return u="final"===i?UC(t,s)(e,n):null,new WC(a,o,"final"===i,u)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=o||null,y.errorHandler=VC(e),y}const YC={STATE_CHANGED:"state_changed"},JC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function XC(e){switch(e){case"running":case"pausing":case"canceling":return JC.RUNNING;case"paused":return JC.PAUSED;case"success":return JC.SUCCESS;case"canceled":return JC.CANCELED;default:return JC.ERROR}}class ZC{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function ex(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class tx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=WT.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=WT.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=WT.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw nC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Zx){return-1}}getResponse(){if(!this.sent_)throw nC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class nx extends tx{initXhr(){this.xhr_.responseType="text"}}function rx(){return new nx}class ix{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=AC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(HT.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(hC(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=QT()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(HT.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a=$C(t,r,i),o={name:a.fullPath},l=uC(s,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=PC(a,n),h=e.maxUploadRetryTime,d=new MC(l,"POST",(function(e){let t;KC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Zx){FC(!1)}return FC(sC(t)),t}),h);return d.urlParams=o,d.headers=u,d.body=c,d.errorHandler=VC(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,rx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new MC(n,"POST",(function(e){const t=KC(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Zx){FC(!1)}n||FC(!1);const i=Number(n);return FC(!isNaN(i)),new WC(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=VC(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,rx,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=GC*this._chunkMultiplier,t=new WC(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=QC(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(Zx){return this._error=Zx,void this._transition("error")}const a=this._ref.storage._makeRequest(s,rx,r,i,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(GC*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=BC(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,rx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=HC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,rx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=YT(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=XC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new ZC(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(XC(this._state)){case JC.SUCCESS:ex(this._resolve.bind(null,this.snapshot))();break;case JC.CANCELED:case JC.ERROR:ex(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(XC(this._state)){case JC.RUNNING:case JC.PAUSED:e.next&&ex(e.next.bind(e,this.snapshot))();break;case JC.SUCCESS:e.complete&&ex(e.complete.bind(e))();break;default:e.error&&ex(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class sx{constructor(e,t){this._service=e,this._location=t instanceof rC?t:rC.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sx(e,t)}get root(){const e=new rC(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IC(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new rC(this._location.bucket,e);return new sx(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw eC(e)}}function ax(e){const t={prefixes:[],items:[]};return ox(e,t).then((()=>t))}async function ox(e,t,n){const r={pageToken:n},i=await lx(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await ox(e,t,i.nextPageToken)}function lx(e,t){null!=t&&"number"===typeof t.maxResults&&lC("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=qC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,rx)}function ux(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=uC(t.fullServerUrl(),e.host,e._protocol),s=PC(n,r),a=e.maxOperationRetryTime,o=new MC(i,"PATCH",UC(e,r),a);return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=s,o.errorHandler=jC(t),o}(e.storage,e._location,t,AC());return e.storage.makeRequestWithTokens(n,rx)}function cx(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=uC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new MC(r,"GET",zC(e,n),i);return s.errorHandler=jC(t),s}(e.storage,e._location,AC());return e.storage.makeRequestWithTokens(t,rx).then((e=>{if(null===e)throw new $T(HT.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function hx(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=uC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new MC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=jC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,rx)}function dx(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rC(e._location.bucket,n);return new sx(e.storage,r)}function fx(e,t){if(e instanceof gx){const n=e;if(null==n._bucket)throw new $T(HT.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qT+"' property when initializing the app?");const r=new sx(n,n._bucket);return null!=t?fx(r,t):r}return void 0!==t?dx(e,t):e}function px(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof gx)return new sx(e,t);throw XT("To use ref(service, url), the first argument must be a Storage instance.")}return fx(e,t)}function mx(e,t){const n=null===t||void 0===t?void 0:t[qT];return null==n?null:rC.makeFromBucketSpec(n,e)}class gx{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=BT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?rC.makeFromBucketSpec(r,this._host):mx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=rC.makeFromBucketSpec(this._url,e):this._bucket=mx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sx(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new iC(ZT());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=cC(e.urlParams),l=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new dC(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const yx="@firebase/storage",vx="0.13.7",bx="storage";function wx(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ix(e,new EC(t),n)}(e=bs(e),t,n)}function _x(e){return function(e){e._throwIfRoot("getMetadata");const t=BC(e.storage,e._location,AC());return e.storage.makeRequestWithTokens(t,rx)}(e=bs(e))}function kx(e,t){return px(e=bs(e),t)}function Ex(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Xi(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Sx(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new gx(r,i,s,n,Va)}Na(new ws(bx,Sx,"PUBLIC").setMultipleInstances(!0)),Wa(yx,vx,""),Wa(yx,vx,"esm2017");class Ix{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Tx{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ix(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Ix(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Ix(e,this,this._ref)):{next:t.next?e=>t.next(new Ix(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Cx{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new xx(e,this._service)))}get items(){return this._delegate.items.map((e=>new xx(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xx{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return dx(e,t)}(this._delegate,e);return new xx(t,this.storage)}get root(){return new xx(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new xx(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Tx(wx(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yC.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=bC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Tx(new ix(this._delegate,new EC(r.data,!0),i),this)}listAll(){return function(e){return ax(e=bs(e))}(this._delegate).then((e=>new Cx(e,this.storage)))}list(e){return function(e,t){return lx(e=bs(e),t)}(this._delegate,e||void 0).then((e=>new Cx(e,this.storage)))}getMetadata(){return _x(this._delegate)}updateMetadata(e){return function(e,t){return ux(e=bs(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return cx(e=bs(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return hx(e=bs(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw eC(e)}}class Ax{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Nx(e))throw XT("ref() expected a child path but got a URL, use refFromURL instead.");return new xx(kx(this._delegate,e),this)}refFromURL(e){if(!Nx(e))throw XT("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rC.makeFromUrl(e,this._delegate.host)}catch(Zx){throw XT("refFromUrl() expected a valid full URL but got an invalid one.")}return new xx(kx(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ex(this._delegate,e,t,n)}}function Nx(e){return/^[A-Za-z]+:\/\//.test(e)}function Rx(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Ax(r,i)}!function(e){const t={TaskState:JC,TaskEvent:YC,StringFormat:yC,Storage:Ax,Reference:xx};e.INTERNAL.registerComponent(new ws("storage-compat",Rx,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.17")}(uo);uo.initializeApp({apiKey:"AIzaSyA6UJGNu8DQYYWLIWXAkoL53uTdr8cMsgY",authDomain:"nwitter-eecee.firebaseapp.com",projectId:"nwitter-eecee",storageBucket:"nwitter-eecee.firebasestorage.app",messagingSenderId:"657152044135",appId:"1:657152044135:web:915c7f8f1f17a93dd9f8c2"});const Px=uo,Ox=uo.auth(),Dx=uo.firestore(),Lx=uo.storage();var Mx=n(579);const Fx=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(""),u=e=>{const{target:{name:n,value:r}}=e;"email"===n?t(r):"password"===n&&i(r)};return(0,Mx.jsxs)(Mx.Fragment,{children:[(0,Mx.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{let t;t=s?await Ox.createUserWithEmailAndPassword(e,n):await Ox.signInWithEmailAndPassword(e,n)}catch(o){l(o.message)}},className:"container",children:[(0,Mx.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:e,onChange:u,className:"authInput"}),(0,Mx.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:n,onChange:u,className:"authInput"}),(0,Mx.jsx)("input",{type:"submit",value:s?"Create Account":"Log In",className:"authInput authSubmit"}),o&&(0,Mx.jsx)("span",{className:"authError",children:o})]}),(0,Mx.jsx)("span",{onClick:()=>a((e=>!e)),className:"authSwitch",children:s?"Sign In":"Create Account"})]})},Ux=()=>{const e=async e=>{const{target:{name:t}}=e;let n;"google"===t?n=new Px.auth.GoogleAuthProvider:"github"===t&&(n=new Px.auth.GithubAuthProvider);await Ox.signInWithPopup(n)};return(0,Mx.jsxs)("div",{className:"authContainer",children:[(0,Mx.jsx)(Fi,{icon:ji,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),(0,Mx.jsx)(Fx,{}),(0,Mx.jsxs)("div",{className:"authBtns",children:[(0,Mx.jsxs)("button",{onClick:e,name:"google",className:"authBtn",children:["Continue with Google ",(0,Mx.jsx)(Fi,{icon:zi})]}),(0,Mx.jsxs)("button",{onClick:e,name:"github",className:"authBtn",children:["Continue with Github ",(0,Mx.jsx)(Fi,{icon:Vi})]})]})]})},zx={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},Vx=zx,jx={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},Bx={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},qx={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},$x={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Hx=$x;const Wx=e=>{let{nweetObj:t,isOwner:n}=e;const[i,s]=(0,r.useState)(!1),[a,o]=(0,r.useState)(t.text),l=()=>s((e=>!e));return(0,Mx.jsx)("div",{className:"nweet",children:i?(0,Mx.jsxs)(Mx.Fragment,{children:[(0,Mx.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await Dx.doc(`nweets/${t.id}`).update({text:a}),s(!1)},className:"container nweetEdit",children:[(0,Mx.jsx)("input",{onChange:e=>{const{target:{value:t}}=e;o(t)},value:a,required:!0,placeholder:"Edit your nweet",autoFocus:!0,className:"formInput"}),(0,Mx.jsx)("input",{type:"submit",value:"Update Nweet",className:"formBtn"})]}),(0,Mx.jsx)("button",{onClick:l,className:"formBtn cancelBtn",children:"Cancel"})]}):(0,Mx.jsxs)(Mx.Fragment,{children:[(0,Mx.jsx)("h4",{children:t.text}),t.attachmentUrl&&(0,Mx.jsx)("img",{src:t.attachmentUrl,width:"50px",height:"50px"}),n&&(0,Mx.jsxs)("div",{className:"nweet__actions",children:[(0,Mx.jsx)("span",{onClick:async()=>{window.confirm("Delete Nweet Message?")&&(await Dx.doc(`nweets/${t.id}`).delete(),""!==t.attachmentUrl&&await Lx.refFromURL(t.attachmentUrl).delete())},children:(0,Mx.jsx)(Fi,{icon:Bx})}),(0,Mx.jsx)("span",{onClick:l,children:(0,Mx.jsx)(Fi,{icon:Vx})})]})]})})},Kx=e=>{let{userObj:t}=e;const[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)("");return(0,Mx.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),""!==n&&(await Dx.collection("nweets").add({text:n,createdAt:Date.now(),creatorId:t.uid}),i(""))},className:"factoryForm",children:[(0,Mx.jsxs)("div",{className:"factoryInput__container",children:[(0,Mx.jsx)("input",{className:"factoryInput__input",value:n,onChange:e=>{e.preventDefault();const{target:{value:t}}=e;i(t)},type:"text",placeholder:"What's on your mind?",maxLength:120}),(0,Mx.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})]}),(0,Mx.jsxs)("label",{htmlFor:"attach-file",className:"factoryInput__label",children:[(0,Mx.jsx)("span",{children:"Add photos"}),(0,Mx.jsx)(Fi,{icon:qx})]}),(0,Mx.jsx)("input",{id:"atttach-file",type:"file",accept:"image/*",onChange:e=>{const{target:{files:t}}=e,n=t[0],r=new FileReader;r.onloadend=e=>{const{target:{result:t}}=e},Boolean(n)&&r.readAsDataURL(n)},style:{opacity:0}}),s&&(0,Mx.jsxs)("div",{className:"factoryForm__attachment",children:[(0,Mx.jsx)("img",{src:s,style:{backgroundImage:s}}),(0,Mx.jsxs)("div",{className:"factoryForm__clear",onClick:()=>a(""),children:[(0,Mx.jsx)("span",{children:"Remove"}),(0,Mx.jsx)(Fi,{icon:Hx})]})]})]})},Gx=e=>{let{userObj:t}=e;const[n,i]=(0,r.useState)([]);return(0,r.useEffect)((()=>{Dx.collection("nweets").orderBy("createdAt","desc").onSnapshot((e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));i(t)}))}),[]),(0,Mx.jsxs)("div",{className:"container",children:[(0,Mx.jsx)(Kx,{userObj:t}),(0,Mx.jsx)("div",{style:{marginTop:30},children:n.map((e=>(0,Mx.jsx)(Wx,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)))})]})},Qx=e=>{let{userObj:t,refreshUser:n}=e;const[i,s]=(0,r.useState)(t.displayName),a=Z();return(0,Mx.jsxs)("div",{className:"container",children:[(0,Mx.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),t.displayName!==i&&(await t.updateProfile({displayName:i}),n())},className:"profileForm",children:[(0,Mx.jsx)("input",{type:"text",placeholder:"Display Name",onChange:e=>{const{target:{value:t}}=e;s(t)},value:i,autoFocus:!0,className:"formInput"}),(0,Mx.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn",style:{marginTop:10}})]}),(0,Mx.jsx)("span",{className:"formBtn cancelBtn logOut",onClick:()=>{Ox.signOut(),a("/")},children:"Log Out"})]})},Yx=e=>{let{userObj:t}=e;return(0,Mx.jsx)("nav",{children:(0,Mx.jsxs)("ul",{style:{display:"flex",justifyContent:"center",marginTop:50},children:[(0,Mx.jsx)("li",{children:(0,Mx.jsx)(Xe,{to:"/",style:{marginRight:10},children:(0,Mx.jsx)(Fi,{icon:ji,color:"#04AAFF",size:"2x"})})}),(0,Mx.jsx)("li",{children:(0,Mx.jsxs)(Xe,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},children:[(0,Mx.jsx)(Fi,{icon:jx,color:"#04AAFF",size:"2x"}),(0,Mx.jsx)("span",{style:{marginTop:10},children:t.displayName?`${t.displayName}\uc758 Profile`:"Profile"})]})})]})})},Jx=e=>{let{isLoggedIn:t,userObj:n,refreshUser:r}=e;return(0,Mx.jsxs)(Ye,{children:[t&&(0,Mx.jsx)(Yx,{userObj:n}),(0,Mx.jsx)(ge,{children:t?(0,Mx.jsxs)(Mx.Fragment,{children:[(0,Mx.jsx)(pe,{exact:!0,path:"/",element:(0,Mx.jsx)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:(0,Mx.jsx)(Gx,{userObj:n})})}),(0,Mx.jsx)(pe,{exact:!0,path:"/profile",element:(0,Mx.jsx)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:(0,Mx.jsx)(Qx,{userObj:n,refreshUser:r})})})]}):(0,Mx.jsx)(pe,{exact:!0,path:"/",element:(0,Mx.jsx)(Ux,{})})})]})};const Xx=function(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{Ox.onAuthStateChanged((e=>{i(!!e&&{uid:e.uid,displayName:e.displayName,updateProfile:t=>e.updateProfile(t)}),t(!0)}))}),[]),(0,Mx.jsx)(Mx.Fragment,{children:e?(0,Mx.jsx)(Jx,{isLoggedIn:Boolean(n),userObj:n,refreshUser:()=>{const e=Ox.currentUser;i({uid:e.uid,displayName:e.displayName,updateProfile:t=>e.updateProfile(t)})}}):"initializing..."})};(0,t.createRoot)(document.getElementById("root")).render((0,Mx.jsx)(Xx,{}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.fc21c73a.js.map